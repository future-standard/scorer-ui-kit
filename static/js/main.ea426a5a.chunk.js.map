{"version":3,"sources":["../../src/themes/common.tsx","../../src/themes/light/light.js","../../src/themes/light/typography.js","../../src/themes/light/colors.js","../../src/themes/light/styles.js","../../src/themes/light/custom.js","../../src/Icons/Icon.tsx","../../src/Form/atoms/Switch.tsx","../../src/common/index.ts","../../src/Alerts/atom/AlertBar.tsx","../../src/Alerts/atom/Notification.tsx","../../src/Form/atoms/Button.tsx","../../src/Form/atoms/ButtonWithIcon.tsx","../../src/Indicators/Spinner.tsx","../../src/Form/atoms/ButtonWithLoading.tsx","../../src/Form/atoms/IconButton.tsx","../../src/Form/molecules/ActionButtons.tsx","../../src/Form/atoms/Input.tsx","../../src/Form/atoms/Label.tsx","../../src/Form/atoms/SmallInput.tsx","../../src/Form/atoms/Checkbox.tsx","../../src/svg/LogoMark.tsx","../../src/svg/LogoText.tsx","../../src/svg/checkmark.tsx","../../src/Form/atoms/RadioButton.tsx","../../src/Form/atoms/TextArea.tsx","../../src/Form/atoms/SelectField.tsx","../../src/helpers/index.tsx","../../src/Form/atoms/SliderInput.tsx","../../src/Form/atoms/InputFileButton.tsx","../../src/Form/molecules/DurationSlider.tsx","../../src/Form/molecules/PercentageSlider.tsx","../../src/Form/molecules/PasswordField.tsx","../../src/Form/molecules/TextField.tsx","../../src/Form/atoms/DropArea.tsx","../../src/Form/atoms/CropArea.tsx","../../src/Form/organisms/AvatarUploader.tsx","../../src/Form/molecules/CropTool.tsx","../../src/Misc/atoms/BigIconsSummary.tsx","../../src/Form/organisms/AreaUploadManager.tsx","../../src/Form/Form.tsx","../../src/Filters/atoms/DateTimeBlock.tsx","../../src/Filters/molecules/DatePicker.tsx","../../src/Filters/atoms/FilterDropdownContainer.tsx","../../src/Filters/atoms/FilterButton.tsx","../../src/Form/atoms/FilterOption.tsx","../../src/Misc/atoms/BasicSearchInput.tsx","../../src/Filters/FilterTypes.ts","../../src/hooks/useClickOutside.tsx","../../src/Filters/atoms/FilterDropHandler.tsx","../../src/Filters/atoms/LoadingBox.tsx","../../src/Filters/molecules/FilterDropdown.tsx","../../src/Filters/molecules/SortDropdown.tsx","../../src/Filters/molecules/DropdownDatePicker.tsx","../../src/Filters/molecules/FilterInputs.tsx","../../src/Filters/molecules/FiltersResults.tsx","../../src/Filters/organisms/FilterBar.tsx","../../src/Icons/StatusIcon.tsx","../../src/LineUI/HandleUnit.tsx","../../src/LineUI/LineUnit.tsx","../../src/LineUI/Contexts.tsx","../../src/LineUI/LineSet.tsx","../../src/LineUI/LineUI.tsx","../../src/LineUI/LineUIVideo.tsx","../../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../../src/WebRTCClient.tsx","../../src/LineUI/LineUIRTC.tsx","../../src/LineUI/LineReducer.ts","../../src/hooks/useTitle.tsx","../../src/Pages/atoms/PageTitle.tsx","../../src/Pages/atoms/IntroductionText.tsx","../../src/Pages/molecules/PageHeader.tsx","../../src/Pages/molecules/MultilineContent.tsx","../../src/Misc/atoms/MediaBox.tsx","../../src/Modals/Modal.tsx","../../src/context/ModalContext.tsx","../../src/hooks/useModal.tsx","../../src/hooks/useMediaModal.tsx","../../src/Tables/atoms/TableRowThumbnail.tsx","../../src/Tables/atoms/TypeTableDeviceStatus.tsx","../../src/Tables/atoms/TypeTableCell.tsx","../../src/hooks/useCopyToClipboard.tsx","../../src/Tables/atoms/TypeTableRow.tsx","../../src/Tables/atoms/TableHeaderTitle.tsx","../../src/Tables/molecules/TypeTableHeader.tsx","../../src/Tables/organisms/TypeTable.tsx","../../src/Tables/molecules/EditCell.tsx","../../src/PTZControl/state/PTZReducer.ts","../../src/PTZControl/state/PTZProvider.tsx","../../src/PTZControl/state/usePTZ.tsx","../../src/PTZControl/atoms/Up.tsx","../../src/PTZControl/atoms/Down.tsx","../../src/PTZControl/atoms/Left.tsx","../../src/PTZControl/atoms/Right.tsx","../../src/PTZControl/molecules/Base.tsx","../../src/PTZControl/molecules/ZoomBase.tsx","../../src/PTZControl/atoms/ZoomIn.tsx","../../src/PTZControl/atoms/ZoomOut.tsx","../../src/PTZControl/organisms/Controls.tsx","../../src/Misc/atoms/Tag.tsx","../../src/Misc/molecules/TagList.tsx","../../src/context/NotificationContext.tsx","../../src/hooks/useMediaQuery.ts","../../src/hooks/useBreakpoints.ts","../../src/Modals/ConfirmationModal.tsx","../../src/Global/atoms/Layout.tsx","../../src/Global/atoms/ContextItem.tsx","../../src/hooks/useMenu.ts","../../src/Global/atoms/NavigationItem.tsx","../../src/Global/organisms/MainMenu.tsx","../../src/Global/molecules/UserMenu.tsx","../../src/Global/atoms/NotificationItem.tsx","../../src/Global/molecules/NotificationsHistory.tsx","../../src/Global/molecules/TopBar.tsx","../../src/Tabs/Tabs.tsx","../../src/Tabs/TabList.tsx","../../src/Tabs/atoms/Tab.tsx","../../src/Tabs/TabContent.tsx","../../src/Tabs/atoms/MobileTab.tsx","../../src/Tabs/atoms/TabWithIcon.tsx","../../src/Tabs/molecules/TabsWithIconBar.tsx","../../src/Global/atoms/CloseButton.tsx","../../src/Global/atoms/MobileNavbarContent.tsx","../../src/Global/organisms/MobileMenu.tsx","../../src/Global/atoms/MobileLogoLink.tsx","../../src/Global/molecules/MobileUserMenu.tsx","../../src/Global/organisms/MobileNavbar.tsx","../../src/Global/templates/GlobalUI.tsx","../../src/Global/molecules/Sidebar.tsx","pages/FormPage.tsx","pages/LinePage.tsx","pages/LineRTCPage.tsx","pages/LineVideoPage.tsx","pages/LinksPage.tsx","pages/PTZPage.tsx","svg/logo-mark.svg","svg/logo-text.svg","svg/login-screen.svg","pages/Login.tsx","pages/TablePage.tsx","pages/CustomUserDrawerPage.tsx","pages/TabsPage.tsx","pages/GlobalUIPage.tsx","App.tsx","serviceWorker.ts","i18n.ts","fonts/index.ts","style.ts","index.tsx","svg/ghost-logo.svg","fonts/Lato-Thin.ttf","fonts/Lato-Light.ttf","fonts/Lato-Regular.ttf","fonts/Lato-Bold.ttf","fonts/Monorale-Thin.woff","fonts/Monorale-ThinItalic.woff","fonts/Monorale-ExtraLight.woff","fonts/Monorale-ExtraLightItalic.woff","fonts/Monorale-Light.woff","fonts/Monorale-LightItalic.woff","fonts/Monorale-Regular.woff","fonts/Monorale-Italic.woff","fonts/Monorale-Medium.woff","fonts/Monorale-MediumItalic.woff","fonts/Monorale-SemiBold.woff","fonts/Monorale-SemiBoldItalic.woff","fonts/Monorale-Bold.woff","fonts/Monorale-BoldItalic.woff","fonts/Monorale-ExtraBold.woff","fonts/Monorale-ExtraBoldItalic.woff","fonts/Monorale-Black.woff","fonts/Monorale-BlackItalic.woff"],"names":["fontFamily","ui","data","dimensions","icons","weights","light","regular","heavy","strong","form","button","xsmall","height","padding","iconSize","small","normal","large","input","switch","outer","width","borderRadius","inner","positions","top","off","neutral","locked","on","global","mainMenu","open","closed","animation","easing","primary","inOut","out","in","speed","fast","slow","slower","slowest","deviceSize","medium","xlarge","xxlarge","deviceMediaQuery","typography","colors","styles","custom","label","fill","contrastLine","stroke","highlightLine","grabHandle","point","grabHandleContrast","grabHandleText","handleBase","handleRingLayer","handleReactiveFill","handleReactiveRing","handleContrastLayer","stopStart","stopColor","stopEnd","wrapperCss","css","IconWrapper","styled","IconWrapperForSVG","Icon","icon","size","weight","color","forSvgUsage","theme","useTheme","iconWeight","IconSVG","IconSVGs","resetButtonStyles","IconButton","AlertWrapper","type","IconNames","error","warning","success","info","MessageBox","AlertBar","message","useState","dismiss","setDismiss","useEffect","React","onClick","initAnimation","keyframes","closeAnimation","Container","TextButton","MainMessage","Notification","isPinned","actionTextButton","closeCallback","onTextButtonClick","slideUp","setSlideUp","textClicked","setTextClicked","handleDismiss","useCallback","handleTextClick","animationEnded","mounted","setTimeout","isClosing","onAnimationEnd","document","StyledButton","design","Button","children","props","TextContainer","position","IconContainer","InnerContainer","ButtonWithIcon","disabled","iconColor","circumference","radius","rotate","BaseCircle","styling","RotatingCircle","r","c","sizeGuide","Spinner","sizeVal","strokeWidth","circleRadius","viewBox","xmlns","cx","cy","LoadingButton","$loading","LoadingContainer","ButtonWithLoading","loading","rest","hoverColor","StyledIconButton","ActionContainer","InputActionButton","FeedbackContainer","FeedbackMessage","FeedbackIcon","StyledInput","fieldState","InputContainer","indexOf","Input","placeholder","defaultValue","feedbackMessage","actionCallback","actionIcon","isActionButton","hasAction","feedbackIcon","StyledLabel","LabelText","Label","htmlFor","labelText","rightAlign","p","SwitchPosition","RealInput","SwitchOuter","getPositionKey","switchPos","SwitchInner","SpinnerWrapper","themeState","activeTheming","parseInt","left","offset","checked","intentPosition","Switch","state","leftTheme","rightTheme","onChangeCallback","inputRef","useRef","setPosition","setActiveTheming","switchState","setSwitchState","positionSwitch","updateThemeChoice","stateCheck","onChange","useIntent","ref","defaultChecked","id","x1","x2","y1","y2","fillRule","rx","d","CheckMark","strokeLinecap","strokeLinejoin","CheckboxState","CheckboxOuter","CheckboxInner","visualState","Checkbox","indeterminate","isChecked","setIsChecked","setVisualState","e","readOnly","InnerRadio","StyledTextArea","StyledSelect","getTopLevelPath","isCompact","activePlaceholder","pathname","parts","Thumb","ThumbDiameter","bgColor","HiddenInput","InputFileButton","text","buttonDesign","buttonSize","inputCallback","fileInputRef","handleFile","newFiles","forwardClick","PasswordField","name","showValue","setShowValue","setActionIcon","newValue","TextField","DragAndDrop","DropArea","dropCallback","inDropZone","setInDropZone","onDragEnter","onDragLeave","onDragOver","onDrop","CropLineStyle","resizeSquaresCss","PhotoContainerStyle","canvasHeight","canvasWidth","cropLeft","cropTop","cropWidth","cropHeight","Math","CROP_WIDTH_AREA","PlaceholderText","FormContainer","spacing","Form","Item","IconWrap","TimeColon","InputWrap","DateTimeBlock","allowAfterMidnight","title","hasDate","hasTime","date","Date","setDateCallback","format","displayHours","setDisplayHours","displayMinutes","setDisplayMinutes","setDateHours","value","target","min","endOfDay","set","hours","Number","minutes","seconds","milliseconds","setDateMinutes","isEqual","hide","max","initializeInterval","day","start","end","TODAY","TODAY_INTERVAL","startOfDay","DateTimeArea","TimeZoneOption","TimeZoneLabel","TimeZoneValue","CalendarArea","CalendarHeader","CurrentMonth","PaginateMonth","CalBody","CalRow","CalHRow","CalCell","CalHCell","CalCellB","enDayGuide","jpDayGuide","isDateInterval","DatePicker","dateMode","timeMode","dateTimeTextUpper","dateTimeTextLower","timeZoneTitle","timeZoneValueTitle","hasEmptyValue","updateCallback","initialValue","lang","getInitialValue","selectedRange","setSelectedRange","focusedMonth","setFocusedMonth","targetedDate","setTargetedDate","weeksOfMonth","setWeeksOfMonth","isInitialMount","dayGuide","now","eachWeekOfInterval","startOfMonth","endOfMonth","onCellClick","validRange","updateDay","isAfter","updateStartDate","add","updateEndDate","addMonths","locale","enUS","key","index","days","eachDayOfInterval","endOfWeek","week","cellState","thisMonth","isSameMonth","isToday","isInsideInterval","interval","singleDayRange","intervalToDuration","isWithinInterval","console","isSameDay","validInitial","Inner","FilterDropdownContainer","FlipWrapper","isOpen","hasFlipArrow","ButtonText","FilterButton","isSortAscending","Title","FakeCheckbox","FakeCheckboxInner","CheckMarkWrapper","FakeRadioButton","FakeInnerRadio","selected","FilterOption","optionType","hasBorder","noBackground","CrossButton","BasicSearchInput","hasCrossButton","onCrossClick","isFilterItem","item","useClickOutside","elRef","elCallback","callbackRef","handleClickOutside","eve","ButtonWrapper","ContentBox","openState","FilterDropHandler","buttonIcon","buttonText","minWidth","minHeight","onToggleOpenCallback","onCloseCallback","setOpenState","buttonWrapperRef","mainRef","handleToggleOpen","buttonRect","openLeft","window","openTop","spaceTop","getDropPosition","prev","LoadingText","LoadingBox","loadingText","TopLine","InnerBox","StyledFilterOption","OptionList","ResultsContainer","ResultCounter","SearchWrapper","isValueSelected","isItemSelected","Array","element","getVisibleList","list","newList","maxItems","selectedIndexList","a","b","selectedIndex","visibleListAvailability","listIndex","isSelected","fadeInAnimation","SearchInputWrapper","StyledFilterButton","StyledDropdown","template","isLoading","hasOptionsFilter","searchPlaceholder","maxDisplayedItems","searchResultText","onSelect","visibleList","setVisibleList","searchText","setSearchText","handleClose","handleSelection","newSelected","validSelected","getNewSelected","handleInputFilter","valueString","getFilteredList","isActive","newMessage","StyledDropdownDatePicker","onUpdateCallback","onToggleCallback","pickerValue","isMount","mountedPicker","setMountedPicker","handleUpdateCallback","handleOnClose","handleOnToggle","canReset","ResultsTextWrapper","FilterLabel","FilterLabelText","ClearTextButton","RemoveButton","FilterLabelsGroup","renderLabel","textLabel","isDateFormatValid","resultsDateFormat","isFormatValid","tryDate","validateDateFormat","filterName","hasIcon","StyledFilterResults","labelLists","totalResults","resultTextTemplate","clearText","onRemoveFilter","onClearAll","filterId","StatusCounter","StatusDot","StatusIcon","status","counter","HandleTouchReactionKeyframes","HandleMouseReactionKeyframes","HandleBase","HandleRingLayer","HandleReactiveGroup","HandleReactiveFill","HandleReactiveRing","HandleContrastLayer","HandleShadowLayer","GrabHandleIndexGroup","StopStart","StopEnd","GrabHandleIndexText","IconGroup","HandleUnit","useAngles","angle","unit","lineSetId","x","y","moveCallback","moveEndCB","options","readOnlyHandle","handleInstance","touchDragging","setTouchDragging","mouseDragging","setMouseDragging","touchIndex","setTouchIndex","handleTouchStart","i","touch","handleTouchEnd","handleTouchMove","pageY","handleMouseMove","handleMouseUp","handleMouseDown","maskID","shadowGradientID","showPointHandle","showPointLabel","pointIndexOffset","onTouchStart","onTouchEnd","onTouchMove","onMouseDown","transform","fillID","showIndex","fontSize","ContrastLine","HighlightLine","GrabHandle","GrabHandleContrast","GrabHandleGroup","DMCircle","LineUnit","lineMoveCallback","lineMoveStartCallback","handleFinderActive","revealSetIndex","showMoveHandle","setIndexOffset","showDirectionMark","distance","hideGrabHandle","midpoint","originalRadius","textAnchor","dmCoordinate","angleMode","labelRotate","directionMarkCoordinate","getDirectionMarkLine","LineSetContext","createContext","Point","AreaLabelText","AreaLabel","lineSetData","pointsLength","Textlen","LineSet","getCTM","boundaries","onLineMoveEnd","useContext","dispatch","handleAngles","setHandleAngles","handleRelation","handleRadius","handleUsesAngles","enforceBoundaries","handleMoveCallback","screenCTM","pointer","pointerPosition","newLineSetData","update","points","$merge","lineDragStart","offsetX","handle","offsetY","lineDragUpdate","newPoints","updateHandleAngles","inputHandleData","outputData","originX","nextIndex","nextHandle","towardsY","towardsX","handles","lines","LoadingOverlay","Frame","Image","LineUI","src","onSizeChange","showHandleFinder","showSetIndex","showGrabHandle","showPoint","fixedImgDimensions","boundaryOffset","setBoundaries","handleFinder","setHandleFinder","loaded","setLoaded","h","w","imgSize","setImgSize","setUnit","imgRef","frame","initScaleAndBounds","naturalHeight","naturalWidth","clientHeight","calculateCTM","ctm","handlePositionTipHide","bounds","onLoad","alt","version","onPointerDown","onPointerUp","onPointerLeave","transculent","lineData","lineSet","Video","LineUIVideo","onLoaded","videoOptions","loop","autoPlay","controls","muted","videoRef","videoSize","setVideoSize","videoHeight","videoWidth","onLoadedMetadata","transcalent","Symbol","iterator","asyncIterator","_catch","body","recover","result","then","enabled","peerAddress","maxConnectionAttempts","rtcConfiguration","setStatus","setError","connectionAttempts","setConnectionAttempts","webSocket","peerConnection","closeWebSocket","onServerMessage","handleIncomingError","msg","JSON","pc","RTCPeerConnection","candidate","createCall","sdp","localDescription","description","Promise","RTCSessionDescription","onIncomingSDP","RTCIceCandidate","onIncomingICE","closePeerConnection","event","peerId","getPeerId","ws","WebSocket","setInterval","clearInterval","current","connectToPeer","pointA","action","$set","$splice","newPoint","pointB","makeTitle","delimiter","AreaTitleCss","AreaTitle","AreaLinkTitle","PageTitle","areaTitle","areaHref","updateDocTitle","baseTitle","area","useTitle","to","IntroductionText","PageHeader","introductionText","mediaStyle","isLoaded","hasModalLimits","StyledImage","MediaBox","mediaType","onError","onMediaLoad","videoValues","handleLoad","preload","onCanPlayThrough","CloseIcon","CloseButton","LightBox","Modal","isCloseEnable","closeText","customComponent","onDismiss","dismissCallback","lightBoxRef","ReactDom","defaultContext","modalProps","setModalProps","ModalContext","ModalProvider","setProps","newProps","useModal","setModalOpen","newStatus","updateProps","createModal","modal","isModalOpen","videoDefaultOptions","useMediaModal","createMediaModal","mediaModal","isMediaUrlValid","videoElement","resolve","isValid","img","isMediaModalOpen","setMediaModalOpen","aspect","mediaUrl","hasPreview","hoverZoom","isImageValid","PlayableDrop","TableRowThumbnail","image","setHasPreview","setIsImageValid","handleModal","verifyPreview","currentMediaUrl","currentMediaType","isValidUrl","validateImage","currentImg","TypeTableDeviceStatus","CopyToClipboard","CellContainer","cellStyle","alignment","UnitText","StatusBlip","TypeTableCell","showUnit","showStatus","hideDivider","isLastRow","hasCopyButton","href","copyToClipboard","el","selection","RowContainer","TypeTableRow","selectable","selectCallback","hasStatus","hasThumbnail","hasTypeIcon","rowData","columnConfig","wrappedSelectCallback","isEmpty","_checked","cell","HeaderTitle","TableHeaderTitle","header","sortable","isSortActive","ascending","columnId","indexKey","toggleSort","handleClick","HeaderRow","HeaderItem","headerStyle","TitleItems","GroupTitle","EmptyTitle","MiddleLine","TypeTableHeader","allChecked","isEmptyTable","hasHeaderGroups","defaultAscending","toggleAllCallback","sortCallback","sortSpec","setSortSpec","ascendingState","setAscendingState","toggleAllCallbackWrapper","updatedSort","lastActiveKey","col","newAscending","fixedWidth","column","sortActive","isLastOfGroup","renderGroupHeader","allColls","TableContainer","EmptyTableBox","TypeTable","rows","emptyTableTitle","emptyTableText","setAllChecked","areAllChecked","StyledLoadingButton","connection","address","errorMessage","moving","zooming","stateID","direction","PTZContext","actions","PTZProvider","socketUrl","imageRefresh","useWebSocket","sendJsonMessage","lastMessage","useReducer","reducer","connect","user","pass","port","method","params","move","z","timeout","zoom","stop","disconnect","getImage","intervalHandler","usePTZ","Active","Hover","Up","hover","setHover","activeStart","activeEnd","hoverStart","hoverEnd","onMouseEnter","onMouseLeave","onMouseUp","fillOpacity","active","xlinkHref","filter","Arrow","Down","Left","Right","PTZControl","filterUnits","operator","dx","dy","stdDeviation","in2","values","stopOpacity","k2","k3","mask","ZoomBase","Controls","debug","TagWrapper","sendNotification","NotificationContext","notificationList","NotificationProvider","activeNotification","setActiveNotification","showNotification","nextNotification","displayedNotification","validNotification","newNotification","useMediaQuery","query","matches","setMatches","useLayoutEffect","mediaQuery","handler","useBreakpoints","breakpoints","isSmall","isMedium","isLarge","isXLarge","isXXLarge","activeScreen","Layout","MobileLayout","Content","maxWidth","MainContainer","ContentArea","paddingOverride","ContextTitle","ContextIcon","ContextIndicator","ContextActionBaseCSS","StyledAnchor","ExternalIconWrapper","ContextWrapper","ContextActionA","ContextActionButton","menuOpen","ContextItem","hasSubmenu","contextKey","submenuOpen","compact","isExternalLink","onClickCallback","internal","menuReducer","openMenu","localStorage","isMenuOpen","isMenuPinned","canPin","desktopSize","menuState","Submenu","SubmenuHeader","SubmenuItemTitle","SubmenuItemLink","SubmenuItemAnchor","SubmenuItem","SubmenuContainer","ContextContainer","maxHeight","NavigationItem","topLevelPath","readyCallback","submenu","refSubmenu","submenuHeight","setSubmenuHeight","submenus","generateSubmenus","grouping","output","Logo","LogoMark","LogoType","SVGObject","SVGObjectText","NavigationContainer","MenuFooter","FooterItemContainer","PushContainer","ContainerInner","MainMenu","content","home","logoMark","logoText","keepOpenText","autoHideText","supportUrl","defaultMenuOpen","canAlwaysPin","setMenu","setMenuOpen","setMenuClose","togglePinned","useMenu","focusedContext","setFocusedContext","setLoading","location","useLocation","checkedInItems","autoMenuOpen","autoMenuClose","toggleMenuPin","setFocusedContextCb","onPointerEnter","DrawerTop","DrawerBottom","DrawerHeader","CurrentUser","UserOptions","Logout","LinkMenu","LinkMenuItem","LinkMenuItemA","LanguageMenu","UserMenu","hasLanguage","hasLogout","logoutLink","logoutText","hasCurrentUser","currentUserText","accountOptionText","userSubmenu","userDrawerBespoke","loggedInUser","onLogout","onLanguageToggle","closeOnClick","logoutHandler","handleCloseWhenClick","ImgWrapper","EmptyImg","InfoContainer","Message","TimeMsg","NotificationItem","imgUrl","time","StatusContainer","NotificationWrapper","renderNotifications","items","NotificationsHistory","read","unread","noNotificationsText","readNotificationsText","unreadNotificationsText","SearchBar","SearchInput","ButtonArea","DrawerToggle","DrawerPortalWrapper","Drawer","baseWidth","NotificationsContainer","TopBar","hasNotifications","hasSearch","notificationsHistory","customDrawer","openDrawer","setOpenDrawer","toggleDrawers","drawerKey","prevDrawer","TabContext","setSelected","Tabs","TabListWrapper","TabList","defaultTabId","TabComponent","TabLabel","Tab","tabFor","onChangeTab","TabContent","tabId","LinkTab","MobileTab","closeId","paddingLeft","TextWrapper","MOBILE_NAVBAR_HEIGHT","ContentWrapper","MobileNavbarContent","ItemWrapper","MobileMenu","handleCloseMenu","MobileLogoLink","MobileUserMenu","CLOSE_ID","HeaderContainer","MobileNavbar","GlobalUI","openWidth","LogoContainer","LogoTopText","LogoBottomText","SidebarBox","SidebarHeading","BackLink","logoTextTop","logoTextBottom","Sidebar","div","FormPage","Line","LineReducer","setOptions","fetchLine","fetchDirectionLine","renameLine","renamePointLine","lineIndex","toggleReadOnly","toggleOptions","option","updateBoudaryOffset","style","flex","stringify","padBottom","Provider","SwitchBox","setWS","wsURL","setWsURL","isShowDirection","setShowDirection","setVideoOptions","saveLine","showDirection","handleModalClose","handleMediaModal","marginLeft","areaName","addSet","removeSet","removePoint","addPoint","previous","length","LinksPage","Img","PTZ","host","username","password","formData","setFormData","onSubmit","preventDefault","required","_g2","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","excluded","sourceKeys","keys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","createElement","fontWeight","letterSpacing","forwardRef","gradients","RowCss","Box","margin","LoginForm","SubTitle","actionParagraph","ForgotLink","Link","hyperlink","base","ForgotLinkWrapper","CopyRightStyle","CopyRight","CopyRightLink","CopyRightDot","CopyRightGroup","LoginScreen","LogoBackground","LoginBox","widthDesk","Login","onLogin","alert","setAlert","setForm","onFieldChange","response","log","GhostLogo","getFullYear","SelectRows","pre","initialRows","columns","checkedRowIDs","ids","forEach","row","push","toString","TablePage","setRows","newRows","targetRowIndex","findIndex","CustomContentContainer","divider","ExampleText","CustomUserDrawerPage","useNotifications","Divider","Tab1Container","Tab2Container","TabsPage","GlobalUIPage","App","path","exact","component","LinePage","LineVideoPage","LineRTCPage","LoginPage","PTZPage","Boolean","hostname","match","resources","en","Common","Common_en","ja","Common_ja","i18n","use","LanguageDetector","initReactI18next","init","fallbackLng","keySeparator","interpolation","escapeValue","GlobalStyle","createGlobalStyle","LatoThin","LatoLight","LatoRegular","LatoBold","MonoraleThin","MonoraleThinItalic","MonoraleExtraLight","MonoraleExtraLightItalic","MonoraleLight","MonoraleLightItalic","MonoraleRegular","MonoraleItalic","MonoraleMedium","MonoraleMediumItalic","MonoraleSemiBold","MonoraleSemiBoldItalic","MonoraleBold","MonoraleBoldItalic","MonoraleExtraBold","MonoraleExtraBoldItalic","MonoraleBlack","MonoraleBlackItalic","lightTheme","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","module","exports"],"mappings":"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wC,qJCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,uC,mBCA3CD,EAAOC,QAAU,IAA0B,4C,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,wD,mBCA3CD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,mD,mBCA3CD,EAAOC,QAAU,IAA0B,+C,mBCA3CD,EAAOC,QAAU,IAA0B,8C,mBCA3CD,EAAOC,QAAU,IAA0B,8C,mBCA3CD,EAAOC,QAAU,IAA0B,oD,mBCA3CD,EAAOC,QAAU,IAA0B,gD,mBCA3CD,EAAOC,QAAU,IAA0B,sD,mBCA3CD,EAAOC,QAAU,IAA0B,4C,mBCA3CD,EAAOC,QAAU,IAA0B,kD,mBCA3CD,EAAOC,QAAU,IAA0B,iD,mBCA3CD,EAAOC,QAAU,IAA0B,uD,mBCA3CD,EAAOC,QAAU,IAA0B,6C,mBCA3CD,EAAOC,QAAU,IAA0B,mD","file":"static/js/main.ea426a5a.chunk.js","sourcesContent":["export const fontFamily = {\n  ui: 'Monorale, Hiragino Sans, \"\", Hiragino Kaku Gothic ProN, \" ProN W3\", Roboto, YuGothic, \"\", Meiryo, \"\", sans-serif;',\n  data: 'Lato, Hiragino Sans, \"\", Hiragino Kaku Gothic ProN, \" ProN W3\", Roboto, YuGothic, \"\", Meiryo, \"\", sans-serif;'\n};\n\nexport const dimensions = {\n  icons: {\n    weights: {\n      light: 1,\n      regular: 1.5,\n      heavy: 3,\n      strong: 5\n    }\n  },\n  form: {\n    button: {\n      xsmall: {\n        height: '20px',\n        padding: '0 10px',\n        iconSize: 12,\n      },\n      small: {\n        height: '30px',\n        padding: '0 20px',\n        iconSize: 14,\n      },\n      normal: {\n        height: '40px',\n        padding: '0 20px',\n        iconSize: 16,\n      },\n      large: {\n        height: '60px',\n        padding: '0 20px',\n        iconSize: 20,\n      },\n    },\n    input: {\n      height: '40px'\n    },\n    switch: {\n      outer: {\n        width: '38px',\n        height: '22px',\n        borderRadius: '11px'\n      },\n      inner: {\n        width: '16px',\n        height: '16px',\n        borderRadius: '8px'\n      },\n      positions: {\n        top: '2px',\n        off: '2px',\n        neutral: '10px',\n        locked: '2px',\n        on: '18px',\n      }\n    }\n  },\n  global: {\n    mainMenu: {\n      width: {\n        open: '280px',\n        closed: '80px'\n      }\n    }\n  }\n};\n\nexport const animation = {\n  easing: {\n    primary: {\n      inOut: 'cubic-bezier(0.87, 0, 0.13, 1)',\n      out: 'cubic-bezier(0.16, 1, 0.3, 1)',\n      in: 'cubic-bezier(0.7, 0, 0.84, 0)',\n    }\n  },\n  speed: {\n    fast: '0.175s',\n    normal: '0.35s',\n    slow: '0.7s',\n    slower: '1.4s',\n    slowest: '2.8s'\n  }\n};\n\nexport const deviceSize = {\n  small: 0,\n  medium: 768,\n  large: 1024,\n  xlarge: 1280,\n  xxlarge: 1400,\n};\n\n\nexport const deviceMediaQuery = {\n  small: `(min-width: ${deviceSize.small}px)`,\n  medium: `(min-width: ${deviceSize.medium}px)`,\n  large: `(min-width: ${deviceSize.large}px)`,\n  xlarge: `(min-width: ${deviceSize.xlarge}px)`,\n  xxlarge: `(min-width: ${deviceSize.xxlarge}px)`\n};","import { fontFamily, dimensions, animation, deviceSize, deviceMediaQuery } from '../common';\nimport { typography } from './typography';\nimport { colors } from './colors';\nimport { styles } from './styles';\nimport { custom } from './custom';\n\nexport default {\n  fontFamily,\n  dimensions,\n  typography,\n  colors,\n  styles,\n  animation,\n  custom,\n  deviceSize,\n  deviceMediaQuery\n};\n\n","export const typography = {\n    \"pageHeader\": {\n        \"mainTitle\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"26px\",\n            \"fontWeight\": 600,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(208, 7.7%, 38.2%, 1.000)\"\n        },\n        \"introduction\": {\n            \"textAlign\": \"left\",\n            \"fontStyle\": \"italic\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 300,\n            \"lineHeight\": \"25px\",\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n        },\n        \"areaTitle\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"12px\",\n            \"fontWeight\": 400,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(0, 0%, 46.3%, 1.000)\"\n        }\n    },\n    \"form\": {\n        \"input\": {\n            \"placeholder\": {\n                \"normal\": {\n                    \"textAlign\": \"left\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 46.3%, 0.502)\"\n                },\n                \"compact\": {\n                    \"textAlign\": \"left\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 46.3%, 0.502)\"\n                }\n            },\n            \"value\": {\n                \"normal\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 500,\n                    \"lineHeight\": \"25px\",\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n                },\n                \"compact\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"lineHeight\": \"15px\",\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n                }\n            },\n            \"label\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 400,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n            }\n        },\n        \"label\": {\n            \"default\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"16px\",\n                \"fontWeight\": 300,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 46.3%, 1.000)\"\n            },\n            \"disabled\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"16px\",\n                \"fontWeight\": 300,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 46.3%, 0.651)\"\n            },\n            \"failure\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"16px\",\n                \"fontWeight\": 400,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 67.9%, 67.1%, 1.000)\"\n            },\n            \"meta\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 300,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 56.1%, 1.000)\"\n            },\n            \"meta(Selected)\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 600,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(207, 94.2%, 66.1%, 1.000)\"\n            }\n        },\n        \"labelInformation\": {\n            \"textAlign\": \"left\",\n            \"fontStyle\": \"italic\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 300,\n            \"lineHeight\": \"25px\",\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n        },\n        \"tip\": {\n            \"textAlign\": \"left\",\n            \"fontStyle\": \"italic\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 500,\n            \"lineHeight\": \"25px\",\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(205, 59.7%, 71.8%, 1.000)\"\n        },\n        \"select\": {\n            \"option\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"16px\",\n                \"fontWeight\": 500,\n                \"lineHeight\": \"15px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n            },\n            \"selectedValue\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"16px\",\n                \"fontWeight\": 500,\n                \"lineHeight\": \"15px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 17.6%, 1.000)\"\n            },\n            \"option(Hover)\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"16px\",\n                \"fontWeight\": 500,\n                \"lineHeight\": \"15px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(207, 41.2%, 53.3%, 1.000)\"\n            }\n        },\n        \"feedback\": {\n            \"message\": {\n                \"textAlign\": \"left\",\n                \"fontStyle\": \"italic\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 500,\n                \"lineHeight\": \"20px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n            }\n        },\n        \"button\": {\n            \"primary\": {\n                \"large\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"20px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"normal\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"small\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"xsmall\": {\n                  \"textAlign\": \"center\",\n                  \"fontSize\": \"12px\",\n                  \"fontWeight\": 500,\n                  \"textDecoration\": \"none\",\n                  \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n              }\n            },\n            \"secondary\": {\n                \"large\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"20px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 55.3%, 1.000)\"\n                },\n                \"normal\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 55.3%, 1.000)\"\n                },\n                \"small\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 55.3%, 1.000)\"\n                },\n                \"xsmall\": {\n                  \"textAlign\": \"center\",\n                  \"fontSize\": \"12px\",\n                  \"fontWeight\": 500,\n                  \"textDecoration\": \"none\",\n                  \"color\": \"hsla(0, 0%, 55.3%, 1.000)\"\n              }\n            },\n            \"danger\": {\n                \"large\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"20px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"normal\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"small\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"xsmall\": {\n                  \"textAlign\": \"center\",\n                  \"fontSize\": \"12px\",\n                  \"fontWeight\": 500,\n                  \"textDecoration\": \"none\",\n                  \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n              }\n            }\n        }\n    },\n    \"content\": {\n        \"section-H2\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"20px\",\n            \"fontWeight\": 400,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(208, 7.7%, 38.2%, 1.000)\"\n        },\n        \"sectionH3\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"16px\",\n            \"fontWeight\": 400,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(208, 7.7%, 38.2%, 1.000)\"\n        },\n        \"actionParagraph\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 300,\n            \"lineHeight\": \"25px\",\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n        },\n        \"hyperlink\": {\n            \"hover\": {\n                \"textAlign\": \"left\",\n                \"fontStyle\": \"italic\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 500,\n                \"lineHeight\": \"25px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(195, 98.3%, 45.1%, 1.000)\"\n            },\n            \"base\": {\n                \"textAlign\": \"left\",\n                \"fontStyle\": \"italic\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 500,\n                \"lineHeight\": \"25px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(205, 62.3%, 55.3%, 1.000)\"\n            }\n        }\n    },\n    \"feedbackBar\": {\n        \"message\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 400,\n            \"lineHeight\": \"15px\",\n            \"letterSpacing\": \"-0.2px\",\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n        }\n    },\n    \"searchBar\": {\n        \"placeholder\": {\n            \"textAlign\": \"left\",\n            \"fontStyle\": \"italic\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 700,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(0, 0%, 46.3%, 0.647)\"\n        },\n        \"value\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 600,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(207, 5%, 56.7%, 1.000)\"\n        }\n    },\n    \"meta\": {\n        \"tagList\": {\n            \"emptyStates\": {\n                \"normal\": {\n                    \"textAlign\": \"left\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 46.3%, 1.000)\"\n                },\n                \"small\": {\n                    \"textAlign\": \"left\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"12px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 46.3%, 1.000)\"\n                }\n            },\n            \"item\": {\n                \"normal\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(200, 3%, 38.8%, 1.000)\"\n                },\n                \"small\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"12px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(200, 3%, 38.8%, 1.000)\"\n                }\n            }\n        }\n    },\n    \"table\": {\n        \"columnData\": {\n            \"normalImportance\": {\n                \"right\": {\n                    \"textAlign\": \"right\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n                },\n                \"left\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n                },\n                \"center\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n                }\n            },\n            \"highImportance\": {\n                \"right\": {\n                    \"textAlign\": \"right\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 900,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(196, 9.7%, 55.7%, 1.000)\"\n                },\n                \"center\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 900,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(196, 9.7%, 55.7%, 1.000)\"\n                },\n                \"left\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 900,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(196, 9.7%, 55.7%, 1.000)\"\n                }\n            },\n            \"firstColumn\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 500,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(194, 10.2%, 52%, 1.000)\"\n            },\n            \"lowImportance\": {\n                \"right\": {\n                    \"textAlign\": \"right\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n                },\n                \"center\": {\n                    \"textAlign\": \"center\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n                },\n                \"left\": {\n                    \"textAlign\": \"left\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 500,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n                }\n            },\n            \"unit\": {\n                \"textAlign\": \"right\",\n                \"fontStyle\": \"italic\",\n                \"fontSize\": \"12px\",\n                \"fontWeight\": 500,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(195, 9.8%, 51.8%, 0.722)\"\n            }\n        },\n        \"header\": {\n            \"center\": {\n                \"textAlign\": \"center\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 700,\n                \"letterSpacing\": \"0.4px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(204, 2.4%, 59%, 1.000)\"\n            },\n            \"left\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 700,\n                \"letterSpacing\": \"0.4px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(204, 2.4%, 59%, 1.000)\"\n            },\n            \"right\": {\n                \"textAlign\": \"right\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 700,\n                \"letterSpacing\": \"0.4px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(204, 2.4%, 59%, 1.000)\"\n            },\n          },\n        \"subHeader\": {\n            \"center\": {\n                \"textAlign\": \"center\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 700,\n                \"letterSpacing\": \"0.4px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(204, 2%, 59%, 1.000)\"\n            },\n            \"left\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 700,\n                \"letterSpacing\": \"0.4px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(204, 2%, 59%, 1.000)\"\n            },\n            \"right\": {\n                \"textAlign\": \"right\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 700,\n                \"letterSpacing\": \"0.4px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(204, 2%, 59%, 1.000)\"\n            }\n        }\n    },\n    \"global\": {\n        \"mainMenu\": {\n            \"menuItem\": {\n                \"default\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 34.5%, 0.847)\"\n                },\n                \"active\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 34.5%, 0.851)\"\n                },\n                \"hover\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"16px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 34.5%, 0.851)\"\n                }\n            },\n            \"subheader\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 600,\n                \"textTransform\": \"uppercase\",\n                \"letterSpacing\": \"0.35px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 34.5%, 0.902)\"\n            },\n            \"hidePrompt\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"14px\",\n                \"fontWeight\": 300,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 34.5%, 1.000)\"\n            },\n            \"subItem\": {\n                \"default\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 34.5%, 0.647)\"\n                },\n                \"active\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(214, 14.4%, 46.3%, 1.000)\"\n                },\n                \"hover\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(214, 14.4%, 46.3%, 1.000)\"\n                }\n            },\n            \"identity\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"12px\",\n                \"fontWeight\": 400,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 34.1%, 0.749)\"\n            }\n        },\n        \"topBar\": {\n            \"search\": {\n                \"placeholder\": {\n                    \"textAlign\": \"left\",\n                    \"fontStyle\": \"italic\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 65.5%, 1.000)\"\n                },\n                \"value\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 34.9%, 1.000)\"\n                }\n            }\n        }\n    },\n    \"filters\": {\n        \"datepicker\": {\n            \"metaHeader\": {\n                \"default\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 300,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 56.1%, 1.000)\"\n                },\n                \"active\": {\n                    \"textAlign\": \"left\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 600,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(207, 94.2%, 66.1%, 1.000)\"\n                }\n            },\n            \"calendar\": {\n                \"active\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 400,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"otherMonth\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 400,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(206, 6.3%, 49.4%, 0.502)\"\n                },\n                \"default\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"14px\",\n                    \"fontWeight\": 400,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 46.3%, 1.000)\"\n                },\n                \"header\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"12px\",\n                    \"fontWeight\": 700,\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 82%, 1.000)\"\n                }\n            },\n            \"monthLink\": {\n                \"default\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"12px\",\n                    \"fontWeight\": 700,\n                    \"lineHeight\": \"20px\",\n                    \"textTransform\": \"uppercase\",\n                    \"letterSpacing\": \"0.4px\",\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 75.7%, 1.000)\"\n                },\n                \"hover\": {\n                    \"textAlign\": \"center\",\n                    \"fontSize\": \"12px\",\n                    \"fontWeight\": 700,\n                    \"lineHeight\": \"20px\",\n                    \"textTransform\": \"uppercase\",\n                    \"letterSpacing\": \"0.4px\",\n                    \"textDecoration\": \"none\",\n                    \"color\": \"hsla(0, 0%, 100%, 1.000)\"\n                }\n            },\n            \"focusedMonth\": {\n                \"textAlign\": \"center\",\n                \"fontSize\": \"20px\",\n                \"fontWeight\": 400,\n                \"lineHeight\": \"20px\",\n                \"letterSpacing\": \"0.5px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(215, 23.5%, 64.1%, 1.000)\"\n            },\n            \"focusedYear\": {\n                \"textAlign\": \"center\",\n                \"fontSize\": \"10px\",\n                \"fontWeight\": 700,\n                \"lineHeight\": \"20px\",\n                \"textTransform\": \"uppercase\",\n                \"letterSpacing\": \"0.3333333px\",\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(215, 23.5%, 64.1%, 1.000)\"\n            }\n        },\n        \"value\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"14px\",\n            \"fontWeight\": 500,\n            \"letterSpacing\": \"0.2px\",\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(0, 0%, 56.1%, 1.000)\"\n        },\n        \"subOption\": {\n            \"label\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"12px\",\n                \"fontWeight\": 300,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(0, 0%, 46.3%, 1.000)\"\n            },\n            \"value\": {\n                \"textAlign\": \"left\",\n                \"fontSize\": \"13px\",\n                \"fontWeight\": 500,\n                \"textDecoration\": \"none\",\n                \"color\": \"hsla(202, 6.2%, 74.5%, 1.000)\"\n            }\n        },\n        \"presetAction\": {\n            \"textAlign\": \"left\",\n            \"fontSize\": \"13px\",\n            \"fontWeight\": 500,\n            \"textDecoration\": \"none\",\n            \"color\": \"hsla(202, 6.2%, 74.5%, 1.000)\"\n        }\n    }\n};","export const colors = {\n    \"pureBase\": \"hsla(0, 0%, 100%, 1.000)\",\n    \"pureTop\": \"hsla(0, 0%, 0%, 1.000)\",\n    \"divider\": \"hsla(0, 0%, 93.3%, 1.000)\",\n    \"icons\": {\n        \"inverse\": \"hsla(0, 0%, 100%, 1.000)\",\n        \"mono\": \"hsla(0, 0%, 25.1%, 1.000)\",\n        \"dimmed\": \"hsla(0, 0%, 65.1%, 1.000)\",\n        \"subtle\": \"hsla(0, 0%, 85.1%, 1.000)\",\n        \"primary\": \"hsla(205, 100%, 65.1%, 1.000)\",\n        \"danger\": \"hsla(0, 100%, 70%, 1.000)\"\n    },\n    \"menu\": {\n        \"active\": \"hsla(215, 100%, 75.1%, 1.000)\",\n        \"hover\": \"hsla(200, 77.8%, 77.1%, 1.000)\",\n        \"default\": \"hsla(200, 77.8%, 77.1%, 0.000)\",\n        \"indicator\": \"hsla(240, 1.2%, 84.1%, 0.502)\",\n        \"passive\": \"hsla(215, 100%, 75.1%, 0.149)\"\n    },\n    \"feedback\": {\n        \"error\": \"hsla(0, 78.8%, 70.4%, 1.000)\",\n        \"info\": \"hsla(205, 77.4%, 63.5%, 1.000)\",\n        \"neutral\": \"hsla(205, 22.1%, 66.3%, 1.000)\",\n        \"success\": \"hsla(136, 49.5%, 57.3%, 1.000)\",\n        \"warning\": \"hsla(30, 91%, 61%, 1.000)\"\n    },\n    \"status\": {\n        \"caution\": \"hsla(57, 57.7%, 62.9%, 1.000)\",\n        \"danger\": \"hsla(0, 63.5%, 64.5%, 1.000)\",\n        \"folder\": \"hsla(207, 95.3%, 66.5%, 1.000)\",\n        \"good\": \"hsla(126, 48.1%, 68.2%, 1.000)\",\n        \"neutral\": \"hsla(0, 0%, 91.8%, 1.000)\",\n        \"highlight\": \"hsla(207, 95.3%, 66.5%, 1.000)\"\n    }\n};","export const styles = {\n    \"generic\": {\n        \"transparent\": {}\n    },\n    \"filterBar\": {\n        \"divider\": {\n            \"backgroundColor\": \"hsla(0, 0%, 89.4%, 1.000)\"\n        }\n    },\n    \"form\": {\n        \"input\": {\n            \"default\": {\n                \"normal\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(120, 1.3%, 85.3%, 1.000)\"\n                },\n                \"focused\": {\n                    \"boxShadow\": \"0px 3px 7px 0px hsla(207, 65.8%, 31%, 0.078)\",\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(205, 58.9%, 71.4%, 1.000)\"\n                }\n            },\n            \"disabled\": {\n                \"normal\": {\n                    \"backgroundColor\": \"hsla(206, 36.8%, 96.3%, 1.000)\",\n                    \"borderColor\": \"hsla(120, 1.3%, 85.3%, 1.000)\"\n                },\n                \"focused\": {\n                  \"boxShadow\": \"0px 3px 7px 0px hsla(207, 65.8%, 31%, 0.078)\",\n                  \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                  \"borderColor\": \"hsla(205, 58.9%, 71.4%, 1.000)\"\n                },\n\n            },\n            \"subdivision\": {\n                \"backgroundColor\": \"hsla(120, 1.3%, 85.3%, 1.000)\"\n            },\n            \"required\": {\n                \"focused\": {\n                    \"boxShadow\": \"0px 3px 7px 0px hsla(207, 67.8%, 35.3%, 0.071)\",\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(205, 58.9%, 71.4%, 1.000)\"\n                },\n                \"normal\": {\n                    \"borderColor\": \"hsla(205, 58.9%, 71.4%, 1.000)\"\n                }\n            },\n            \"valid\": {\n                \"focused\": {\n                    \"boxShadow\": \"0px 3px 5px 0px hsla(120, 76.6%, 15.1%, 0.071)\",\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(120, 35.2%, 71.6%, 1.000)\"\n                },\n                \"normal\": {\n                    \"borderColor\": \"hsla(120, 35.2%, 71.6%, 1.000)\"\n                }\n            },\n            \"invalid\": {\n                \"focused\": {\n                    \"boxShadow\": \"0px 3px 7px 0px hsla(0, 100%, 50%, 0.102)\",\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(0, 78.8%, 70.4%, 1.000)\"\n                },\n                \"normal\": {\n                    \"borderColor\": \"hsla(0, 78.8%, 70.4%, 1.000)\"\n                }\n            },\n            \"processing\": {\n                \"focused\": {\n                    \"boxShadow\": \"0px 3px 7px 0px hsla(195, 67.8%, 35.3%, 0.071)\",\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(195, 79.5%, 71.4%, 1.000)\"\n                },\n                \"normal\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\",\n                    \"borderColor\": \"hsla(195, 79.5%, 71.4%, 1.000)\"\n                }\n            },\n            \"seperatedValues\": {\n                \"background\": {\n                    \"backgroundImage\": \"linear-gradient(315.00deg, hsla(205, 82.4%, 64.3%, 1.000) 0%, hsla(195, 83.5%, 54.7%, 1.000) 100%)\"\n                },\n                \"hoverHighlight\": {\n                    \"backgroundColor\": \"hsla(195, 84.3%, 67.5%, 1.000)\"\n                }\n            }\n        },\n        \"button\": {\n            \"primary\": {\n                \"default\": {\n                    \"backgroundImage\": \"linear-gradient(135.00deg, hsla(200, 77.5%, 68.6%, 1.000) 0%, hsla(207, 80.2%, 64.3%, 1.000) 100%)\"\n                },\n                \"hover\": {\n                    \"backgroundColor\": \"hsla(207, 88.2%, 60%, 1.000)\"\n                },\n                \"active\": {\n                    \"backgroundColor\": \"hsla(195, 79.5%, 71.4%, 1.000)\"\n                },\n                \"divider\": {\n                    \"backgroundColor\": \"hsla(202, 70.4%, 62.9%, 1.000)\"\n                },\n                \"disabled\": {\n                    \"backgroundImage\": \"linear-gradient(135.00deg, hsla(200, 77.5%, 68.6%, 1.000) 0%, hsla(207, 80.2%, 64.3%, 1.000) 100%)\"\n                },\n                \"actionArea\": {\n                    \"backgroundImage\": \"linear-gradient(135.00deg, hsla(200, 77.5%, 68.6%, 1.000) 0%, hsla(207, 80.2%, 64.3%, 1.000) 100%)\"\n                }\n            },\n            \"secondary\": {\n                \"default\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 94.9%, 1.000)\"\n                },\n                \"hover\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 85.9%, 1.000)\"\n                },\n                \"active\": {\n                    \"backgroundColor\": \"hsla(204, 18.2%, 78.4%, 1.000)\"\n                },\n                \"disabled\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 97.3%, 1.000)\"\n                },\n                \"divider\": {\n                    \"backgroundColor\": \"hsla(204, 18.2%, 78.4%, 0.302)\"\n                },\n                \"actionArea\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 94.9%, 0.302)\"\n                }\n            },\n            \"danger\": {\n                \"default\": {\n                    \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 54%, 60.8%, 1.000) 0%, hsla(0, 71.4%, 67.1%, 1.000) 100%)\"\n                },\n                \"hover\": {\n                    \"backgroundColor\": \"hsla(0, 88.4%, 66.3%, 1.000)\"\n                },\n                \"active\": {\n                    \"backgroundColor\": \"hsla(0, 78.8%, 70.4%, 1.000)\"\n                },\n                \"disabled\": {\n                    \"backgroundColor\": \"hsla(0, 78.7%, 85.3%, 1.000)\"\n                },\n                \"divider\": {\n                    \"backgroundColor\": \"hsla(0, 62.1%, 61.8%, 1.000)\"\n                },\n                \"actionArea\": {\n                    \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 54%, 60.8%, 1.000) 0%, hsla(0, 71.4%, 67.1%, 1.000) 100%)\"\n                }\n            }\n        },\n        \"switch\": {\n            \"off\": {\n                \"default\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(180.00deg, hsla(210, 30%, 96.1%, 1.000) 0%, hsla(203, 41.9%, 93.9%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(208, 24.6%, 77.6%, 0.651)\"\n                    },\n                    \"inner\": {\n                        \"backgroundImage\": \"linear-gradient(315.00deg, hsla(205, 82.4%, 64.3%, 1.000) 0%, hsla(195, 83.5%, 54.7%, 1.000) 100%)\"\n                    }\n                },\n                \"disabled\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(180.00deg, hsla(0, 0%, 100%, 1.000) 0%, hsla(0, 0%, 98.8%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(208, 22.7%, 85.3%, 0.651)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(120, 1.3%, 85.3%, 1.000)\"\n                    }\n                },\n                \"loading\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(180.00deg, hsla(210, 30%, 96.1%, 1.000) 0%, hsla(203, 41.9%, 93.9%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(208, 24.6%, 77.6%, 0.651)\"\n                    }\n                }\n            },\n            \"on\": {\n                \"default\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(317.51deg, hsla(204, 78.4%, 72.7%, 1.000) 0%, hsla(195, 83.2%, 67.3%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(205, 66.5%, 61.4%, 1.000)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                    }\n                },\n                \"disabled\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(180.00deg, hsla(205, 61.9%, 87.6%, 1.000) 0%, hsla(204, 45.5%, 84.9%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(205, 89.5%, 85.1%, 1.000)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                    }\n                },\n                \"loading\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(315.00deg, hsla(204, 68.3%, 72.7%, 0.647) 0%, hsla(195, 83.2%, 67.3%, 0.655) 100%)\",\n                        \"borderColor\": \"hsla(205, 66.5%, 61.4%, 0.651)\"\n                    }\n                }\n            },\n            \"failure\": {\n                \"default\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 68.5%, 67.6%, 1.000) 0%, hsla(0, 69.1%, 65.7%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(0, 66.5%, 61.4%, 1.000)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                    }\n                },\n                \"loading\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 60.6%, 73.1%, 1.000) 0.4%, hsla(0, 57.9%, 73.9%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(0, 54.2%, 67.5%, 1.000)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                    }\n                }\n            },\n            \"danger\": {\n                \"default\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 68%, 66.9%, 1.000) 0%, hsla(20, 81.2%, 64.5%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(0, 51.2%, 60.6%, 1.000)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                    }\n                },\n                \"loading\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 79.5%, 77.1%, 1.000) 0%, hsla(20, 96%, 80.4%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(0, 62%, 73.1%, 1.000)\"\n                    }\n                },\n                \"disabled\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(317.51deg, hsla(0, 57%, 81.8%, 1.000) 0%, hsla(19, 100%, 84.9%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(0, 78.7%, 85.3%, 1.000)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                    }\n                }\n            },\n            \"locked\": {\n                \"default\": {\n                    \"outer\": {\n                        \"backgroundImage\": \"linear-gradient(180.00deg, hsla(0, 0%, 100%, 1.000) 0%, hsla(0, 0%, 98.8%, 1.000) 100%)\",\n                        \"borderColor\": \"hsla(208, 22.7%, 85.3%, 0.651)\"\n                    },\n                    \"inner\": {\n                        \"backgroundColor\": \"hsla(0, 0%, 89.4%, 1.000)\"\n                    }\n                }\n            }\n        },\n        \"checkbox\": {\n            \"unchecked\": {\n                \"disabled\": {\n                    \"backgroundColor\": \"hsla(0, 0%, 98.8%, 1.000)\",\n                    \"borderColor\": \"hsla(210, 20%, 90.2%, 1.000)\",\n                },\n                \"default\": {\n                    \"borderColor\": \"hsla(208, 24.6%, 77.6%, 1.000)\"\n                },\n                \"hover\": {\n                    \"borderColor\": \"hsla(195, 94.2%, 66.1%, 1.000)\"\n                }\n            },\n            \"checked\": {\n                \"disabled\": {\n                    \"boxShadow\": \"inset 0px 1px 5px 0px hsla(205, 50.3%, 30%, 0.051)\",\n                    \"backgroundColor\": \"hsla(210, 20%, 90.2%, 1.000)\",\n                },\n                \"default\": {\n                    \"boxShadow\": \"inset 0px 1px 5px 0px hsla(205, 50.3%, 30%, 0.051)\",\n                    \"backgroundColor\": \"hsla(207, 95.3%, 66.5%, 1.000)\"\n                },\n                \"hover\": {\n                    \"boxShadow\": \"inset 0px 1px 5px 0px hsla(205, 50.3%, 30%, 0.051)\",\n                    \"backgroundColor\": \"hsla(195, 95.3%, 66.5%, 1.000)\"\n                }\n            },\n            \"indeterminate\": {\n                \"hover\": {\n                    \"boxShadow\": \"inset 0px 1px 5px 0px hsla(205, 50.3%, 30%, 0.051)\",\n                    \"backgroundColor\": \"hsla(195, 85.4%, 73.1%, 1.000)\"\n                },\n                \"default\": {\n                    \"boxShadow\": \"inset 0px 1px 5px 0px hsla(205, 50.3%, 30%, 0.051)\",\n                    \"backgroundColor\": \"hsla(205, 89.5%, 77.6%, 1.000)\"\n                }\n            }\n        }\n    },\n    \"global\": {\n        \"mainMenu\": {\n            \"iconBackground\": {\n                \"active\": {\n                    \"backgroundColor\": \"hsla(215, 100%, 75.1%, 1.000)\"\n                },\n                \"hover\": {\n                    \"backgroundColor\": \"hsla(200, 77.8%, 77.1%, 1.000)\"\n                },\n                \"default\": {\n                    \"backgroundColor\": \"hsla(200, 77.8%, 77.1%, 0.000)\"\n                }\n            },\n            \"background\": {\n                \"boxShadow\": \"5px 0px 10px 0px hsla(205, 16%, 76.7%, 0.102)\",\n                \"backgroundColor\": \"hsla(0, 0%, 99.6%, 1.000)\"\n            },\n            \"lines\": {\n                \"backgroundColor\": \"hsla(0, 0%, 93.3%, 1.000)\"\n            },\n            \"footerBackground\": {\n                \"backgroundColor\": \"hsla(0, 0%, 99.6%, 0.851)\"\n            }\n        },\n        \"background\": {\n            \"backgroundImage\": \"linear-gradient(180.00deg, hsla(210, 20%, 98%, 1.000) 0%, hsla(210, 20%, 96.1%, 1.000) 100%)\"\n        }\n    },\n    \"indicators\": {\n        \"spinner\": {\n            \"danger\": {\n                \"base\": {\n                    \"borderColor\": \"hsla(0, 78.8%, 70.4%, 1.000)\"\n                },\n                \"top\": {\n                    \"borderColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                }\n            },\n            \"secondary\": {\n                \"top\": {\n                    \"borderColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"base\": {\n                    \"borderColor\": \"hsla(0, 0%, 75.7%, 1.000)\"\n                }\n            },\n            \"primary\": {\n                \"top\": {\n                    \"borderColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"base\": {\n                    \"borderColor\": \"hsla(195, 89.4%, 81.6%, 1.000)\"\n                }\n            },\n            \"simple\": {\n                \"top\": {\n                    \"borderColor\": \"hsla(0, 0%, 100%, 1.000)\"\n                },\n                \"base\": {\n                    \"borderColor\": \"hsla(0, 0%, 76.9%, 0.329)\"\n                }\n            }\n        }\n    },\n    \"filters\": {\n        \"dropdownContainer\": {\n            \"background\": {\n                \"boxShadow\": \"0px 5px 25px 0px hsla(210, 66.9%, 46.3%, 0.122)\",\n                \"backgroundColor\": \"hsla(0, 0%, 100%, 1.000)\"\n            },\n            \"topBorder\": {\n                \"backgroundColor\": \"hsla(205, 100%, 72%, 1.000)\"\n            }\n        }\n    },\n    \"general\": {\n        \"divider\": {\n            \"backgroundColor\": \"hsla(0, 0%, 93.3%, 1.000)\"\n        }\n    },\n    \"feedbackBar\": {\n        \"neutral\": {\n            \"backgroundColor\": \"hsla(205, 22.1%, 66.3%, 1.000)\"\n        },\n        \"error\": {\n            \"backgroundColor\": \"hsla(0, 78.8%, 70.4%, 1.000)\"\n        },\n        \"info\": {\n            \"backgroundColor\": \"hsla(205, 77.4%, 63.5%, 1.000)\"\n        },\n        \"success\": {\n            \"backgroundColor\": \"hsla(136, 49.5%, 57.3%, 1.000)\"\n        },\n        \"warning\": {\n            \"backgroundColor\": \"hsla(30, 91%, 61%, 1.000)\"\n        }\n    }\n};","export const custom = {\n  \"lines\":{\n    \"primary\": {\n      label: {\n          fill: \"#fff\"//\"hsla(205deg, 80%, 25%, 100%)\"\n      },\n      contrastLine: {\n          stroke: 'hsla(205deg, 80%, 45%, 100%);'\n      },\n      highlightLine: {\n          stroke: 'hsla(205deg, 45%, 90%, 90%);'\n      },\n      grabHandle: {\n          fill: 'hsla(205deg, 45%, 90%, 100%)',\n          stroke: 'hsla(205deg, 45%, 100%, 100%)'\n      },\n      point:{\n        fill: 'hsla(205deg, 45%, 90%, 100%)',\n      },\n      grabHandleContrast:{\n          stroke: 'hsla(205deg, 80%, 45%, 100%)'\n      },\n      grabHandleText:{\n          fill: 'hsla(205deg, 80%, 25%, 100%);'\n      },\n      handleBase: {\n          fill: 'hsla(235deg, 100%, 80%, 100%);'\n      },\n      handleRingLayer: {\n          stroke: 'hsla(205deg, 100%, 89%, 100%);'\n      },\n      handleReactiveFill:{\n          fill: 'hsla(192deg, 100%, 45%, 100%);'\n      },\n      handleReactiveRing:{\n          stroke: 'hsla(205deg, 100%, 36%, 27%);'\n      },\n      handleContrastLayer:{\n          stroke: 'hsla(205deg, 100%, 36%, 15%);'\n      },\n      stopStart:{\n          stopColor:' hsla(205deg, 100%, 15%, 35%);'\n      },\n      stopEnd:{\n          stopColor: 'hsla(205deg, 100%, 15%, 0%)'\n\n      }\n\n  },\n  \"secondary\": {\n      label: {\n          fill: \"#fff\"//\"hsla(205deg, 80%, 25%, 100%)\"\n      },\n      contrastLine: {\n          stroke: 'hsla(120deg, 80%, 45%, 100%);'\n      },\n      highlightLine: {\n          stroke: 'hsla(120deg, 45%, 90%, 90%);'\n      },\n      grabHandle: {\n          fill: 'hsla(120deg, 45%, 90%, 100%)',\n          stroke: 'hsla(120deg, 45%, 100%, 100%)'\n      },\n      point:{\n        fill: 'hsla(120deg, 45%, 90%, 100%)',\n      },\n      grabHandleContrast:{\n          stroke: 'hsla(120deg, 80%, 45%, 100%)'\n      },\n      grabHandleText:{\n          fill: 'hsla(120deg, 80%, 25%, 100%);'\n      },\n      handleBase: {\n          fill: 'hsla(150deg, 100%, 80%, 100%);'\n      },\n      handleRingLayer: {\n          stroke: 'hsla(120deg, 100%, 89%, 100%);'\n      },\n      handleReactiveFill:{\n          fill: 'hsla(108deg, 100%, 45%, 100%);'\n      },\n      handleReactiveRing:{\n          stroke: 'hsla(120deg, 100%, 36%, 27%);'\n      },\n      handleContrastLayer:{\n          stroke: 'hsla(120deg, 100%, 36%, 15%);'\n      },\n      stopStart:{\n          stopColor:' hsla(120deg, 100%, 15%, 35%);'\n      },\n      stopEnd:{\n          stopColor: 'hsla(120deg, 100%, 15%, 0%)'\n\n      }\n  },\n  \"danger\": {\n      label: {\n          fill: \"#fff\"//\"hsla(205deg, 80%, 25%, 100%)\"\n      },\n      contrastLine: {\n          stroke: 'hsla(0, 80%, 45%, 100%);'\n      },\n      highlightLine: {\n          stroke: 'hsla(0, 45%, 90%, 90%);'\n      },\n      grabHandle: {\n          fill: 'hsla(0, 45%, 90%, 100%)',\n          stroke: 'hsla(0, 45%, 100%, 100%)'\n      },\n      point:{\n        fill: 'hsla(0, 45%, 90%, 100%)',\n      },\n      grabHandleText:{\n          fill: 'hsla(0, 80%, 25%, 100%);'\n      },\n      grabHandleContrast:{\n          stroke: 'hsla(0, 80%, 45%, 100%)'\n      },\n      handleBase: {\n          fill: 'hsla(30deg, 100%, 80%, 100%);'\n      },\n      handleRingLayer: {\n          stroke: 'hsla(0, 100%, 89%, 100%);'\n      },\n      handleReactiveFill:{\n          fill: 'hsla(348deg, 100%, 45%, 100%);'\n      },\n      handleReactiveRing:{\n          stroke: 'hsla(0deg, 100%, 36%, 27%);'\n      },\n      handleContrastLayer:{\n          stroke: 'hsla(0deg, 100%, 36%, 15%);'\n      },\n      stopStart:{\n          stopColor:' hsla(0, 100%, 15%, 35%);'\n      },\n      stopEnd:{\n          stopColor: 'hsla(0, 100%, 15%, 0%);'\n      }\n    }\n  }\n};","import React from 'react';\nimport styled, { css, useTheme } from 'styled-components';\nimport { IconSVGs } from '@future-standard/icons';\n\nimport { dimensions } from '../themes/common';\n\nconst wrapperCss = css`\n  svg {\n    overflow: visible;\n    vector-effect: non-scaling-stroke;\n\n    line, path, circle, ellipse, foreignObject, polygon, polyline, rect, text, textPath, tspan {\n      vector-effect: non-scaling-stroke;\n    }\n  }\n`;\nconst IconWrapper = styled.div`\n  ${wrapperCss};\n`;\n\nconst IconWrapperForSVG = styled.g`\n  ${wrapperCss};\n`;\n\nexport { IconWrapper, IconWrapperForSVG, IconSVGs };\n\nexport interface IconProps {\n  icon: string;\n  size?: number;\n  weight?: 'light' | 'regular' | 'heavy' | 'strong'\n  color?: ISvgIcons['color']\n  forSvgUsage?: boolean\n}\n\nconst Icon: React.FC<IconProps> = ({ icon, size = 24, weight = 'regular', color = 'mono', forSvgUsage = false }) => {\n\n  const theme : any = useTheme();\n  const iconWeight: number = dimensions.icons.weights[weight];\n  //@ts-ignore\n  const IconSVG = IconSVGs[icon];\n\n  return (\n    IconSVG != null ?\n      forSvgUsage ?\n        <IconWrapperForSVG>\n          {IconSVG({ size: size, weight: iconWeight, color: theme.colors.icons[color] })}\n        </IconWrapperForSVG>\n        :\n        <IconWrapper>\n          {IconSVG({ size: size, weight: iconWeight, color: theme.colors.icons[color] })}\n        </IconWrapper>\n      :\n      null\n  );\n\n};\n\nexport default Icon;","import React, { useRef, useEffect, useState, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '../../Icons/Icon';\nimport Spinner from '../../Indicators/Spinner';\n\nenum SwitchPosition {\n  Off = 0,\n  On = 1,\n  Neutral = 2,\n  Locked = 3\n}\n\nconst intentPosition = (left: string, checked?: boolean) : string => {\n  let offset = checked ? -2 : 2;\n  let intentLeft = (parseInt(left) + offset).toString();\n\n  return `${intentLeft}px`;\n};\n\nconst RealInput = styled.input`\n  display: none;\n`;\nconst SwitchOuter = styled.div`\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  cursor: pointer;\n  position: relative;\n`;\nconst getPositionKey = (switchPos : SwitchPosition) => {\n  switch (switchPos) {\n    case SwitchPosition.Off:\n      return 'off';\n    case SwitchPosition.On:\n      return 'on';\n    case SwitchPosition.Neutral:\n      return 'neutral';\n    case SwitchPosition.Locked:\n      return 'locked';\n    default:\n      return 'off';\n  }\n\n};\n\nconst SwitchInner = styled.div`\n  position: absolute;\n  box-sizing: border-box;\n`;\n\nconst LabelText = styled.span`\n  font-family: ${({theme}) => theme.fontFamily.ui };\n\n  flex: 1;\n  margin-left: 10px;\n  display: block;\n\n  line-height: ${ p => p.theme.dimensions.form.switch.outer.height };\n\n  ${ p => p.theme.typography.form.input.label };\n`;\n\nconst IconWrapper = styled.div`\n  position: absolute;\n  width: inherit;\n  height: inherit;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  svg {\n    display: block;\n  }\n`;\nconst SpinnerWrapper = styled.div`\n  margin-top: 1px;\n`;\n\nconst Container = styled.label<{activeTheming: string, $loading: boolean, useIntent: boolean, themeState: string, position: SwitchPosition, checked?: boolean}>`\n  user-select: none;\n  display: flex;\n\n  ${SwitchInner}{\n    ${({theme, position, themeState, activeTheming}) => theme && css`\n      ${theme.dimensions.form.switch.inner};\n      left: ${theme.dimensions.form.switch.positions[getPositionKey(position)]};\n      top: ${theme.dimensions.form.switch.positions.top};\n      transition:\n        left ${theme.animation.speed.normal} ${theme.animation.easing.primary.out},\n        border ${theme.animation.speed.normal} ${theme.animation.easing.primary.out},\n        width ${theme.animation.speed.normal} ${theme.animation.easing.primary.out};\n\n      ${theme.styles.form.switch[activeTheming][themeState].inner}\n    `}\n\n    ${p => p.activeTheming === 'locked' && css`\n      width: calc(100% - ${parseInt(p.theme.dimensions.form.switch.positions.locked) * 2}px);\n    `}\n\n    ${p => p.$loading && css`\n      background: transparent;\n      top: 1px;\n    `}\n  }\n\n  ${SwitchOuter}{\n    ${({theme, activeTheming, themeState}) => theme && css`\n      ${theme.styles.form.switch[activeTheming][themeState].outer};\n      ${theme.dimensions.form.switch.outer}};\n      flex: 0 0 ${theme.dimensions.form.switch.outer.width}};\n    `}\n  }\n\n  &:hover {\n    ${SwitchInner}{\n      left: ${p => p.useIntent && intentPosition(p.theme.dimensions.form.switch.positions[getPositionKey(p.position)], p.checked)};\n    }\n  }\n`;\n\ntype TypeSwitchState = 'default' | 'loading' | 'locked' | 'disabled' | 'failure';\n\ninterface IProps {\n  labelText?: string\n  leftTheme?: string\n  rightTheme?: string\n  state?: TypeSwitchState\n  checked?: boolean\n  onChangeCallback?: (checked: boolean, indeterminate?: boolean) => void;\n}\n\nconst Switch : React.FC<IProps> = ({ state = 'default', leftTheme = 'off', rightTheme = 'on', labelText, onChangeCallback, checked = false}) => {\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [ position, setPosition ] = useState<SwitchPosition>(checked ? SwitchPosition.On : SwitchPosition.Off);\n  const [ activeTheming, setActiveTheming ] = useState<string>( leftTheme );\n  const [ switchState, setSwitchState ] = useState<TypeSwitchState>('default');\n\n  useEffect(() => {\n    setPosition(checked ? SwitchPosition.On : SwitchPosition.Off);\n    if (inputRef.current) {\n      inputRef.current.checked = checked;\n    }\n  }, [checked]);\n\n  const positionSwitch = useCallback(() => {\n    if(inputRef.current?.checked){\n     setPosition(SwitchPosition.On);\n     setActiveTheming(rightTheme);\n   } else if(!inputRef.current?.checked){\n     setPosition(SwitchPosition.Off);\n     setActiveTheming(leftTheme);\n   }\n  }, [setPosition, setActiveTheming, leftTheme, rightTheme, inputRef]);\n\n  const customOnChange = () => {\n    positionSwitch();\n    if(onChangeCallback){ onChangeCallback(inputRef.current?.checked || false); }\n  };\n\n  /**\n   * updateThemeChoice()\n   * If for some reason we need to change the left or right theme in context, this makes sure\n   * things get updated. (i.e. in StoryBook)\n   */\n  const updateThemeChoice = useCallback(() => {\n    if(position === SwitchPosition.On){\n      setActiveTheming(rightTheme);\n    } else if(position === SwitchPosition.Off){\n      setActiveTheming(leftTheme);\n    }\n  }, [position, rightTheme, leftTheme]);\n\n  /** Watch for that theme change.  */\n  useEffect(() => {\n    updateThemeChoice();\n  }, [leftTheme, rightTheme, updateThemeChoice]);\n\n  useEffect(() => {\n    setSwitchState( stateCheck(state) );\n  }, [state, setSwitchState]);\n\n  /** Watch for locking prop. */\n  useEffect(() => {\n    if(state === 'locked'){\n      setPosition(SwitchPosition.Locked);\n      setActiveTheming('locked');\n    } else if(state === 'failure'){\n      setPosition(SwitchPosition.Neutral);\n      setActiveTheming('failure');\n    } else {\n      positionSwitch();\n    }\n  }, [state, setPosition, positionSwitch]);\n\n  return (\n    <Container onChange={customOnChange} activeTheming={activeTheming} $loading={state === 'loading'} useIntent={state === 'default' || state === 'failure'} themeState={switchState} position={position} checked={inputRef.current?.checked}>\n      <SwitchOuter>\n        <SwitchInner>\n          {state === 'failure' ? <IconWrapper><Icon icon='Exclamation' color='danger' size={18} weight='regular' /></IconWrapper> : null}\n          {state === 'locked' ? <IconWrapper><Icon icon='Locked' color='dimmed' size={10} weight='light' /></IconWrapper> : null}\n          {state === 'loading' ? <SpinnerWrapper><Spinner size='small' styling='simple' /></SpinnerWrapper> : null}\n        </SwitchInner>\n      </SwitchOuter>\n      {labelText ? <LabelText>{labelText}</LabelText> : null}\n      <RealInput ref={inputRef} type='checkbox' disabled={state !== 'default' && state !== 'failure'} defaultChecked={checked} />\n    </Container>\n    );\n\n};\n\nconst stateCheck = (state: TypeSwitchState) : TypeSwitchState => {\n  switch(state){\n    case 'locked':\n      return 'default';\n    case 'failure':\n      return 'default';\n    default:\n      return state;\n  }\n};\n\n\nexport default Switch;\nexport { SwitchPosition };","import {css} from 'styled-components';\n\nexport const RowCss = css`\n  position:relative;\n  display: flex;\n  flex-direction: row;\n  align-items:center;\n`;\n\nexport const ColumnCss = css`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const resetButtonStyles = css`\n  -webkit-tap-highlight-color: transparent;\n  background-color: transparent;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  outline: none;\n  padding: 0;\n  appearance: none;\n  user-select: none;\n`;\n","import React, { useState, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport Icon from '../../Icons/Icon';\nimport { AlertType } from '..';\nimport { resetButtonStyles } from '../../common/index';\n\nconst IconButton = styled.button<{selected?: boolean}>`\n  ${resetButtonStyles};\n  ${({selected=false}) => selected && css`\n    border-bottom: 5px solid hsl(207, 80%, 64%);\n  `}\n  &:focus {\n    outline: none;\n  }\n\n  &:hover:enabled {\n    opacity: .8;\n  }\n  &:active:enabled {\n    opacity: .9;\n  }\n  &:disabled {\n    opacity: 0.1;\n  }\n`;\n\nexport const AlertWrapper = styled.div<{type: AlertType}>`\n  min-height: 50px;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n\n  padding: 0 14px;\n\n  font-family: ${({ theme }) => theme.fontFamily.ui };\n  ${({type, theme}) => theme.styles.feedbackBar[type] };\n  ${({theme}) => theme.typography.feedbackBar.message };\n\n`;\n\nconst IconNames = {\n  error: 'Critical',\n  warning: 'BigWarning',\n  success: 'Success',\n  info: 'Information',\n  neutral: 'Information'\n};\n\nconst MessageBox = styled.div`\n  margin: 5px 0px 5px 15px;\n  flex: 1;\n`;\nexport interface IAlert {\n  alertMessage?: string;\n  alertType: AlertType;\n}\n\ninterface Props {\n  type?: AlertType\n  message?: string;\n}\nconst AlertBar: React.FC<Props> = ({type='info', message}) => {\n  const [dismiss, setDismiss] = useState(false);\n\n  useEffect(()=>{\n    setDismiss(false);\n  },[message]);\n\n\n  return ( (message && !dismiss)?\n    <AlertWrapper type={type}>\n      <Icon icon={IconNames[type]} color='inverse' />\n      <MessageBox>{message}</MessageBox>\n\n      <IconButton onClick={() => setDismiss(true)}><Icon icon='CloseCompact' color='inverse' /></IconButton>\n    </AlertWrapper>\n    :\n    null\n  );\n};\n\nexport default AlertBar;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport ReactDom from 'react-dom';\nimport styled, { css, keyframes } from 'styled-components';\nimport Icon from '../../Icons/Icon';\nimport { AlertType } from '..';\nimport { resetButtonStyles } from '../../common/index';\n\nconst initAnimation = keyframes`\n  0% {\n    transform: translate(-50%, -100%);\n  }\n  100% {\n    transform: translate(-50%, 0%);\n  }\n`;\n\nconst closeAnimation = keyframes`\n  0% {\n    transform: translate(-50%, 0);\n  }\n  100% {\n    transform: translate(-50%, -100%);\n  }\n`;\n\nconst Container = styled.div<{type: AlertType, isClosing: Boolean}>`\n  min-height: 50px;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 14px;\n  width: 900px; \n  position: fixed;  \n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: 999;\n\n  font-family: ${({ theme }) => theme.fontFamily.ui };\n  ${({type, theme}) => theme.styles.feedbackBar[type] };\n  ${({theme}) => theme.typography.feedbackBar.message };\n\n  ${({theme}) => css`\n    animation: ${initAnimation} ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut};\n    `\n  };\n\n  ${({theme, isClosing}) => isClosing && css`\n    animation: ${closeAnimation} ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut};\n    `\n  };\n`;\n\nexport const IconNames = {\n  error: 'Critical',\n  warning: 'BigWarning',\n  success: 'Success',\n  info: 'Information',\n  neutral: 'Information'\n};\n\nconst IconButton = styled.div<{selected?: boolean}>`\n  ${resetButtonStyles};\n  ${({selected=false}) => selected && css`\n    border-bottom: 5px solid hsl(207, 80%, 64%);\n  `}\n  &:focus {\n    outline: none;\n  }\n \n  &:hover {\n    opacity: .8;\n  }\n  &:active:enabled {\n    opacity: .9;\n  }\n  &:disabled {\n    opacity: 0.1;\n  }\n`;\n\nconst TextButton = styled.button`\n  ${resetButtonStyles};\n  font-family: ${({ theme }) => theme.fontFamily.ui };\n  ${({theme}) => theme.typography.feedbackBar.message };\n  font-weight: 700;\n\n  &:focus {\n    outline: none;\n  }\n\n  &:hover:enabled {\n    ${({theme}) => theme && css`\n      opacity: .8;\n      transition: transform ${theme.animation.speed.normal} ${theme.animation.easing.primary.inOut};\n    `}\n  }\n  &:active:enabled {\n    opacity: .9;\n  }\n  &:disabled {\n    opacity: 0.1;\n  }\n`;\n\nconst MainMessage = styled.div`\n  padding: 12px 6px 12px 12px;\n  line-height: 20px;\n  text-align: left;\n  flex-grow: 2;\n`;\n\nexport type INotificationProps = {\n  type: AlertType;\n  message: string;\n  actionTextButton?: string;\n  onTextButtonClick?: () => void;\n  closeCallback?: () => void;\n  isPinned?: boolean;\n}\n\nconst Notification : React.FC<INotificationProps> = ({type ='info', message, isPinned = false, actionTextButton, closeCallback, onTextButtonClick}) => {\n  const [dismiss, setDismiss] = useState(false);\n  const [slideUp, setSlideUp] = useState(false);\n  const [textClicked, setTextClicked] = useState(false);\n\n  useEffect(()=>{\n    setDismiss(false);\n    setSlideUp(false);\n    setTextClicked(false);\n  },[message]);\n\n  const handleDismiss = useCallback(() => {\n    setSlideUp(true);\n  },[]);\n\n  const handleTextClick = useCallback(async () => {\n    setTextClicked(true);\n    handleDismiss();\n  },[handleDismiss]);\n\n  const animationEnded = useCallback(() => {\n    // Will only trigger if the animation triggered was clossing one\n    if(slideUp){\n      setDismiss(true);\n\n      if(onTextButtonClick && textClicked) {\n        onTextButtonClick();\n      }\n\n      if(closeCallback) {\n        closeCallback();\n      }\n    }\n  }, [slideUp, closeCallback, onTextButtonClick, textClicked]);\n\n  useEffect(() => {\n    let mounted = true;\n    if(!isPinned) {\n      setTimeout( () => {\n        if(mounted) {\n          handleDismiss();\n        }\n      }, 7000);\n    }\n\n    return () => {\n      mounted = false;\n    };\n  },[isPinned, message, handleDismiss]);\n  \n  return( (message && !dismiss)\n  ? ReactDom.createPortal(\n    <Container type={type} isClosing={slideUp} onAnimationEnd={animationEnded}>\n      <Icon icon={IconNames[type]} color='inverse' />\n      <MainMessage>{message}</MainMessage>\n      {actionTextButton\n        ? <TextButton onClick={() => handleTextClick()}>{actionTextButton} </TextButton>\n        : \n        <IconButton onClick={() => handleDismiss()}>\n          <Icon icon='CloseCompact' color='inverse' />\n        </IconButton>}\n    </Container>\n    , document.body)\n  : null\n  );\n};\n\nexport default Notification;","import React, { ButtonHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport { TypeButtonSizes, TypeButtonDesigns } from '..';\n\n\ninterface IStyledComponentProps {\n  size: TypeButtonSizes\n  design: TypeButtonDesigns\n}\n\n\n\nconst StyledButton = styled.button<IStyledComponentProps>`\n  ${({theme, design, size}) => css`\n\n    ${theme.styles.form.button[design].default};\n    height: ${theme.dimensions.form.button[ size ].height};\n    padding: ${theme.dimensions.form.button[ size ].padding};\n\n    ${theme.typography.form.button[ design ][ size ]};\n    font-family: ${theme.fontFamily.ui};\n\n    // No transition at this time as we're using a gradient in the default view. Requires work to make smooth.\n    // transition: background ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut};\n\n    transition: opacity ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut};\n\n    &:hover:enabled {\n      background: ${theme.styles.form.button[design].hover.backgroundColor};\n    }\n\n    &:active:enabled {\n      background: ${theme.styles.form.button[design].active.backgroundColor};\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 50%;\n      background: ${theme.styles.form.button[design].disabled.backgroundColor};\n    }\n\n  `};\n\n  overflow: hidden;\n  border: none;\n  cursor: pointer;\n  border-radius: 3px;\n  outline: none;\n\n  button + button {\n    margin-left: 20px;\n  }\n\n`;\n\n\ninterface OwnProps {\n  size?: TypeButtonSizes\n  design?: TypeButtonDesigns\n}\n\ntype Props = OwnProps & ButtonHTMLAttributes<HTMLButtonElement>\n\nconst Button : React.FC<Props> = ({ design='primary', size='normal', children, ...props }) => {\n  return <StyledButton type='button' {...{design, size}} {...props}>{children}</StyledButton>;\n};\n\nexport default Button;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Button from './Button';\nimport Icon from '../../Icons/Icon';\nimport { IButtonProps, TypeButtonSizes } from '..';\nimport {dimensions} from '../../themes/common';\n\nconst TextContainer = styled.div<{size: TypeButtonSizes, position?: string}>`\n  height: inherit;\n  flex: 1;\n  order: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  white-space: nowrap;\n\n  ${({ position, size }) => position && position === 'left' ? css`\n    padding-left: ${( size === 'xsmall' ) ? `10px` : `20px`};\n  ` : css`\n    padding-right: ${( size === 'xsmall' ) ? `10px` : `20px`};\n  `}\n\n  ${({theme}) => theme && css`\n    transition: padding ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut};\n  `}\n`;\n\nconst IconContainer = styled.div<{ position?: string }>`\n  height: inherit;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  flex-shrink: 0;\n\n  ${({ position }) => css`\n    order: ${ position && position === 'left' ? 0 : 2 };\n  `}\n\n  svg {\n    display:block;\n  }\n`;\n\nconst InnerContainer = styled.div`\n  display: flex;\n  height: inherit;\n`;\n\ninterface IProps extends IButtonProps {\n  icon: string\n  position?: 'left' | 'right'\n}\n\nconst ButtonWithIcon : React.FC<IProps> = ({design, size='normal', onClick, disabled, position, icon, children, ...props}) => {\n\n  const iconSize = dimensions.form.button[size].iconSize;\n  const iconColor = design === 'secondary' ? 'dimmed' : 'inverse';\n\n  return (\n    <Button {...{ design, size, onClick, disabled }} {...props}>\n      <InnerContainer>\n        <TextContainer {...{size, position}}>{children}</TextContainer>\n        <IconContainer {...{ position }}>\n          <Icon icon={icon} size={iconSize} color={iconColor} weight='regular' />\n        </IconContainer>\n      </InnerContainer>\n    </Button>\n  );};\n\nexport default ButtonWithIcon;","import React from \"react\";\nimport styled, { keyframes } from 'styled-components';\n\nconst circumference = (radius : number) => {\n  return 2 * 3.1416 * radius;\n};\n\nconst animation = (radius : number) => {\n  const c = circumference(radius);\n\n  return keyframes`\n    0% {\n      stroke-dashoffset: -${c * 0.85};\n    }\n    50% {\n      stroke-dashoffset: -${c * 0.5};\n    }\n    100% {\n      stroke-dashoffset: -${c * 0.85};\n    }\n  `;\n};\n\nconst rotate = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n`;\n\nconst BaseCircle = styled.circle<{ styling: string }>`\n  stroke: ${({theme, styling}) => theme.styles.indicators.spinner[styling].base.borderColor};\n  fill: none;\n`;\n\nconst RotatingCircle = styled.circle<{ r: number, styling: string }>`\n  stroke: ${({theme, styling}) => theme.styles.indicators.spinner[styling].top.borderColor};\n  fill: none;\n  stroke-dasharray: ${({r}) => circumference(r)};\n  stroke-dashoffset: ${({r}) => 2 * 3.1416 * r / 2};\n  animation:\n    ${({r}) => animation(r) } 4s linear infinite,\n    ${rotate} 1s linear infinite;\n  stroke-linecap: round;\n`;\n\ntype SpinnerSize = 'xsmall' | 'small' | 'medium' | 'large' | 'xlarge';\n\nconst sizeGuide = {\n  xsmall: 12,\n  small: 16,\n  medium: 24,\n  large: 36,\n  xlarge: 48\n};\n\ninterface IProps {\n  size: SpinnerSize\n  styling: string\n}\n\nconst Spinner : React.FC<IProps> = ({ size = 'medium', styling = 'primary' }) => {\n  const sizeVal = sizeGuide[size];\n  const strokeWidth = sizeVal / 5.333;\n  const circleRadius = (sizeVal / 2) - (strokeWidth / 2);\n\n  return (\n    <svg viewBox={`-${sizeVal/2} -${sizeVal/2} ${sizeVal} ${sizeVal}`} width={sizeVal} height={sizeVal} xmlns='http://www.w3.org/2000/svg'>\n      <BaseCircle cx='0' cy='0' r={circleRadius} strokeWidth={strokeWidth} styling={styling} />\n      <RotatingCircle cx='0' cy='0' r={circleRadius} strokeWidth={strokeWidth} styling={styling} />\n    </svg>\n  );\n\n};\n\nexport default Spinner;","import React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Button from './Button';\nimport Spinner from '../../Indicators/Spinner';\nimport { TypeButtonDesigns, IButtonProps, TypeButtonSizes } from '..';\n\n\nconst LoadingButton = styled(Button)<{ $loading: boolean }>`\n  ${({$loading, theme}) => $loading && css`\n    cursor: wait;\n    background: ${ theme.styles.form.button['primary'].active };\n    padding: 0 20px;\n    &:disabled {\n      opacity: 1;\n    }\n  `};\n`;\n\nconst TextContainer = styled.div`\n  height: inherit;\n  flex: 1;\n  order: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  white-space: nowrap;\n  ${({theme}) => theme && css`\n    transition: padding ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut};\n  `}\n\n`;\n\nconst LoadingContainer = styled.div<{ design: TypeButtonDesigns, show?: boolean, position?: string }>`\n  height: inherit;\n  flex: 0 0 35px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  opacity: 0;\n\n  ${({ theme, position }) => css`\n    transition:\n      flex ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut} ${theme.animation.speed.slow},\n      opacity ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut};\n\n    order: ${ position && position === 'left' ? 0 : 2 };\n  `}\n\n  svg {\n    display:block;\n  }\n`;\n\nconst InnerContainer = styled.div<{position?: string, $loading: boolean, design: TypeButtonDesigns, size: TypeButtonSizes}>`\n  display: flex;\n  height: inherit;\n\n\n  ${({ position, $loading }) => position && position === 'left' ? css`\n    margin-right: ${ $loading ? '-20px' : '0' };\n  ` : css`\n    margin-left: ${ $loading ? '-20px' : '0' };\n  `}\n\n  ${({ $loading, theme, design, size }) => $loading ? css`\n\n    // TODO: Fix transition animation so the below line doesn't look awful when transitioning - L\n    // ${ theme.styles.form.button[design].active };\n\n    transition: margin ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut};\n\n    ${TextContainer}{\n      padding: ${theme.dimensions.form.button[ size ].padding};\n    }\n    ${LoadingContainer}{\n      opacity: 1;\n      transition: flex ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut}, opacity ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeInOut} ${theme.animation.speed.slow};\n      ${ theme.styles.form.button[design].actionArea };\n    }\n  ` : css`\n    ${LoadingContainer}{\n      flex: 0 0 0px;\n    }\n  `}\n`;\n\ninterface IProps extends IButtonProps {\n  position?: 'left' | 'right'\n  loading: boolean\n}\n\nconst ButtonWithLoading : React.FC<IProps> = ({design='primary', size='normal', onClick, disabled, position, loading, children,...rest}) => {\n  return (\n    <LoadingButton disabled={disabled || loading} $loading={loading} {...{ design, size, onClick}} {...rest}>\n      <InnerContainer $loading={loading} {...{ design, size}}>\n        <TextContainer>{children}</TextContainer>\n        <LoadingContainer {...{ design, position }}>\n          <Spinner size={size ==='xsmall' ? 'xsmall' : 'small'} styling={design} />\n        </LoadingContainer>\n      </InnerContainer>\n    </LoadingButton>\n  );\n};\n\nexport default ButtonWithLoading;","import React, { ButtonHTMLAttributes } from 'react';\nimport styled from 'styled-components';\nimport { resetButtonStyles } from '../../common';\nimport Icon, { IconProps, IconWrapper } from '../../Icons/Icon';\n\nconst StyledButton = styled.button<{color:ISvgIcons['color']; hoverColor:ISvgIcons['color']}>`\n  ${resetButtonStyles};\n  [stroke]{\n    stroke: ${({theme, color}) => theme.colors.icons[color]};\n  }\n  &:hover {\n    ${IconWrapper} {\n      [stroke]{\n        stroke: ${({theme, hoverColor}) => theme.colors.icons[hoverColor]};\n      }\n    }\n  }\n`;\n\ninterface OwnProps {\n  hoverColor?: ISvgIcons['color']\n}\n\nexport type IconButtonData = OwnProps & IconProps & ButtonHTMLAttributes<HTMLButtonElement>\n\nconst IconButton : React.FC<IconButtonData> = ({\n  icon,\n  size = 20,\n  weight = 'regular',\n  color = 'dimmed',\n  hoverColor = 'mono',\n  ...props }) => {\n  return(\n    <StyledButton\n      type='button'\n      color={color}\n      hoverColor={hoverColor}\n      {...props}\n    >\n      <Icon icon={icon} size={size} weight={weight} />\n    </StyledButton>\n  );\n};\n\nexport default IconButton;","import React from 'react';\nimport styled from 'styled-components';\nimport IconButton, { IconButtonData } from '../atoms/IconButton';\n\nconst StyledIconButton = styled(IconButton)``;\n\nconst Container = styled.div`\n  display: flex;\n  ${StyledIconButton} {\n    margin-left: 15px;\n  }\n  ${StyledIconButton}:first-child {\n    margin-left: 0px;\n  }\n`;\n\ntype IGroupButtonsData = {\n  buttonsConfig: IconButtonData []\n}\n\nconst ActionButtons : React.FC<IGroupButtonsData> = ({buttonsConfig}) => {\n  \n  return(\n    <Container>\n      {\n        buttonsConfig.map((btn) => {\n          const {icon, size, weight, color, hoverColor, onClick} = btn;\n          return (\n            <StyledIconButton\n              key={`${icon}-${size}`}\n              icon={icon}\n              size={size}\n              weight={weight}\n              color={color}\n              hoverColor={hoverColor}\n              onClick={onClick}\n            />\n          );\n        })\n      }\n    </Container>\n  );\n};\n\nexport default ActionButtons;","import React, { InputHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '../../Icons/Icon';\nimport Spinner from '../../Indicators/Spinner';\nimport { TypeFieldState } from '..';\n\nconst ActionContainer = styled.div`\n  position: absolute;\n  right: 0;\n  top: 0;\n`;\n\nconst InputActionButton = styled.button.attrs({ type: \"button\" })`\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  outline: none;\n`;\n\nconst FeedbackContainer = styled.div`\n  flex-shrink: 0;\n\n  background-color: transparent;\n  ${({theme}) => css`\n    border: 1px solid ${theme.styles.form.input.default.normal.borderColor};\n  `};\n\n  border-left: none;\n  border-radius: 0 3px 3px 0;\n  overflow: hidden;\n\n  display:flex;\n  justify-content:left;\n  align-items:center;\n`;\n\nconst FeedbackMessage = styled.div`\n  flex: 0 1 400px;\n  padding: 0 10px 0 0;\n\n  ${({theme}) => theme.typography.form.feedback.message};\n`;\n\nconst FeedbackIcon = styled.div`\n  flex: 0 0 40px;\n  width: 40px;\n  display: flex;\n  justify-content:center;\n  align-items:center;\n`;\n\nconst StyledInput = styled.input<{ fieldState : TypeFieldState }>`\n  ${({theme, fieldState}) => css`\n    min-height: ${theme.dimensions.form.input.height};\n    font-family: ${theme.fontFamily.data};\n    border: 1px solid ${theme.styles.form.input[fieldState].normal.borderColor};\n  `};\n\n  height: 100%;\n  width: 100%;\n  border-radius: 3px;\n\n  padding: 0 15px 0 15px;\n  box-sizing: border-box;\n  outline: none;\n\n  ${({theme: {typography}}) => css`\n    ${typography.form.input.value.normal};\n    &::placeholder {\n      ${typography.form.input.placeholder.normal};\n    }\n  `};\n`;\n\nconst InputContainer = styled.div<{hasAction?: boolean}>`\n\n  flex: 1;\n  position: relative;\n\n  ${({ hasAction }) => hasAction && css`\n    ${StyledInput}{\n      padding-right: 60px;\n\n      // Used to control password manager injection.\n      background-position: calc(100% - 50px) 50% !important;\n    }\n  `}\n\n`;\n\nconst Container = styled.div<{ fieldState: string }>`\n  display: flex;\n  position: relative;\n\n  ${StyledInput}{\n    ${({theme, fieldState}) => theme.styles.form.input[fieldState].normal};\n\n    &:focus {}\n\n    ${({ fieldState }) => ['default', 'disabled'].indexOf(fieldState) === -1 && css`\n      border-top-right-radius: 0px;\n      border-bottom-right-radius: 0px;\n    `}\n  }\n\n  ${FeedbackContainer} {\n    background: ${({theme, fieldState}) => theme.styles.form.input[fieldState].normal.borderColor};\n    border-color: ${({theme, fieldState}) => theme.styles.form.input[fieldState].normal.borderColor};\n\n    ${({ fieldState }) => ['default', 'disabled'].indexOf(fieldState) !== -1 && css`\n      display:none;\n    `}\n  }\n\n  &:focus-within ${InputContainer} {\n    ${({theme, fieldState}) => theme.styles.form.input[fieldState].focused};\n  }\n\n`;\n\ninterface OwnProps {\n  fieldState?: TypeFieldState;\n  feedbackMessage?: string;\n  actionCallback?: ()=>void;\n  actionIcon?: string\n  postfix?: string;\n}\n\nexport type InputProps = OwnProps & InputHTMLAttributes<HTMLInputElement>\n\nconst Input : React.FC<InputProps> = ({\n  type = 'text',\n  placeholder = '',\n  defaultValue,\n  fieldState = 'default',\n  feedbackMessage,\n  actionCallback,\n  actionIcon,\n  postfix,\n  ...props\n}) => {\n\n  const isActionButton = actionCallback !== undefined;\n\n  const feedbackIcon = (fieldState: TypeFieldState) => {\n    switch(fieldState){\n      case 'default':\n        break;\n      case 'disabled':\n        break;\n      case 'required':\n        return <Icon icon='Required' size={20} color='inverse' />;\n      case 'valid':\n        return <Icon icon='Success' size={20} color='inverse' />;\n      case 'invalid':\n        return <Icon icon='Invalid' size={20} color='inverse' />;\n      case 'processing':\n        return <Spinner size='medium' styling='primary' />;\n    }\n  };\n\n  return (\n    <Container fieldState={fieldState || 'default'}>\n\n      <InputContainer hasAction={isActionButton}>\n        <StyledInput fieldState={fieldState || 'default'} disabled={fieldState === 'disabled' || fieldState === 'processing'} type={type} placeholder={placeholder} defaultValue={defaultValue} {...props} />\n        {(isActionButton) ? (\n          <ActionContainer>\n            <InputActionButton onClick={actionCallback}>\n              <Icon icon={actionIcon || 'NoIcon'} color='primary' />\n            </InputActionButton>\n          </ActionContainer>\n        ) : null}\n      </InputContainer>\n\n      {fieldState ? (\n        <FeedbackContainer>\n          <FeedbackIcon>{feedbackIcon(fieldState)}</FeedbackIcon>\n          {feedbackMessage ? (\n            <FeedbackMessage>{feedbackMessage}</FeedbackMessage>\n          ) : null}\n        </FeedbackContainer>\n      ) : null}\n\n    </Container>\n  );\n};\n\n\nexport default Input;\n","import React, { LabelHTMLAttributes } from 'react';\nimport styled from 'styled-components';\n\nexport const StyledLabel = styled.label<{ rightAlign: boolean }>`\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  color: hsl(207, 5%, 57%);\n  font-size: 14px;\n  font-weight: 500;\n  ${({ rightAlign }) => rightAlign\n    ? `\n        display: flex;\n        align-items: center;\n        flex-direction: row-reverse;\n        justify-content: left;\n      `\n    :\n    `\n        display: block;\n        margin-bottom: 20px;\n      `\n  };\n`;\n\nconst LabelText = styled.span<{ rightAlign: boolean }>`\n  display: block;\n  ${({ rightAlign }) => rightAlign\n      ? `\n        margin-left: 12px;\n        `\n      : `\n        margin-bottom: 10px;\n      `\n  }\n`;\n\ninterface OwnProps {\n  htmlFor: string\n  labelText: string\n  rightAlign?: boolean\n}\ntype Props = OwnProps & LabelHTMLAttributes<HTMLLabelElement>\n\nconst Label: React.FC<Props> = ({\n  htmlFor,\n  labelText,\n  rightAlign = false,\n  children,\n  ...props }) => {\n\n  return (\n    <StyledLabel {...{ htmlFor, rightAlign }} {...props}>\n      <LabelText {...{ rightAlign }}>{labelText}</LabelText>\n      {children}\n    </StyledLabel>\n  );\n};\n\nexport default Label;","import React, { InputHTMLAttributes, useRef, useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Label from '../atoms/Label';\nimport { TypeFieldState } from '..';\n\n\n\nconst StyledInput = styled.input<{ fieldState : TypeFieldState, padRight?: number }>`\n  ${({theme, fieldState}) => css`\n    min-height: 30px;\n    font-family: ${theme.fontFamily.data};\n    border: 1px solid ${theme.styles.form.input[fieldState].normal.borderColor};\n  `};\n\n  height: 100%;\n  width: 100%;\n  border-radius: 3px;\n\n  padding: 0 22px 0 10px;\n  box-sizing: border-box;\n  outline: none;\n\n  ${({theme: {typography}}) => css`\n    ${typography.form.input.value.compact};\n    &::placeholder {\n      ${typography.form.input.placeholder.compact};\n    }\n  `};\n\n  ${p => p.padRight  && css`\n    padding-right: ${p.padRight + 17}px;\n  `}\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n`;\n\nconst InputContainer = styled.div<{hasAction?: boolean}>`\n\n  flex: 1;\n  position: relative;\n\n  ${({ hasAction }) => hasAction && css`\n    ${StyledInput}{\n      padding-right: 200px;\n\n      // Used to control password manager injection.\n      background-position: calc(100% - 50px) 50% !important;\n    }\n  `}\n\n`;\n\nconst UnitKey = styled.div`\n  position: absolute;\n  right: 10px;\n  bottom: 0;\n  top:0;\n  font-family: ${({ theme }) => theme.fontFamily.ui };\n  font-size: 12px;\n  color: #99a1a3;\n  line-height:30px;\n`;\n\nconst Container = styled.div<{ fieldState: string }>`\n\n  display: flex;\n  position: relative;\n\n  ${StyledInput}{\n    ${({theme, fieldState}) => theme.styles.form.input[fieldState].compact};\n\n    &:focus {}\n\n    ${({ fieldState }) => ['default', 'disabled'].indexOf(fieldState) === -1 && css`\n      border-top-right-radius: 0px;\n      border-bottom-right-radius: 0px;\n    `}\n  }\n\n  &:focus-within ${InputContainer} {\n    border-color: ${({theme, fieldState}) => theme.styles.form.input[fieldState].focused.borderColor};\n  }\n\n`;\n\ninterface OwnProps {\n  fieldState?: TypeFieldState;\n  label: string\n  unit?: string\n}\n\ntype Props = OwnProps & InputHTMLAttributes<HTMLInputElement>\n\nconst SmallInput : React.FC<Props> = ({\n  unit,\n  label,\n  name,\n  type = 'text',\n  placeholder = '',\n  defaultValue,\n  fieldState = 'default',\n  className,\n  ...props\n}) => {\n\n  const unitElement = useRef<HTMLDivElement>(null);\n  const [unitElementWidth, setUnitElementWidth] = useState<number>(0);\n\n  useEffect(() => {\n    if(unitElement && unitElement.current){\n      setUnitElementWidth(unitElement.current.clientWidth || 0);\n    }\n  }, [unitElement, setUnitElementWidth, unit]);\n\n  return (\n    <Container className={className} fieldState={fieldState || 'default'}>\n      <Label labelText={label} htmlFor={name || ''}>\n        <InputContainer>\n          <StyledInput padRight={unitElementWidth} fieldState={fieldState || 'default'} type={type} placeholder={placeholder} defaultValue={defaultValue} {...props} />\n          {unit ? <UnitKey ref={unitElement}>{unit}</UnitKey> : null}\n        </InputContainer>\n      </Label>\n\n    </Container>\n  );\n\n};\n\n\nexport default SmallInput;","import React, { useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { CheckMark } from '../../svg';\nimport { dimensions } from '../../themes/common';\n\nenum CheckboxState {\n  Off = \"off\",\n  On = \"on\",\n  Indeterminate = \"indeterminate\"\n}\n\nconst RealInput = styled.input`\n  display: none;\n`;\nconst CheckboxOuter = styled.div`\n  cursor: pointer;\n\n  box-sizing: border-box;\n  position: relative;\n  width: 18px;\n  height: 18px;\n  border-radius: 5px;\n  border-width: 2px;\n  border-style: solid;\n`;\n\nconst CheckboxInner = styled.div<{}>`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  box-sizing: border-box;\n`;\n\nconst IconWrapper = styled.div<{color: ISvgIcons['color']}>`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  svg {\n    display: block;\n    [stroke]{\n      stroke: transparent;\n    }\n    [fill] {\n      fill: ${({theme, color}) => theme.colors.icons[color]};\n    }\n  }\n`;\n\nconst Container = styled.label<{visualState?: CheckboxState, disabled?: boolean}>`\n  user-select: none;\n\n\n  ${({visualState, disabled, theme: { styles }}) => visualState === CheckboxState.Off && css`\n    ${CheckboxOuter}{\n      ${styles.form.checkbox.unchecked.default};\n    }\n\n    ${!disabled && css`\n      &:hover ${CheckboxOuter} {\n        ${styles.form.checkbox.unchecked.hover};\n      }`\n    };\n\n    ${disabled && css`\n      ${CheckboxOuter}{\n        ${styles.form.checkbox.unchecked.disabled};\n        cursor: not-allowed;\n      }\n    `}\n  `}\n\n  ${({visualState, disabled, theme: { styles }}) => visualState === CheckboxState.On && css`\n    ${CheckboxOuter}{\n      ${styles.form.checkbox.checked.default};\n      border: none;\n    }\n    ${!disabled && css`\n      &:hover ${CheckboxOuter}{\n        ${styles.form.checkbox.checked.hover};\n        border: none;\n      }`\n    };\n\n    ${disabled && css`\n      ${CheckboxOuter}{\n        ${styles.form.checkbox.checked.disabled};\n        cursor: not-allowed;\n      }\n    `}\n  `}\n\n  ${({visualState, disabled, theme: { styles }}) => visualState === CheckboxState.Indeterminate && css`\n    ${CheckboxOuter}{\n      ${styles.form.checkbox.indeterminate.default};\n    }\n    ${!disabled && css`\n      &:hover ${CheckboxOuter}{\n        ${styles.form.checkbox.indeterminate.hover};\n      }\n    `};\n\n  `}\n\n`;\n\ninterface IProps {\n  checked?: boolean\n  disabled?: boolean\n  indeterminate?: boolean\n  onChangeCallback?: (checked: boolean, indeterminate?: boolean) => void;\n}\n\nconst Checkbox : React.FC<IProps> = ({ indeterminate = false, disabled, checked = false, onChangeCallback }) => {\n\n  const [ isChecked, setIsChecked ] = useState<boolean>(checked);\n  const [ visualState, setVisualState ] = useState<CheckboxState>(checked ? CheckboxState.On : CheckboxState.Off);\n\n  const customOnChange = (e: any) => {\n    const checked = e.target.checked;\n\n    setIsChecked(checked);\n    if(onChangeCallback){ onChangeCallback(checked); }\n  };\n\n  useEffect(() => {\n\n    let state = checked ? CheckboxState.On : CheckboxState.Off;\n    // state = indeterminate ? CheckboxState.Indeterminate : state;\n\n    setVisualState( state );\n\n  }, [checked, isChecked, setVisualState]);\n\n  useEffect(() => {\n    setIsChecked(checked);\n  }, [checked, setIsChecked]);\n\n  const iconWeight : number = dimensions.icons.weights['regular'];\n\n  return (\n    <Container onChange={customOnChange} {...{indeterminate, disabled, visualState}}>\n      <CheckboxOuter>\n        <CheckboxInner>\n          {visualState === CheckboxState.On ? <IconWrapper color='inverse'><CheckMark color='inverse' stroke='inverse' size={12} weight={iconWeight} /></IconWrapper> : null}\n        </CheckboxInner>\n      </CheckboxOuter>\n      <RealInput type='checkbox' checked={isChecked} readOnly {...{disabled}} /> {/* disabled={state !== 'default' && state !== 'failure'} */}\n    </Container>\n  );\n\n};\n\nexport default Checkbox;\nexport { CheckboxState };","import * as React from \"react\";\n\nfunction SvgLogoMark(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg width={35} height={35} {...props}>\n      <defs>\n        <linearGradient\n          id='LogoMark_svg__a'\n          x1='36.708%'\n          x2='69.959%'\n          y1='2.579%'\n          y2='98.009%'\n        >\n          <stop offset='0%' stopColor='#7DB8DB' />\n          <stop offset='100%' stopColor='#5CA0D1' />\n        </linearGradient>\n      </defs>\n      <g fill='none' fillRule='evenodd'>\n        <rect width={35} height={35} fill='url(#LogoMark_svg__a)' rx={5} />\n        <path\n          fill='#FFF'\n          fillRule='nonzero'\n          d='M14.42 25.12c4.4 0 6.42-3.06 6.42-7.02v-7.3h-3.9v7.3c0 1.84-.68 3.56-2.52 3.56-1.8 0-2.5-1.68-2.5-3.56v-7.3h-3.9v7.3c0 3.76 1.86 7.02 6.4 7.02zM26.98 25V10.8h-3.9V25h3.9z'\n        />\n      </g>\n    </svg>\n  );\n}\n\nexport default SvgLogoMark;\n","import * as React from \"react\";\n\nfunction SvgLogoText(props: React.SVGProps<SVGSVGElement>) {\n  return (\n    <svg width={71} height={30} {...props}>\n      <path\n        d='M6.088 12.112c2.336 0 4.128-.976 4.128-3.168 0-2.048-1.472-2.72-3.84-3.248-2.048-.464-2.992-.784-2.992-2 0-1.152.8-1.856 2.56-1.856 1.36 0 2.56.592 3.088 1.184l.672-1.168C8.744 1.072 7.496.56 5.976.56c-2.352 0-4.08 1.184-4.08 3.36 0 1.808 1.2 2.432 3.504 2.992 2.112.512 3.28.896 3.28 2.176 0 1.136-.944 1.728-2.56 1.728-1.728 0-3.28-.8-3.968-1.52l-.688 1.216c1.28 1.04 2.88 1.6 4.624 1.6zm11.941-.016c1.76 0 3.792-.944 4.512-2.64l-1.2-.656c-.656 1.408-2.064 2-3.248 2-2.256 0-3.936-2.128-3.936-4.496 0-2.144 1.36-4.432 3.888-4.432 1.152 0 2.48.48 3.152 1.92l1.136-.736C21.63 1.6 20.125.576 18.11.576c-3.424 0-5.408 2.912-5.408 5.664 0 2.88 2.208 5.856 5.328 5.856zm12.134-.016c3.072 0 5.36-2.72 5.36-5.744 0-2.848-2.144-5.776-5.328-5.776-3.072 0-5.376 2.736-5.376 5.76 0 2.912 2.16 5.76 5.344 5.76zm.016-1.296c-2.352 0-3.904-2.144-3.904-4.464 0-2.208 1.488-4.448 3.904-4.448 2.304 0 3.888 2.128 3.888 4.448 0 2.192-1.472 4.464-3.888 4.464zM40.296 12V7.92h3.008L45.896 12h1.632l-2.752-4.352c1.44-.368 2.384-1.792 2.384-3.376C47.16 2.48 45.72.64 43.72.64h-4.864V12h1.44zm3.44-5.36h-3.44V1.92h3.344c1.104 0 2.064 1.072 2.064 2.352 0 1.248-.784 2.368-1.968 2.368zM58.413 12v-1.28h-6.272V6.8h5.328V5.6h-5.328V1.92h6.128V.64h-7.568V12h7.712zm4.742 0V7.92h3.008L68.755 12h1.632l-2.752-4.352c1.44-.368 2.384-1.792 2.384-3.376 0-1.792-1.44-3.632-3.44-3.632h-4.864V12h1.44zm3.44-5.36h-3.44V1.92h3.344c1.104 0 2.064 1.072 2.064 2.352 0 1.248-.784 2.368-1.968 2.368zM4.78 27.05c2.18 0 2.99-1.66 2.99-3.57V19.9h-.7v3.58c0 1.45-.5 2.94-2.3 2.94-1.76 0-2.29-1.45-2.29-2.94V19.9h-.69v3.58c0 1.81.74 3.57 2.99 3.57zm6.193-.05v-7.1h-.7V27h.7zm6.697 0v-2.18L19 23.44 21.71 27h.79l-3.05-3.98 2.9-3.12h-.77l-3.91 4.13v-4.12h-.7V27h.7zm7.263 0v-7.1h-.7V27h.7zm5.124 0v-6.48h2.53v-.62h-5.76v.62h2.53V27h.7z'\n        fill='#93A5B2'\n      />\n    </svg>\n  );\n}\n\nexport default SvgLogoText;\n","import * as React from \"react\";\n\nfunction CheckMark(props: ISvgIcons) {\n  return (\n    <svg width={props.size} height={props.size} viewBox='0 0 24 24' {...props}>\n      <path\n        d='M23.848 5.132l-2.967-2.976a.531.531 0 0 0-.753 0L7.595 14.697a.531.531 0 0 1-.752 0l-2.968-2.975a.531.531 0 0 0-.752 0L.156 14.697a.531.531 0 0 0 0 .752l6.687 6.688a.531.531 0 0 0 .752 0L23.848 5.876a.531.531 0 0 0 0-.744z'\n        fill='none'\n        fillRule='evenodd'\n        stroke='#000'\n        strokeLinecap='round'\n        strokeLinejoin='round'\n        strokeWidth={1.5}\n      />\n    </svg>\n  );\n}\n\nexport default CheckMark;\n","import React, { useCallback, InputHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\n\nconst InnerRadio = styled.div`\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  user-select: none;\n`;\n\nconst OuterRadio = styled.div<{ isChecked: boolean, disabled: boolean }>`\n  position: absolute;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  user-select: none;\n\n  ${({ theme: { styles }, isChecked, disabled }) => styles && css`\n    border-color: ${styles.form.checkbox.unchecked.default.borderColor};\n\n    ${!disabled && css`\n      &:hover {\n        cursor: pointer;\n        border-color: ${styles.form.checkbox.unchecked.hover.borderColor};\n      }\n    `};\n\n    ${isChecked && !disabled && css`\n      border-color: ${styles.form.checkbox.checked.default.backgroundColor};\n      ${InnerRadio} {\n        background-color: ${styles.form.checkbox.checked.default.backgroundColor};\n      }\n    `};\n\n    ${isChecked && !disabled && css`\n      &:hover {\n        border-color: ${styles.form.checkbox.checked.hover.backgroundColor};\n        ${InnerRadio} {\n          background-color: ${styles.form.checkbox.checked.hover.backgroundColor};\n        }\n      }\n    `};\n\n    ${isChecked && disabled && css`\n      cursor: not-allowed;\n      border-color: ${styles.form.checkbox.checked.disabled.backgroundColor};\n      ${InnerRadio} {\n        background-color: ${styles.form.checkbox.checked.disabled.backgroundColor};\n      }\n    `};\n\n    ${!isChecked && disabled && css`\n      cursor: not-allowed;\n      border-color: ${styles.form.checkbox.unchecked.disabled.borderColor};\n      ${InnerRadio} {\n        background-color: ${styles.form.checkbox.unchecked.disabled.backgroundColor};\n      }\n    `}\n  `};\n`;\n\nconst HiddenInput = styled.input`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding:0;\n  opacity: 0;\n`;\n\nconst Container = styled.div`\n  position: relative;\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  user-select: none;\n  border-radius: 50%;\n`;\n\ninterface OwnProps {\n  currentChecked?: number | string\n  onChangeCallback?: (value: number | string) => void\n}\n\ntype IRadioButton = OwnProps & InputHTMLAttributes<HTMLInputElement>\n\nconst RadioButton: React.FC<IRadioButton> = ({\n  id,\n  value,\n  name,\n  currentChecked,\n  disabled = false,\n  required,\n  onChangeCallback = () => { },\n}) => {\n\n  const handleChange = useCallback((e) => {\n    const checkedValue = e.target.value;\n    onChangeCallback(checkedValue);\n  }, [onChangeCallback]);\n\n  const isChecked = (currentChecked !== undefined) ? (currentChecked === value) : false;\n\n  return (\n    <Container>\n      <HiddenInput\n        type='radio'\n        {...{ id, name, disabled, required, value }}\n        checked={isChecked}\n        onChange={handleChange}\n      />\n      <OuterRadio {...{ isChecked, disabled }}>\n        <InnerRadio />\n      </OuterRadio>\n    </Container>\n  );\n};\n\nexport default RadioButton;","import React, { TextareaHTMLAttributes } from 'react';\nimport styled, { css } from  'styled-components';\nimport Spinner from '../../Indicators/Spinner';\nimport Icon from '../../Icons/Icon';\nimport { TypeFieldState } from '..';\n\nconst FeedbackIcon = styled.div`\n  flex: 0 0 40px;\n  width: 40px;\n  display: flex;\n  justify-content:center;\n  align-items:center;\n  padding-top: 2px;\n`;\n\nconst StyledTextArea = styled.textarea<{ fieldState : TypeFieldState}>`\n\n${({theme, fieldState}) => css`\n  font-family: ${theme.fontFamily.data};\n  border: 1px solid ${theme.styles.form.input[fieldState].normal.borderColor};\n`};\n\n  padding: 8px 15px;\n  box-sizing: border-box;\n  outline: none;\n  height: 100%;\n  width: 100%;\n  border-radius: 3px;\n\n  ${({theme: {typography}}) => css`\n  ${typography.form.input.value.normal};\n  &::placeholder {\n    ${typography.form.input.placeholder.normal};\n  }\n`};\n`;\n\nconst FeedbackContainer = styled.div`\n  flex-shrink: 0;\n  padding: 8px 0;\n  background-color: transparent;\n  ${({theme}) => css`\n    border: 1px solid ${theme.styles.form.input.default.normal.borderColor};\n  `};\n\n  border-left: none;\n  border-radius: 0 0 3px 3px;\n  overflow: hidden;\n\n  display:flex;\n  justify-content:left;\n  align-items:center;\n`;\n\nconst FeedbackMessage = styled.div`\n  flex: 0 1 400px;\n  padding: 0 10px 0 0;\n  ${({theme}) => theme.typography.form.feedback.message};\n`;\n\nconst Container =  styled.div<{ fieldState: string }>`\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  ${StyledTextArea}{\n    ${({theme, fieldState}) => theme.styles.form.input[fieldState].normal};\n\n    &:focus {\n      box-shadow: 0px 3px 7px 0px hsla(207, 65.8%, 31%, 0.078);\n    }\n\n    ${({ fieldState }) => ['default', 'disabled'].indexOf(fieldState) === -1 && css`\n      border-bottom-left-radius: 0px;\n      border-bottom-right-radius: 0px;\n    `}\n  }\n\n  ${FeedbackContainer} {\n    background: ${({theme, fieldState}) => theme.styles.form.input[fieldState].normal.borderColor};\n    border-color: ${({theme, fieldState}) => theme.styles.form.input[fieldState].normal.borderColor};\n\n    ${({ fieldState }) => ['default', 'disabled'].indexOf(fieldState) !== -1 && css`\n      display:none;\n    `}\n  }\n\n  &:focus-within ${FeedbackContainer} {\n    ${({ fieldState }) =>\n\n    fieldState === 'required' ? `\n      box-shadow: 0px 3px 7px 0px hsla(207, 67.8%, 35.3%, 0.071);\n    ` : null};\n\n    ${({ fieldState }) => fieldState === 'valid' ? `\n      box-shadow: 0px 3px 5px 0px hsla(120, 76.6%, 15.1%, 0.071);\n    ` : null};\n\n    ${({ fieldState }) => fieldState === 'invalid' ? `\n      box-shadow: 0px 3px 7px 0px hsla(0, 100%, 50%, 0.102);\n    ` : null};\n  }\n\n`;\n\ninterface OwnProps {\n  fieldState: TypeFieldState\n  feedbackMessage?: string\n}\n\ntype Props = OwnProps & TextareaHTMLAttributes<HTMLTextAreaElement>\n\nconst TextArea : React.FC<Props> = ({\n  placeholder = '',\n  fieldState = 'default',\n  feedbackMessage,\n  children,\n  ...props\n}) => {\n\n  const feedbackIcon = (fieldState: TypeFieldState) => {\n    switch(fieldState){\n      case 'default':\n        break;\n      case 'disabled':\n        break;\n      case 'required':\n        return <Icon icon='Required' size={20} color='inverse' />;\n      case 'valid':\n        return <Icon icon='Success' size={20} color='inverse' />;\n      case 'invalid':\n        return <Icon icon='Invalid' size={20} color='inverse' />;\n      case 'processing':\n        return <Spinner size='medium' styling='primary' />;\n    }\n  };\n\n  return (\n    <Container fieldState={fieldState || 'default'}>\n      <StyledTextArea\n        fieldState={fieldState || 'default'} \n        placeholder={placeholder}\n        disabled={fieldState === 'disabled' || fieldState === 'processing'}\n        {...props}\n      >{children}\n      </StyledTextArea>\n      {fieldState && (\n        <FeedbackContainer>\n          <FeedbackIcon>{feedbackIcon(fieldState)}</FeedbackIcon>\n          <FeedbackMessage>{feedbackMessage}</FeedbackMessage>\n        </FeedbackContainer>\n      )}\n    </Container>\n  );\n};\n\nexport default TextArea;","import React, { useCallback, useState, SelectHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport Label, { StyledLabel } from './Label';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\n\nexport const SelectWrapper = styled.div`\n  position: relative;\n  display: flex;\n  width: 100%;\n\n  ${IconWrapper} {\n    position: absolute;\n    top: calc(50% - 7px);\n    right: 10px;\n    pointer-events: none;\n  }\n`;\n\nconst StyledSelect = styled.select`\n  box-sizing: border-box;\n  outline: none;\n  border-radius: 3px;\n  height: 40px;\n  padding: 0 25px 0 15px;\n  appearance: none;\n  line-height: 1.56;\n  width: 100%;\n  cursor: pointer;\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  &::-ms-expand {\n    display: none;\n  }\n`;\n\nconst Container = styled.div<{ isCompact?: boolean, activePlaceholder: boolean, isLabelSameRow?: boolean }>`\n\n${({ isCompact }) => isCompact && css`\n  ${StyledLabel} {\n      span {\n        margin-bottom: 6px;\n      }\n    }\n  `}\n\n${({ isLabelSameRow }) => isLabelSameRow && css`\n  ${StyledLabel} {\n    display: flex;\n    align-items: center;\n    span {\n      margin: 0 10px 0 0;\n    }\n  }\n`};\n\n  ${StyledSelect} {\n    ${({ theme }) => css`\n      border: 1px solid ${theme.styles.form.input.default.normal.borderColor};\n      font-family: ${theme.fontFamily.data};\n      ${theme.typography.form.input.value.normal};\n    `};\n\n    ${({ theme: { typography }, isCompact }) => isCompact && css`\n      height: 30px;\n      padding: 0 25px 0 10px;\n      ${typography.form.input.value.compact};\n    `};\n\n    ${({ theme, activePlaceholder }) => activePlaceholder && css`\n      ${theme.typography.form.input.placeholder.normal};\n    `};\n\n    ${({ theme, isCompact, activePlaceholder }) => isCompact && activePlaceholder && css`\n      ${theme.typography.form.input.placeholder.compact};\n    `};\n\n    option {\n      font-style: normal;\n      ${({ theme }) => css`\n        ${theme.typography.form.input.value.normal};\n      `};\n\n      ${({ theme: { typography }, isCompact }) => isCompact && css`\n        ${typography.form.input.value.compact};\n      `};\n    }\n    font-weight: 400;\n  }\n`;\n\ninterface ILabel {\n  htmlFor: string\n  text: string\n  isSameRow?: boolean\n}\n\ninterface OwnProps {\n  label?: ILabel\n  isCompact?: boolean\n  placeholder?: string\n  changeCallback?: (value: string) => void\n}\n\ntype ISelect = OwnProps & SelectHTMLAttributes<HTMLSelectElement>\n\nconst SelectField: React.FC<ISelect> = ({\n  placeholder,\n  label,\n  isCompact,\n  defaultValue,\n  changeCallback = () => { },\n  children,\n  ...props\n}) => {\n\n  const [activePlaceholder, setPlaceholderStatus] = useState<boolean>(!defaultValue ? true : false);\n\n  const handleOnChange = useCallback((e) => {\n\n    const { value } = e.target;\n\n    setPlaceholderStatus(prev => {\n      if (prev) { return false; }\n      return prev;\n    });\n    changeCallback(value);\n  }, [changeCallback]);\n\n  const renderSelect = useCallback((htmlFor?: string) => (\n    <SelectWrapper>\n      <StyledSelect\n        id={htmlFor}\n        {...props}\n        defaultValue={defaultValue ? defaultValue : ''}\n        onChange={handleOnChange}\n      >\n        {!defaultValue && <option value='' disabled hidden>{placeholder}</option>}\n        {children}\n      </StyledSelect>\n      <Icon icon='Down' color='dimmed' size={11} />\n    </SelectWrapper>\n  ), [children, defaultValue, handleOnChange, placeholder, props]);\n\n  return (\n    <Container {...{ isCompact, activePlaceholder }} isLabelSameRow={label?.isSameRow}>\n      {label\n        ? (\n          <Label htmlFor={label.htmlFor} labelText={label.text}>\n            {renderSelect(label.htmlFor)}\n          </Label>\n        )\n        : renderSelect()}\n    </Container>\n  );\n};\n\nexport default SelectField;","import {ITimeUnit} from '../index';\n\nconst isInsideRange = (value: number, min: number, max: number) : boolean => {\n  if( value < min) {return false;}\n  if(value > max) { return false;}\n  return true;\n};\n\n// verifies if a number is inside a boundary if not updates it's value to the max or min boundary value.\nconst clamp = (value: number, minValue: number, maxValue: number) => {\n  return Math.min( Math.max(value, minValue), maxValue);\n};\n\n/**\n * Helper for adding appropriate text to a time number\n * Default is hours\n */\nconst getTextTimeUnit = (value: number, unit : ITimeUnit) => {\n    switch (unit) {\n      case 'seconds':\n        return value < 2 ? `Second` : `Seconds`;\n\n      case 'minutes':\n        return value < 2 ? `Minute` : `Minutes`;\n\n      default:\n        return value < 2 ? `Hour` : `Hours`;\n    }\n};\n\n/**\n * Helper for adding appropriate text to a time number\n * Default is hours\n */\nconst getShortTextTimeUnit = (value: number, unit : string) => {\n  switch (unit) {\n    case 'seconds':\n      return value < 2 ? `sec` : `secs`;\n\n    case 'minutes':\n      return value < 2 ? `min` : `mins`;\n\n    default:\n      return value < 2 ? `hr` : `hrs`;\n  }\n};\n\nexport const isTimeUnit = (value: any) => {\n  switch(value) {\n    case 'seconds':\n    case 'minutes':\n    case 'hours':\n      return true;\n    default:\n      return false;\n  }\n};\n\nconst getTopLevelPath = (pathname: string) => {\n  const parts = pathname.split('/').filter(String);\n  return  parts.length > 0 ? \"/\" + parts[0] : \"/\";\n};\n\nconst getImageType = (img: HTMLImageElement) => {\n  const dataType = img.src.substr(0, 20);\n  if (dataType.includes('data')) {\n    return dataType.split('/')[1].split(';')[0];\n  }\n  return 'image/jpeg';\n};\n\nconst isValidImage = (file: File) => {\n  const acceptedImageTypes = ['image/jpeg', 'image/png'];\n\n  return file && acceptedImageTypes.includes(file['type']);\n};\n\nexport {\n  clamp,\n  isValidImage,\n  getImageType,\n  getTextTimeUnit,\n  isInsideRange,\n  getShortTextTimeUnit,\n  getTopLevelPath,\n};","import React, {\n  InputHTMLAttributes,\n  useState,\n  useCallback,\n  ChangeEvent,\n  Fragment,\n  useRef,\n  useEffect,\n} from 'react';\nimport styled, {css} from 'styled-components';\nimport {IFeedbackColor} from '../../index';\nimport {\n  isInsideRange,\n} from '../../helpers';\n\n/**\n * TODO to support all input range features\n * Currently you can pass this values but to be visually correct the needs to work around the current implementation.\n * Step\n * Vertical usage\n */\n\nconst ThumbDiameter = 16;\n\nconst SliderWrapper = styled.div<{disabled: boolean}>`\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  position: relative;\n  height: 30px;\n  margin-top: 20px;\n  ${({disabled}) => disabled && css`\n    opacity: .5;\n  `};\n`;\n\nconst HiddenInput = styled.input<{disabled:boolean}>`\n  width: 100%;\n  margin: 0;\n  padding:0;\n  opacity: .001;\n  z-index: 99;\n  cursor: ${({disabled}) => disabled ? `not-allowed` : `pointer`};\n`;\n\nconst Rail = styled.div`\n  position: absolute;\n  left: ${ThumbDiameter/2}px;\n  top: 10px;\n  width: calc(100% - ${ThumbDiameter}px);\n  height: 2px;\n  border-radius: 11px;\n  background-image: linear-gradient(to bottom, hsl(210, 30%, 96%), hsl(203, 42%, 94%) 98%);\n`;\n\nconst Mark = styled.span<{leftValue: number}>`\n  position: absolute;\n  top: -3px;\n  left: ${({leftValue}) => `calc(${leftValue}% + 7px)`};\n  width: 1px;\n  height: 9px;\n  opacity: 0.25;\n  background-color: hsl(205, 77%, 64%);\n`;\n\nconst MarkLabel = styled.span<{leftValue: number, alignment?: IMartAlignment,}>`\n  position: absolute;\n  top: -24px;\n  left: ${({leftValue}) => `calc(${leftValue}% + 7px)`};\n\n  font-size: 10px;\n  font-style: italic;\n  line-height: normal;\n  text-align: center;\n  color: hsla(195, 10%, 52%, 0.72);\n\n  ${({alignment}) => (alignment === 'center') && css`transform: translateX(-50%);;`}\n  ${({alignment}) => (alignment === 'right') && css`transform: translateX(5%);`}\n  ${({alignment}) => (alignment === 'left') && css`transform: translateX(-95%);`}\n`;\n\nconst ThumbWrapper = styled.div`\n  position: relative;\n  margin-right: 16px;\n  left: 0;\n  top: 10px;\n  width: calc(100% - ${ThumbDiameter}px);\n  height: 2px;\n`;\n\nconst Thumb = styled.span<{leftValue: number, bgColor: IFeedbackColor }>`\n  width: ${ThumbDiameter}px;\n  height: ${ThumbDiameter}px;\n  border-radius: 8px;\n  background-color: ${({theme, bgColor}) => theme.colors.feedback[bgColor]};\n  position: absolute;\n  top: -7.5px;\n  left: ${({leftValue}) => `${leftValue}%`};\n`;\n\nconst GhostThumb = styled(Thumb)`\n  opacity: .5;\n`;\n\nconst thumbLeftPosition = (value: number, min: number, max: number ) => {\n  return valueToPercent(value, min, max);\n};\n\nconst nearMark = (value: number, marks: ISliderMark[]) : number => {\n\n  let closest = marks.reduce((prev, curr) => {\n    return (Math.abs(curr.value - value) < Math.abs(prev.value - value) ? curr : prev);\n  });\n\n  return closest.value;\n};\n\n/**\n * Rules for a getValidMin\n * Max needs to be bigger than Min\n * if Min is not available and Max is positive default is 0\n * if Min is not available Max is negative min will be reduce by 1\n */\nconst getValidMin = (max: number, min?: number) : number => {\n\n  if((!max) && (!min)) {\n    return 0;\n  }\n\n  if(!min) {\n    if(max > 0) {\n      return 0;\n    }else {\n      return max - 1 ;\n    }\n  }\n  return min;\n};\n\n/**\n *\n * Max is required but null because it cans o.O\n * if Max is less value than min fix to one more than min\n */\nconst getValidMax = (max: number, min?: number) : number => {\n  if((max === null) && (!min)) {\n    return 100;\n  }\n\n  if(min && (min > max) ) {\n     return min + 1;\n  }\n\n  return max;\n};\n\nconst  valueToPercent = (value: number, min: number, max: number) : number => {\n  return Math.round(((value - min) * 100) / (max - min));\n};\n\n// const percentToValue = (percent: number, min: number, max: number) : number => {\n//   return (max - min) * percent + min;\n// };\n\n\nconst getMarkAlignment = (value: number, min: number, max: number) : IMartAlignment => {\n  if(value === min) {\n    return 'right';\n  }\n\n  if(value === max) {\n    return 'left';\n  }\n\n  return 'center';\n};\n\nconst renderMarks = (markList: ISliderMark[], min: number, max: number, listTag: string) => {\n\n  const listOptions : JSX.Element[] = [];\n  const marksElements = markList.map(({value, label}, index) => {\n    // * first and last should be 0% and 100%\n    const left = index === (markList.length - 1) ? 100 : valueToPercent(value, min, max);\n    listOptions.push(<option key={`option-${value}`}>{value}</option>);\n\n    return (\n      <Fragment key={`mark-${index}`}>\n        <Mark\n          data-leftvalue={`${left}%`}\n          leftValue={left}\n        />\n        <MarkLabel\n          leftValue={left}\n          alignment={getMarkAlignment(value, min, max)}\n        >\n          {label}\n        </MarkLabel>\n      </Fragment>\n    );\n  });\n\n  return (\n    <Fragment>\n      {marksElements}\n      <datalist id={listTag}>\n        {listOptions}\n      </datalist>\n    </Fragment>\n  );\n\n};\n\nexport type IMartAlignment = 'left' | 'center' | 'right';\n\nexport interface ISliderMark {\n  value: number\n  label?: string\n}\n\ninterface ISliderOwnProps {\n  min?: number\n  max: number\n  step?: number\n  marks?: ISliderMark[]\n  defaultValue?: number\n  value?: number\n  thumbColor?: IFeedbackColor\n  onlyMarkSelect?: boolean\n  inputCallback?: (value: number) => void\n  onChangeCallback?: (value: number) => void\n}\n\nexport type ISlider = ISliderOwnProps & InputHTMLAttributes<HTMLInputElement>;\n\nlet ghostThumbValue = 0;\n\nconst SliderInput : React.FC<ISlider> = ({\n  min,\n  max,\n  marks,\n  defaultValue,\n  thumbColor = 'info',\n  disabled = false,\n  onlyMarkSelect = false,\n  inputCallback = () => {},\n  onChangeCallback = () => {},\n  ...props\n}) => {\n\n  const maxValid = getValidMax(max, min);\n  const minValid = getValidMin(max, min);\n  const initValue = (defaultValue && isInsideRange(defaultValue, minValid, maxValid)) ? defaultValue : minValid;\n\n  const [selectedValue, setSelectedValue] = useState(initValue);\n  const [isGhostActive, setIsGhostActive ] = useState(false);\n\n  const thumbValueRef = useRef(thumbLeftPosition(selectedValue, minValid, maxValid));\n\n  if(marks && onlyMarkSelect) {\n    const mark = nearMark(selectedValue, marks);\n    const ghostVal = thumbLeftPosition(mark, minValid, maxValid);\n    ghostThumbValue = ghostVal;\n  }\n\n\n  const handleInputChange =  useCallback((e: ChangeEvent<HTMLInputElement>, lastValue: number) => {\n    const val = e.target.value;\n    if(val === null) { return; }\n    const numericVal = parseInt(val,10);\n\n    thumbValueRef.current = thumbLeftPosition(numericVal, minValid, maxValid);\n    const mark = marks ? nearMark(numericVal, marks) : numericVal;\n    const prevMark  = marks ? nearMark(lastValue, marks) : numericVal;\n\n    if(onlyMarkSelect && (prevMark !== mark)) {\n      onChangeCallback(mark);\n    }\n\n    if(!onlyMarkSelect) {\n      onChangeCallback(numericVal);\n    }\n\n    setSelectedValue(prev => {\n      if(numericVal === prev) { return prev; }\n      return numericVal;\n    });\n\n  },[marks, maxValid, minValid, onChangeCallback, onlyMarkSelect]);\n\n\n  const handleSelectStart = useCallback(() => {\n    setIsGhostActive(true);\n  }, []);\n\n  const handleSelectEnd =  useCallback((currentValue: number) => {\n    if(onlyMarkSelect) {\n      inputCallback(ghostThumbValue);\n    } else {\n      inputCallback(currentValue);\n    }\n\n    if(onlyMarkSelect) {\n      thumbValueRef.current = ghostThumbValue;\n    }\n\n    setIsGhostActive(false);\n  },[inputCallback, onlyMarkSelect]);\n\n  useEffect(() => {\n    const initValue = (defaultValue && isInsideRange(defaultValue, minValid, maxValid)) ? defaultValue : minValid;\n    thumbValueRef.current = thumbLeftPosition(initValue, minValid, maxValid);\n    setSelectedValue(initValue);\n\n  }, [defaultValue, maxValid, minValid]);\n\n  return(\n    <SliderWrapper disabled={disabled}>\n      <Rail />\n      <ThumbWrapper>\n        {marks && renderMarks(marks, minValid, maxValid, `sliderList-${minValid}-${maxValid}`)}\n        {isGhostActive && onlyMarkSelect\n          ? (\n            <GhostThumb\n              data-value={selectedValue}\n              leftValue={ghostThumbValue}\n              data-percentage={ghostThumbValue}\n              bgColor={thumbColor}\n            />\n          )\n          : null}\n        <Thumb\n          data-value={selectedValue}\n          leftValue={thumbValueRef.current}\n          data-percentage={thumbValueRef.current}\n          bgColor={thumbColor}\n        />\n      </ThumbWrapper>\n      <HiddenInput\n        {...props}\n        type='range'\n        disabled={disabled}\n        list={`sliderList-${minValid}-${maxValid}`}\n        min={minValid}\n        max={maxValid}\n        value={selectedValue}\n        onMouseUp={() => handleSelectEnd(selectedValue)}\n        onMouseDown={handleSelectStart}\n        onTouchStart={() => handleSelectEnd(selectedValue)}\n        onTouchEnd={handleSelectStart}\n        onChange={(e) => handleInputChange(e, selectedValue)}\n      />\n    </SliderWrapper>\n  );\n};\n\nexport default SliderInput;","import React, {useRef, useCallback, ChangeEvent, InputHTMLAttributes} from 'react';\nimport styled from 'styled-components';\nimport Button from './Button';\nimport { TypeButtonSizes, TypeButtonDesigns } from '..';\n\nconst Container = styled.div``;\nconst HiddenInput = styled.input`\n  display: none;\n`;\nconst StyledButton = styled(Button)`\n  text-align: center;\n`;\n\ninterface OwnProps {\n  text: string\n  buttonSize?: TypeButtonSizes\n  buttonDesign?: TypeButtonDesigns\n  inputCallback: (newFiles: FileList) => void \n}\n\ntype IFileInput = OwnProps & InputHTMLAttributes<HTMLInputElement>\nconst InputFileButton : React.FC<IFileInput> = ({text, buttonDesign, buttonSize, inputCallback, ...props}) => {\n\n  let fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFile = useCallback(async(e: ChangeEvent<HTMLInputElement>) => {\n    if (!(e.target.files && e.target.files.length > 0)) { return;}\n    const newFiles : FileList = e.target.files;\n      if(inputCallback) {\n        inputCallback(newFiles);\n      }\n      e.target.value = '';\n  },[inputCallback]);\n\n  const forwardClick = useCallback(() => {\n    if(fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  },[]);\n\n  return(\n    <Container>\n      <HiddenInput \n        {...props}\n        ref={fileInputRef}\n        type='file'\n        onChange={handleFile}\n      />\n      <StyledButton\n        onClick={forwardClick}\n        design={buttonDesign}\n        size={buttonSize}\n      >{text}\n      </StyledButton>\n    </Container>\n  );\n};\n\nexport default InputFileButton;","import React, {useState, useCallback} from 'react';\nimport styled from 'styled-components';\nimport {ITimeUnit} from '../../index';\nimport SliderInput, {ISlider} from '../atoms/SliderInput';\nimport {getShortTextTimeUnit, isTimeUnit} from '../../helpers';\nimport Label from '../atoms/Label';\n\n\n/**\n * This component relies in the slider for validations\n * Since the theme of this component is time unit values\n * Marks could also be handle by it.\n * Providing quantity of marks and generating the marks array based with unit\n */\n\nconst Container = styled.div``;\nconst Headers = styled.div`\n  font-size: 14px;\n  color: hsl(207, 5%, 57%);\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30px;\n  padding: 0 6px;\n`;\n\nconst ValueLabel = styled(Label)`\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  margin-bottom: 0;\n`;\n\nconst Unit = styled.div`\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  color: hsla(195, 10%, 52%, 0.72);\n  font-style: italic;\n  font-size: 12px;\n  line-height: 1.5;\n`;\n\nconst ValueTitle = styled.div`\n  display: flex;\n`;\n\ninterface IDurationSliderProps {\n  title: string\n  timeUnit: ITimeUnit | string\n  controlledValue?: number\n}\n\ntype IDurationSlider = IDurationSliderProps & ISlider;\n\nconst DurationSlider: React.FC<IDurationSlider> = (\n  {\n    max,\n    min,\n    defaultValue=0,\n    title='',\n    timeUnit,\n    controlledValue,\n    inputCallback,\n    ...props\n  }\n  ) => {\n\n  const [selectedValue, setSelectedValue] = useState(defaultValue);\n\n  const handleSelectedValue = useCallback((value: number) => {\n    if(inputCallback) {\n      inputCallback(value);\n    }\n    setSelectedValue(value);\n  },[inputCallback]);\n\n  const labelValue = controlledValue ? controlledValue : selectedValue;\n  const unit = isTimeUnit(timeUnit) ? getShortTextTimeUnit(labelValue, timeUnit) : timeUnit;\n\n  return(\n    <Container>\n      <Headers>\n        <Label htmlFor='duration-slider' labelText={title} />\n        <ValueTitle>\n          <ValueLabel htmlFor='duration-slider' labelText={`${labelValue}`} />\n          <Unit>{unit}</Unit>\n        </ValueTitle>\n      </Headers>\n      <SliderInput\n        {\n          ...props}\n        id='duration-slider'\n        max={max}\n        min={min}\n        defaultValue={defaultValue}\n        onChangeCallback={handleSelectedValue}\n      />\n    </Container>\n  );\n};\n\nexport default DurationSlider;","import React, {InputHTMLAttributes, useState, useCallback} from 'react';\nimport styled from 'styled-components';\nimport SliderInput, {ISliderMark} from '../atoms/SliderInput';\nimport {IFeedbackColor} from '../../index';\nimport Label from '../atoms/Label';\n\n\nconst Container = styled.div``;\nconst Headers = styled.div`\n  font-size: 14px;\n  color: hsl(207, 5%, 57%);\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 20px;\n  padding: 0 6px;\n`;\n\nconst ValueTitle = styled(Label)`\n  font-family: ${({ theme }) => theme.fontFamily.data};\n`;\n\nconst getThumbColor = (value: number) : IFeedbackColor =>  {\n  if(value <= 10) {\n    return 'error';\n  }\n\n  if((value > 10) && (value <= 30)) {\n    return 'warning';\n  }\n\n  return 'success';\n};\n\nconst getTitleLevel = (value: number) : string => {\n  if(value <= 10) {\n    return 'Critical Level';\n  }\n\n  if((value > 10) && (value <= 30)) {\n    return 'Warning Level';\n  }\n\n  return 'Safe Level';\n};\n\n\ninterface IPercentageSliderProps {\n  step?: number\n  marks?: ISliderMark[]\n  defaultValue?: number\n  value?: number\n  inputCallback?: (value: number) => void\n  updateThumbColor?:  (value: number) => IFeedbackColor\n  updateTitle?: (value: number) => string\n}\n\ntype IPercentageSlider = IPercentageSliderProps & InputHTMLAttributes<HTMLInputElement>;\n\nconst PercentageSlider: React.FC<IPercentageSlider> = (\n  {\n    defaultValue=0,\n    // title='',\n    inputCallback,\n    updateThumbColor,\n    updateTitle,\n    ...props\n  }\n  ) => {\n  const [selectedValue, setSelectedValue] = useState(defaultValue);\n\n  const handleSelectedValue = useCallback((value: number) => {\n    if(inputCallback) {\n      inputCallback(value);\n    }\n    setSelectedValue(value);\n  },[inputCallback]);\n\n  return(\n    <Container>\n      <Headers>\n        <Label\n          htmlFor='percentage-slider'\n          labelText={updateTitle ? updateTitle(selectedValue) : getTitleLevel(selectedValue)}\n        />\n        <ValueTitle htmlFor='percentage-slider' labelText={`${selectedValue}%`} />\n      </Headers>\n      <SliderInput\n        {...props}\n        id='percentage-slider'\n        max={100}\n        min={0}\n        defaultValue={defaultValue}\n        onChangeCallback={handleSelectedValue}\n        thumbColor={\n            updateThumbColor\n            ? updateThumbColor(selectedValue)\n            : getThumbColor(selectedValue)\n          }\n      />\n    </Container>\n  );\n};\n\nexport default PercentageSlider;","import React, { useState, InputHTMLAttributes } from 'react';\nimport Input from '../atoms/Input';\nimport Label from '../atoms/Label';\nimport { TypeFieldState } from '..';\n\ninterface OwnProps {\n  name: string;\n  label: string\n  fieldState: TypeFieldState\n  feedbackMessage?: string\n}\ntype Props = OwnProps & InputHTMLAttributes<HTMLInputElement>\n\n\nconst PasswordField : React.FC<Props> = ({ name, label, fieldState, feedbackMessage, ...props}) => {\n\n  const [ showValue, setShowValue ] = useState<boolean>(false);\n  const [ actionIcon, setActionIcon ] = useState<string>('PasswordHide');\n\n  const actionCallback = () => {\n    // Toggle show / hide and replace icon.\n    const newValue : boolean = !showValue;\n\n    setShowValue(newValue);\n    setActionIcon(newValue ? 'PasswordShow' : 'PasswordHide');\n  };\n\n  return (\n    <Label htmlFor={name} labelText={label}>\n      <Input type={showValue ? 'text' : 'password'} actionCallback={actionCallback} actionIcon={actionIcon} {...{ name, fieldState, feedbackMessage, ...props}} />\n    </Label>)\n  ;\n\n};\n\nexport default PasswordField;\n","import React from 'react';\nimport Input, { InputProps } from '../atoms/Input';\nimport Label from '../atoms/Label';\nimport { TypeFieldState } from '..';\n\ninterface OwnProps {\n  name: string\n  label: string\n  fieldState: TypeFieldState\n  feedbackMessage?: string\n}\n\ntype Props = OwnProps & InputProps\n\n\nconst TextField : React.FC<Props> = ({ name, label, fieldState='default', feedbackMessage, type:_type , ...props }) => {\n  return (\n    <Label htmlFor={name} labelText={label}>\n      <Input type='text' {...{fieldState, feedbackMessage, name, ...props }} />\n    </Label>\n  );\n};\n\n\nexport default TextField;","import React, { useState, useCallback} from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div<{height?: string}>`\n  ${({height}) => height ? `height: ${height}` : null};\n  position: relative;\n`;\n\nconst DragAndDrop = styled.div<{inDropZone: boolean}>`\n  border-radius: 5px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: ${({inDropZone}) => inDropZone ? `dashed #afa9a9 2px` : null};\n`;\n\ninterface IDropArea {\n  height?: string\n  text?: string\n  dropCallback?: (newFiles: FileList) => void\n}\n\nconst DropArea : React.FC<IDropArea> = ({height, text, dropCallback, ...props}) => {\n  const [inDropZone, setInDropZone] = useState(false);\n\nconst onDragEnter = useCallback((e) => {\n  e.preventDefault();\n  e.stopPropagation();\n\n  setInDropZone(true);\n},[]);\n\nconst onDragLeave = useCallback((e) => {\n  e.preventDefault();\n  e.stopPropagation();\n\n  setInDropZone(false);\n},[]);\n\nconst onDragOver = useCallback((e) => {\n  e.preventDefault();\n  e.stopPropagation();\n\n},[]);\n\nconst onDrop = useCallback((e ) => {\n  e.preventDefault();\n  e.stopPropagation();\n  if(e.dataTransfer?.files && dropCallback) {\n    dropCallback(e.dataTransfer.files);\n  }\n  setInDropZone(false);\n},[dropCallback]);\n\n  return(\n    <Container {...{height}} {...props}>\n      <DragAndDrop\n        {...{\n          inDropZone,\n          onDragEnter,\n          onDragLeave,\n          onDrop,\n          onDragOver\n        }}\n      >\n        {text}\n      </DragAndDrop>\n    </Container>\n  );\n};\n\nexport default DropArea;","import React, { Fragment } from 'react';\nimport styled, { css } from 'styled-components';\n\nconst CropLineStyle = css`\n  position: absolute;\n  display: block;\n  opacity: 0.1;\n`;\nconst TopLine = styled.div`\n  ${CropLineStyle};\n  cursor: n-resize;\n  width: 100%;\n  height: 5px;\n  left: 0;\n  top: -3px;\n`;\n\nconst RightLine = styled.div`\n  ${CropLineStyle};\n  cursor: e-resize;\n  right: -3px;\n  top: 0;\n  width: 5px;\n  height: 100%;\n`;\n\nconst BottomLine = styled.div`\n  ${CropLineStyle}\n  cursor: s-resize;\n  bottom: -3px;\n  height: 5px;\n  width: 100%;\n  left: 0;\n`;\n\nconst LeftLine = styled.div`\n  ${CropLineStyle};\n  cursor: w-resize;\n  left: -3px;\n  top: 0;\n  width: 5px;\n  height: 100%;\n`;\n\nconst resizeSquaresCss = css`\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border: solid 1px hsl(0, 1%, 28%);\n  background-color: hsl(0, 0%, 100%);\n`;\n\nconst PointN = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  top: -5px;\n  margin-left: -5px;\n  left: 50%;\n  ${({ isResizable }) => isResizable && css`\n    cursor: n-resize;\n  `};\n`;\nconst PointNW = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  top: -5px;\n  left: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: nw-resize;\n  `};\n`;\n\nconst PointNE = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  top: -5px;\n  right: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: ne-resize;\n  `};\n`;\nconst PointE = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n    margin-top: -5px;\n    top: 50%;\n    right: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: e-resize;\n  `};\n`;\nconst PointSE = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  bottom: -5px;\n  right: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: se-resize;\n  `};\n`;\nconst PointS = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: s-resize;\n  `};\n`;\nconst PointSW = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  bottom: -5px;\n  left: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: sw-resize;\n  `};\n`;\nconst PointW = styled.div<{ isResizable: boolean }>`\n  ${resizeSquaresCss};\n  margin-top: -5px;\n  top: 50%;\n  left: -5px;\n  ${({ isResizable }) => isResizable && css`\n    cursor: w-resize;\n  `};\n`;\n\ninterface ICropArea {\n  isResizable: boolean\n  hasAspectRatio: boolean\n}\n\nconst CropArea: React.FC<ICropArea> = ({\n  isResizable,\n  hasAspectRatio\n}) => {\n\n  return (\n    <Fragment>\n      {(isResizable && (!hasAspectRatio)) ? (\n        <Fragment>\n          {/* This lines are just for cursor css */}\n          <TopLine />\n          <RightLine />\n          <BottomLine />\n          <LeftLine />\n        </Fragment>)\n        : null}\n\n      {hasAspectRatio ? null\n        : (\n          <Fragment>\n            <PointN data-point='cursor-n' {...{ isResizable }} />\n            <PointE data-point='cursor-e' {...{ isResizable }} />\n            <PointS data-point='cursor-s' {...{ isResizable }} />\n            <PointW data-point='cursor-w' {...{ isResizable }} />\n          </Fragment>\n        )}\n\n\n      <PointNW data-point='cursor-nw' {...{ isResizable }} />\n      <PointNE data-point='cursor-ne' {...{ isResizable }} />\n      <PointSE data-point='cursor-se' {...{ isResizable }} />\n      <PointSW data-point='cursor-sw' {...{ isResizable }} />\n    </Fragment>\n  );\n};\n\nexport default CropArea;","import React, { useState, useCallback, useEffect } from 'react';\nimport styled, { css } from 'styled-components';\nimport InputFileButton from '../atoms/InputFileButton';\nimport ButtonWithIcon from '../atoms/ButtonWithIcon';\nimport DropArea from '../atoms/DropArea';\nimport CropTool from '../molecules/CropTool';\nimport { AvatarPlaceholder } from '../../svg';\nimport Label from '../atoms/Label';\nimport { isValidImage } from '../../helpers';\n\n/** TODO update to useReduce for better state  management*/\n\nconst CROP_HEIGHT_AREA = 500;\nconst CROP_WIDTH_AREA = 475;\nconst CANVAS_HEIGHT = 490;\nconst CANVAS_WIDTH = 460;\n\n// 0.95\nconst ratio = Math.round((CROP_WIDTH_AREA / CROP_HEIGHT_AREA) * 100) / 100;\n\nconst PHOTO_HEIGHT = `150px`;\nconst PHOTO_WIDTH = `142px`;\n\nconst Container = styled.div`\n  position: relative;\n  width: ${PHOTO_WIDTH};\n  ${({ theme }) => css`\n    font-family: ${theme.fontFamily.ui};\n  `}\n  button {\n    width: 100%;\n  }\n`;\n\nconst PreviewImageGroup = styled.div`\n  position: relative;\n  margin-bottom: 17px;\n  height: ${PHOTO_HEIGHT};\n  width: ${PHOTO_WIDTH};\n`;\n\nconst PhotoContainerStyle = css`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n  background-color: hsl(0, 0%, 90%);\n`;\nconst PreviewImage = styled.img`\n  ${PhotoContainerStyle}\n  object-fit: cover;\n`;\n\nconst PlaceholderText = styled.div`\n  color: hsl(207, 5%, 57%);\n  font-size: 14px;\n`;\n\nconst NoPhoto = styled.div`\n  ${PhotoContainerStyle}\n  padding-top: 15px;\n  ${PlaceholderText} {\n    margin-top: 18px;\n  }\n`;\n\nconst StyledInputFileButton = styled(InputFileButton)`\n  width: 100%;\n`;\n\nconst ButtonsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  button {\n    margin-bottom: 10px;\n  }\n\n`;\n\ninterface IAvatar {\n  title?: string\n  photoText?: string\n  buttonText?: string\n  buttonTextReplace?: string\n  cropToolTitle?: string\n  cropToolCancelTxt?: string\n  cropToolConfirmTxt?: string\n  uploaderCropText?: string\n  deletePhotoText?: string\n  currentImg?: string\n  hasCrop?: boolean\n  onAvatarUpdate?: (imgFile: File) => void\n  onError?: (msg: string) => void\n  onRemove?: () => void\n}\n\nconst AvatarUploader: React.FC<IAvatar> = ({\n  title = 'Photograph',\n  photoText = 'Drop Photo',\n  buttonText = 'Select File',\n  buttonTextReplace = 'Replace Photo',\n  uploaderCropText = 'Crop Image',\n  deletePhotoText = 'Remove',\n  cropToolTitle,\n  cropToolCancelTxt,\n  cropToolConfirmTxt,\n  currentImg,\n  hasCrop = true,\n  onAvatarUpdate = () => { },\n  onError = () => { },\n  onRemove = () => { }\n}) => {\n\n  const [avatarImg, setAvatarImg] = useState(currentImg);\n  const [cropImg, setCropImg] = useState('');\n  const [isCropOpen, setIsCropOpen] = useState(false);\n\n  const handleCrop = useCallback(async (newFileUrl: string, fileType: string) => {\n    setAvatarImg(newFileUrl);\n    let newFile = await fetch(\n      newFileUrl).then(r => r.blob()).then(blobFile => new File([blobFile], \"newAvatar\", { type: fileType })\n      );\n\n    onAvatarUpdate(newFile);\n\n    setIsCropOpen(false);\n  }, [onAvatarUpdate]);\n\n  const handleCropClose = useCallback(() => {\n    setIsCropOpen(false);\n    setCropImg('');\n    URL.revokeObjectURL(cropImg);\n  }, [cropImg]);\n\n  const handleFileUpload = useCallback((newFiles: FileList) => {\n    if (newFiles.length === 1) {\n      if (!isValidImage(newFiles[0])) {\n        onError('Please upload only jpeg and png file');\n        return;\n      }\n      const prevImg = URL.createObjectURL(newFiles[0]);\n\n      if (hasCrop) {\n        setCropImg(prevImg);\n        setIsCropOpen(true);\n      } else {\n        onAvatarUpdate(newFiles[0]);\n        setAvatarImg(prevImg);\n      }\n\n    } else {\n      onError('Drop only one file');\n    }\n  }, [hasCrop, onError, onAvatarUpdate]);\n\n  const handleEdit = useCallback((fileUrl: string) => {\n    setCropImg(fileUrl);\n    setIsCropOpen(true);\n  }, []);\n\n  useEffect(() => {\n    setAvatarImg(currentImg);\n    return () => {\n      setAvatarImg('');\n    };\n  }, [currentImg]);\n\n  const handleRemove = useCallback(() => {\n    setAvatarImg('');\n    onRemove();\n  }, [onRemove]);\n\n  return (\n    <Container>\n      <Label labelText={title} htmlFor='avatar-upload' />\n      <PreviewImageGroup>\n        {avatarImg\n          ? <PreviewImage src={avatarImg} alt='avatar image' crossOrigin='anonymous' />\n          : (\n            <NoPhoto>\n              <AvatarPlaceholder />\n              <PlaceholderText>{photoText}</PlaceholderText>\n            </NoPhoto>\n          )}\n        {((currentImg && (!hasCrop)) || !currentImg) && <DropArea height={PHOTO_HEIGHT} dropCallback={handleFileUpload} />}\n      </PreviewImageGroup>\n      {avatarImg\n        ? (\n          <ButtonsWrapper>\n            {hasCrop\n              ? <ButtonWithIcon icon='Crop' design='secondary' position='left' size='small' onClick={() => handleEdit(avatarImg)}>{uploaderCropText}</ButtonWithIcon>\n              : <StyledInputFileButton\n                  id='avatar-upload'\n                  text={buttonTextReplace}\n                  buttonSize='small'\n                  buttonDesign='secondary'\n                  accept='image/*'\n                  inputCallback={handleFileUpload}\n                />}\n            <ButtonWithIcon icon='Delete' design='secondary' position='left' size='small' onClick={handleRemove}>{deletePhotoText}</ButtonWithIcon>\n          </ButtonsWrapper>\n        )\n        : <StyledInputFileButton\n            id='avatar-upload'\n            text={buttonText}\n            buttonSize='small'\n            accept='image/*'\n            inputCallback={handleFileUpload}\n          />}\n      {isCropOpen && hasCrop\n        ? <CropTool\n            imgUrl={cropImg}\n            onCrop={handleCrop}\n            onClose={handleCropClose}\n            onError={onError}\n            canvasHeight={CANVAS_HEIGHT}\n            canvasWidth={CANVAS_WIDTH}\n            cropHeight={CROP_WIDTH_AREA}\n            cropWidth={CROP_HEIGHT_AREA}\n            aspectRatio={ratio}\n            title={cropToolTitle}\n            cancelBtnTxt={cropToolCancelTxt}\n            cropBtnTxt={cropToolConfirmTxt}\n            isResizable\n          />\n        : null}\n    </Container>\n  );\n};\n\nexport default AvatarUploader;","import React, { useState, useCallback, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport ReactDom from 'react-dom';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\nimport Button from '../atoms/Button';\nimport ButtonWithLoading from '../atoms/ButtonWithLoading';\nimport {\n  ICursorStyles,\n  IDrawArea,\n  ISelectedArea,\n  updateCursorStyle,\n  isLeftMouseButton,\n  updateCropValues,\n  drawImgValues,\n  initialCropValues,\n  updateCropWithAspect,\n} from '../../helpers/cropToolHelpers';\nimport { getImageType } from '../../helpers';\nimport CropArea from '../atoms/CropArea';\n\n// TODO: Add throttle  or window.requestAnimationFrame()//\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: hsla(202, 33%, 95%, 0.51);\n  -webkit-backdrop-filter: blur(5px);\n  backdrop-filter: blur(5px);\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  z-index: 999;\n`;\n\nconst InnerContainer = styled.div`\n    position: relative;\n  z-index: 99;\n`;\n\nconst ToolHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 17px;\n`;\n\nconst TextGroup = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  font-weight: 500;\n  color: hsl(210, 6%, 47%);\n  ${IconWrapper} {\n    display: flex;\n    align-items: center;\n    margin-right: 14px;\n  }\n`;\n\nconst ButtonsGroup = styled.div`\n  button + button {\n    margin-left: 10px;\n  }\n`;\n\nconst PreviewArea = styled.div<{ canvasHeight?: number, canvasWidth?: number }>`\n  position: relative;\n  overflow: hidden;\n  height: ${({ canvasHeight }) => canvasHeight ? `${canvasHeight}px` : `462px`};\n  width: ${({ canvasWidth }) => canvasWidth ? `${canvasWidth}px` : `485px`};\n  border-radius: 5px;\n  background-color: hsla(202, 33%, 95%, 0.8);\n  background-image: repeating-linear-gradient(45deg, transparent, transparent 35px, rgba(255,255,255,.8) 35px, rgba(255,255,255,.8) 70px);\n`;\n\nconst HiddenImage = styled.img`\n  display: none;\n`;\n\nconst SelectedArea = styled.div<{ cropLeft: number, cropTop: number, cropWidth: number, cropHeight: number }>`\n  position: absolute;\n  border: dashed 1px hsl(0, 0%, 24%);\n  box-shadow: 0 0 0 9999em hsla(0, 0%, 32%, 0.75);\n  ${({ cropLeft, cropTop, cropWidth, cropHeight }) => css`\n    top: ${cropTop}px;\n    left: ${cropLeft}px;\n    width: ${cropWidth}px;\n    height: ${cropHeight}px;\n  `};\n  cursor: move;\n`;\n\nconst viewDimensions: ISelectedArea = {\n  cropLeft: 0,\n  cropTop: 0,\n  cropWidth: 350,\n  cropHeight: 300,\n  mouseStartX: 0,\n  mouseStartY: 0,\n  imgLeft: 0,\n  imgTop: 0,\n  imgWidth: 400,\n  imgHeight: 400,\n  cursorStart: 'default',\n  isResizing: false,\n};\n\ninterface ICrop {\n  title?: string\n  cancelBtnTxt?: string\n  cropBtnTxt?: string\n  imgUrl: string\n  isResizable?: boolean\n  cropHeight?: number\n  cropWidth?: number\n  canvasHeight: number\n  canvasWidth: number\n  aspectRatio?: number\n  onCrop?: (newFileUrl: string, fileType: string) => void\n  onClose?: () => void\n  onError?: (msg: string) => void\n}\n\nconst CropTool: React.FC<ICrop> = ({\n  title = 'Crop Image',\n  cancelBtnTxt = 'Cancel',\n  cropBtnTxt = 'Crop & Save',\n  isResizable = true,\n  cropHeight = 300,\n  cropWidth = 350,\n  canvasHeight = 400,\n  canvasWidth = 450,\n  aspectRatio,\n  imgUrl,\n  onCrop,\n  onClose = () => { },\n  onError = () => { }\n}) => {\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [_loadDimensions, setLoadDimensions] = useState(viewDimensions);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const imgRef = useRef<HTMLImageElement>(null);\n  const cropRef = useRef<HTMLDivElement | null>(null);\n\n  const drawImgOnCanvas = useCallback(() => {\n    if (!canvasRef || !imgRef) { return; }\n    const newImage = imgRef.current;\n    if (!newImage) {\n      onError('error loading image');\n      return;\n    }\n    const canvas = canvasRef.current;\n    if (!canvas) {\n      onError('error loading canvas');\n      return;\n    }\n\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) {\n      onError('error drawing image');\n      return;\n    }\n\n    const newImgDraw = drawImgValues(newImage, canvasHeight, canvasWidth);\n    ctx?.drawImage(newImage, newImgDraw.left, newImgDraw.top, newImgDraw.width, newImgDraw.height);\n    const newCrop: IDrawArea = initialCropValues(\n      cropWidth,\n      cropHeight,\n      canvasWidth,\n      canvasHeight,\n      newImgDraw.width,\n      newImgDraw.height,\n      aspectRatio\n    );\n    // triggers a render to repaint canvas\n    setLoadDimensions((prevState) =>\n    ({\n      ...prevState,\n      cropLeft: newCrop.left,\n      cropTop: newCrop.top,\n      cropWidth: newCrop.width,\n      cropHeight: newCrop.height,\n      imgLeft: newImgDraw.left,\n      imgTop: newImgDraw.top,\n      imgWidth: newImgDraw.width,\n      imgHeight: newImgDraw.height,\n    })\n    );\n\n    viewDimensions.cropLeft = newCrop.left;\n    viewDimensions.cropTop = newCrop.top;\n    viewDimensions.cropWidth = newCrop.width;\n    viewDimensions.cropHeight = newCrop.height;\n    viewDimensions.imgLeft = newImgDraw.left;\n    viewDimensions.imgTop = newImgDraw.top;\n    viewDimensions.imgWidth = newImgDraw.width;\n    viewDimensions.imgHeight = newImgDraw.height;\n    viewDimensions.cursorStart = 'default';\n    viewDimensions.isResizing = false;\n    setIsLoading(false);\n  }, [aspectRatio, canvasHeight, canvasWidth, cropHeight, cropWidth, onError]);\n\n  // Mouse handlers //\n  const handleCrop = useCallback(async (cropArea: IDrawArea) => {\n    setIsLoading(true);\n    if (!canvasRef || !canvasRef.current || !imgRef) { return; }\n\n    const newImage = imgRef.current;\n    if (!newImage) { return; }\n\n    const canvas = canvasRef.current;\n    if (!canvas) { return; }\n\n    const ctx = canvas.getContext(\"2d\");\n    // ctx.imageSmoothingEnabled = false; </// not sure required\n    const cropImageData = ctx?.getImageData(cropArea.left, cropArea.top, cropArea.width, cropArea.height);\n    if (!cropImageData) { return; }\n\n    const canvasCropped = document.createElement('canvas');\n    const cropContext = canvasCropped.getContext('2d');\n    canvasCropped.width = cropArea.width;\n    canvasCropped.height = cropArea.height;\n\n    cropContext?.putImageData(cropImageData, 0, 0);\n    const imgType = getImageType(newImage);\n    const newImgUrl = canvasCropped.toDataURL(imgType);\n    if (onCrop) {\n      onCrop(newImgUrl, imgType);\n    }\n  }, [onCrop]);\n\n  const handleMouseDown = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!cropRef) { return; }\n    if (!isLeftMouseButton(e)) { return; }\n\n    const rect = cropRef.current?.getBoundingClientRect();\n    if (!rect) { return; }\n    const { left, top, width, height } = rect;\n    const [posX, posY] = [e.clientX, e.clientY];\n    let newCursorStyle: ICursorStyles;\n    if (!isResizable) {\n      newCursorStyle = 'move';\n    } else {\n      newCursorStyle = updateCursorStyle(left, top, width, height, posX, posY);\n    }\n\n    viewDimensions.mouseStartX = posX;\n    viewDimensions.mouseStartY = posY;\n    viewDimensions.cursorStart = newCursorStyle;\n    viewDimensions.isResizing = true;\n  }, [isResizable]);\n\n  const handleMouseUp = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!viewDimensions.isResizing) { return; }\n    viewDimensions.isResizing = false;\n  }, []);\n\n  const updateSelect = useCallback((left, top, width, height) => {\n    if (!cropRef.current) { return; }\n    cropRef.current.style.left = `${left}px`;\n    cropRef.current.style.top = `${top}px`;\n    cropRef.current.style.width = `${width}px`;\n    cropRef.current.style.height = `${height}px`;\n\n  }, []);\n\n  const handleMouseMove = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!cropRef) { return; }\n    if (!viewDimensions.isResizing) { return; }\n\n    const rect = cropRef.current?.getBoundingClientRect();\n    if (!rect) { return; }\n\n    const [posX, posY] = [e.clientX, e.clientY];\n    const newDimensions = aspectRatio\n      ? updateCropWithAspect(viewDimensions, posX, posY, aspectRatio)\n      : updateCropValues(viewDimensions, posX, posY);\n\n    if (!newDimensions.isUpdateRequired) { return; }\n\n    viewDimensions.cropTop = newDimensions.top;\n    viewDimensions.cropLeft = newDimensions.left;\n    viewDimensions.cropWidth = newDimensions.width;\n    viewDimensions.cropHeight = newDimensions.height;\n    viewDimensions.mouseStartX = posX;\n    viewDimensions.mouseStartY = posY;\n\n    updateSelect(viewDimensions.cropLeft,\n      viewDimensions.cropTop,\n      viewDimensions.cropWidth,\n      viewDimensions.cropHeight);\n\n  }, [aspectRatio, updateSelect]);\n\n  const handleOnMouseLeave = useCallback((e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!viewDimensions.isResizing) { return; }\n    viewDimensions.isResizing = false;\n  }, []);\n  //End of Mouse handlers//\n\n  return (\n    ReactDom.createPortal(\n      <Container>\n        <InnerContainer>\n          <ToolHeader>\n            <TextGroup>\n              <Icon icon='Crop' size={20} color='dimmed' />\n              {title}\n            </TextGroup>\n            <ButtonsGroup>\n              <Button\n                design='secondary'\n                size='small'\n                onClick={onClose}\n              >\n                {cancelBtnTxt}\n              </Button>\n              <ButtonWithLoading\n                loading={isLoading}\n                size='small'\n                onClick={() => handleCrop({\n                  left: viewDimensions.cropLeft,\n                  top: viewDimensions.cropTop,\n                  width: viewDimensions.cropWidth,\n                  height: viewDimensions.cropHeight\n                })}\n              > {cropBtnTxt}\n              </ButtonWithLoading>\n            </ButtonsGroup>\n          </ToolHeader>\n          <PreviewArea\n            canvasHeight={canvasHeight}\n            canvasWidth={canvasWidth}\n            onMouseUp={handleMouseUp}\n            onMouseMove={handleMouseMove}\n            onMouseLeave={handleOnMouseLeave}\n          >\n            <HiddenImage ref={imgRef} src={imgUrl} onLoad={drawImgOnCanvas} crossOrigin='anonymous' />\n            <canvas\n              ref={canvasRef}\n              width={`${canvasWidth}px`}\n              height={`${canvasHeight}px`}\n            />\n            <SelectedArea\n              ref={cropRef}\n              onMouseDown={handleMouseDown}\n              {...{\n                cropLeft: viewDimensions.cropLeft,\n                cropTop: viewDimensions.cropTop,\n                cropWidth: viewDimensions.cropWidth,\n                cropHeight: viewDimensions.cropHeight,\n                isResizing: viewDimensions.isResizing,\n              }}\n            >\n              <CropArea\n                {...{ isResizable }}\n                hasAspectRatio={aspectRatio ? true : false}\n              />\n            </SelectedArea>\n          </PreviewArea>\n        </InnerContainer>\n      </Container>, document.body)\n  );\n};\n\nexport default CropTool;","import React, {Fragment} from 'react';\nimport styled from 'styled-components';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 27px;\n  ${IconWrapper} {\n    display: flex;\n    align-items: center;\n  }\n`;\n\nconst PlusIcon = styled(Icon)``;\n\nconst PlusIconWrapper = styled.div`\n  margin: 0 30px;\n  ${IconWrapper}{\n    transform: rotate(45deg);\n    [stroke]{\n      stroke: hsl(205, 22%, 66%);\n    }\n  }\n`;\n\ninterface IBigIconsSummary {\n  icons: string[]\n  color?: ISvgIcons['color']\n  size?: number,\n  weight?: 'light' | 'regular' | 'heavy' | 'strong'\n}\n\nconst BigIconsSummary: React.FC<IBigIconsSummary> = ({\n  icons,\n  color = 'dimmed',\n  size = 72,\n  weight='light',\n  ...props\n}) => {\n  return (\n    <Container {...props}>\n      {icons.map((icon, index) => {\n        return (\n          <Fragment key={`type-upload-${icon}}`}>\n            {(index !== 0) && <PlusIconWrapper><PlusIcon icon='CloseCompact' size={22} /></PlusIconWrapper>}\n            <Icon icon={icon} {...{color, size, weight}} />\n          </Fragment>\n        );\n      })}\n    </Container>\n  );\n};\n\nexport default BigIconsSummary;","import React, { Fragment, ReactElement, useCallback, useState } from 'react';\nimport styled from 'styled-components';\nimport BigIconsSummary from '../../Misc/atoms/BigIconsSummary';\nimport DropArea from '../atoms/DropArea';\nimport InputFileButton from '../atoms/InputFileButton';\n\nconst Container = styled.div`\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n`;\n\nconst StyledDropArea = styled(DropArea)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n`;\n\nconst InputButtonWrapper = styled.div`\n  z-index: 99;\n  margin-top: 20px;\n`;\n\nconst FilesUploadGroup = styled.div<{ height?: string, hasFiles: boolean }>`\n  padding: ${({ hasFiles }) => hasFiles ? '26px 0 20px 0' : '65px 0 42px 0'};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border-radius: 5px;\n  background-color: hsl(204, 15%, 94%);\n  position: relative;\n`;\n\nconst Title = styled.div`\n  color: hsl(208, 8%, 38%);\n  font-size: 20px;\n`;\n\nconst Description = styled.div`\n  font-size: 14px;\n  line-height: 2.14;\n  text-align: center;\n  color: hsl(207, 5%, 57%);\n  margin-top: 10px;\n  max-width: 386px;\n`;\n\nconst getUpdateFiles = (newFiles: FileList, files: FileList | null, allowedFileTypes?: string[]): IUploadedFiles => {\n\n  // creates a newFiles variable to prevent errors with input\n  const newFilesTransfer = new DataTransfer();\n  const rejectedFilesTransfer = new DataTransfer();\n\n  for (let index = 0; index < newFiles.length; index++) {\n\n    const isCorrectType = (allowedFileTypes === undefined) || (allowedFileTypes.length === 0) ? true : allowedFileTypes.includes(newFiles[index].type);\n    if (isCorrectType) {\n      newFilesTransfer.items.add(newFiles[index]);\n    } else {\n      rejectedFilesTransfer.items.add(newFiles[index]);\n    }\n  }\n\n  if (files === null) {\n    const result: IUploadedFiles = { goodFiles: newFilesTransfer.files, rejectedFiles: rejectedFilesTransfer.files };\n    return result;\n  }\n\n  const updatedFilesTransfer = new DataTransfer();\n  const fileNamesSet = new Set();\n\n  for (let index = 0; index < files.length; index++) {\n    updatedFilesTransfer.items.add(files[index]);\n    const name = files[index].name;\n    fileNamesSet.add(name);\n  }\n\n  for (let index = 0; index < newFilesTransfer.files.length; index++) {\n\n    const isAlready = fileNamesSet.has(newFilesTransfer.files[index].name);\n    const isCorrectType = (allowedFileTypes === undefined) || (allowedFileTypes.length === 0) ? true : allowedFileTypes.includes(newFiles[index].type);\n\n    if (isAlready || !isCorrectType) {\n      rejectedFilesTransfer.items.add(newFiles[index]);\n    } else {\n      updatedFilesTransfer.items.add(newFilesTransfer.files[index]);\n    }\n  }\n  const result: IUploadedFiles = { goodFiles: updatedFilesTransfer.files, rejectedFiles: rejectedFilesTransfer.files };\n\n  return result;\n};\n\ninterface IUploadedFiles {\n  goodFiles: FileList\n  rejectedFiles: FileList\n}\n\ninterface IAreaUploaderManager {\n  title?: string\n  description?: string\n  fileIcons?: string[]\n  selectFilesText?: string\n  addMoreFilesText?: string\n  allowedFileTypes?: string[]\n  customComponent?: ReactElement\n  onChangeCallback?: (goodFiles: FileList, rejectedFiles: FileList) => void\n}\n\nconst AreaUploadManager: React.FC<IAreaUploaderManager> = ({\n  title = 'Select Files',\n  description,\n  fileIcons,\n  selectFilesText = 'Select Files',\n  addMoreFilesText = 'Add More Files',\n  allowedFileTypes,\n  customComponent,\n  onChangeCallback = () => { },\n}) => {\n\n  const [files, setFiles] = useState<FileList | null>(null);\n\n  const handleFiles = useCallback((newFiles: FileList) => {\n    console.log('files received', newFiles);\n\n    if (newFiles === null) {\n      return;\n    }\n    const { goodFiles, rejectedFiles } = getUpdateFiles(newFiles, files, allowedFileTypes);\n    setFiles(goodFiles);\n    onChangeCallback(goodFiles, rejectedFiles);\n\n  }, [files, allowedFileTypes, onChangeCallback]);\n\n  return (\n    <Container>\n      <FilesUploadGroup hasFiles={files !== null}>\n        <StyledDropArea dropCallback={handleFiles} />\n        {\n          customComponent\n            ? customComponent\n            : (\n              <Fragment>\n                {fileIcons && <BigIconsSummary icons={fileIcons} />}\n                <Title>{title}</Title>\n                {files === null && <Description>{description}</Description>}\n              </Fragment>\n            )\n        }\n\n        <InputButtonWrapper>\n          <InputFileButton\n            buttonSize='small'\n            text={files !== null ? addMoreFilesText : selectFilesText}\n            inputCallback={handleFiles}\n            multiple\n            buttonDesign={files !== null ? 'secondary' : 'primary'}\n          />\n        </InputButtonWrapper>\n      </FilesUploadGroup>\n    </Container>\n  );\n};\n\nexport default AreaUploadManager;","import React, { FormHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport { StyledLabel } from './atoms/Label';\n\nconst FormContainer = styled.form<{spacing: string}>`\n  ${({spacing})=> spacing && css`\n      & >  ${StyledLabel} {\n        margin-bottom: ${spacing};\n      }\n  `}\n`;\n\ninterface OwnProps {\n  spacing?: string;\n}\n\ntype Props = OwnProps & FormHTMLAttributes<HTMLFormElement>\n\nconst Form : React.FC<Props> = ({ children, spacing = '45px;' ,...props }) => {\n  return (\n    <FormContainer spacing={spacing} {...props}>\n      {children}\n    </FormContainer>\n  );\n};\n\nexport default Form;","import React, { useCallback, useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport {endOfDay, format,isEqual,min,set } from 'date-fns';\n\nimport Icon from '../../Icons/Icon';\n\nconst Container = styled.div<{hide:boolean}>`\n  display: flex;\n  flex-direction: column;\n\n  ${({hide}) => hide && css`\n    display: none;\n  `}\n`;\n\nconst Label = styled.label`\n  ${({theme}) => css`\n    font-family: ${theme.fontFamily.ui};\n    ${({theme})=> theme.typography.filters.datepicker.metaHeader.default};\n  `}\n  padding: 12px;\n  border-bottom: ${({theme}) => theme.colors.divider} 1px solid;\n\n  // ${({theme})=> theme.typography.filters.datepicker.metaHeader.active};\n\n`;\n\nconst Item = styled.div`\n  padding: 12px;\n  display: flex;\n  justify-content: left;\n`;\n\nconst IconWrap = styled.div`\n  flex: 0 0 40px;\n  padding-top: 2px;\n`;\n\nconst Input = styled.input<{ readOnly? : boolean }>`\n  ${({theme}) => css`\n    font-family: ${theme.fontFamily.data};\n  `}\n\n  ${({theme})=> theme.typography.filters.value};\n\n  width: 100%;\n  border: none;\n  border: transparent 1px solid;\n  outline: none;\n  flex: 1;\n  justify-content: space-between;\n  border-radius: 3px;\n\n  &:focus, &:hover {\n    border-color: blue;\n  }\n\n  ${({readOnly}) => readOnly && css`\n    border-color: transparent;\n  `}\n`;\n\nconst TimeColon = styled.div`\n  flex: 0 0 20px;\n`;\n\nconst InputWrap = styled.div`\n  display: flex;\n  flex: 1;\n  box-sizing: border-box;\n  border-radius: 3px;\n\n  &:focus-within {\n\n    background: ${({theme}) => theme.colors.menu.passive};\n    box-shadow: 0px 0px 0px 5px ${({theme}) => theme.colors.menu.passive};\n\n    ${Input} {\n      border-color: ${({theme}) => theme.colors.divider};\n    }\n\n    ${TimeColon}{\n      color: ${({theme}) => theme.colors.pureTop};\n      text-align: center;\n    }\n  }\n`;\n\n\n\ninterface IProps {\n  title: string\n  hasDate: boolean\n  hasTime: boolean\n  date?: Date\n  setDateCallback?: (date: Date) => void\n  setTimeCallback?: (date: Date) => void\n  allowAfterMidnight?: boolean,\n}\n\nconst DateTimeBlock : React.FC<IProps> = ({\n  allowAfterMidnight = false,\n  title,\n  hasDate,\n  hasTime,\n  date = new Date(),\n  setDateCallback = ()=>{},\n}) => {\n\n\n  const [displayHours, setDisplayHours] = useState<string>(format(date, \"mm\"));\n  const [displayMinutes, setDisplayMinutes] = useState<string>(format(date,'HH'));\n\n  const setDateHours = useCallback(({target: {value}}: React.ChangeEvent<HTMLInputElement>) => {\n    setDateCallback(\n      min([\n        endOfDay(date),\n        set(date, {\n          hours: Number(value),\n          minutes: Number(displayMinutes),\n          seconds: 0,\n          milliseconds: 0\n        })\n      ])\n    );\n  }, [date, displayMinutes, setDateCallback]);\n\n  const setDateMinutes = useCallback(({target: {value}}: React.ChangeEvent<HTMLInputElement>) => {\n    setDateCallback(\n      min([\n        endOfDay(date),\n        set(date, {\n          hours: displayHours === '24' ? 23 : Number(displayHours),\n          minutes: Number(value) % 60,\n          seconds: 0,\n          milliseconds: 0\n        })\n      ])\n    );\n  }, [date, displayHours, setDateCallback]);\n\n  useEffect(()=>{\n    if(allowAfterMidnight && isEqual(date, endOfDay(date))){\n      setDisplayHours('24');\n      setDisplayMinutes('00');\n    } else {\n      setDisplayMinutes(format(date, 'mm'));\n      setDisplayHours(format(date,'HH'));\n    }\n  },[date, allowAfterMidnight]);\n\n  return (\n    <Container hide={!hasDate && !hasTime}>\n      <Label>{title}</Label>\n\n      {hasDate && (\n        <Item>\n          <IconWrap>\n            <Icon icon='Date' color='dimmed' size={14} weight='light' />\n          </IconWrap>\n          <InputWrap>\n            <Input type='text' readOnly value={format(date, \"yyyy/MM/dd\")} />\n          </InputWrap>\n        </Item>\n      )}\n\n      {hasTime && (\n        <Item>\n          <IconWrap>\n            <Icon icon='Time' color='dimmed' size={14} weight='light' />\n          </IconWrap>\n          <InputWrap>\n            <Input name='hours' type='number' min='0' max={allowAfterMidnight ? 24: 23} value={displayHours} onChange={setDateHours} />\n            <TimeColon>:</TimeColon>\n            <Input name='minutes' type='number' min='0' max='59' value={displayMinutes} onChange={setDateMinutes} />\n          </InputWrap>\n        </Item>\n      )}\n\n    </Container>\n  );\n};\n\n\n\nexport default DateTimeBlock;\n\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport Icon from '../../Icons/Icon';\nimport DateTimeBlock from '../atoms/DateTimeBlock';\n\nimport { format, startOfMonth, endOfMonth, eachDayOfInterval, isAfter, eachWeekOfInterval, addMonths, endOfWeek, intervalToDuration, isSameMonth, isSameDay, isToday, startOfDay, endOfDay, isWithinInterval, add, set } from 'date-fns';\nimport { ja, enUS } from 'date-fns/locale';\n\n/**\n * Convert a single days duration to an interval.\n * @param day The day to convert to an interval\n */\n\nconst initializeInterval = (day: Date): DateInterval => {\n  return {\n    start: set(day, { seconds: 0, milliseconds: 0 }),\n    end: endOfDay(day)\n  };\n};\n\nconst TODAY = new Date();\nconst TODAY_INTERVAL: DateInterval = initializeInterval(startOfDay(new Date()));\n\ntype CellStates = \"off\" | \"single\" | \"start\" | \"end\" | \"inside\" | \"hover\" | \"insideHover\";\ntype DateMode = \"single\" | \"interval\";\ntype TimeMode = \"off\" | \"single\" | \"interval\";\n\ninterface TimeProperties {\n  hours: number\n  minutes: number\n  seconds: number\n  milliseconds: number\n}\n\ninterface TimeRange {\n  start: TimeProperties\n  end: TimeProperties\n}\n\nconst Container = styled.div`\n  display: flex;\n`;\n\nconst DateTimeArea = styled.div`\n  border-right: ${({ theme }) => theme.colors.divider} 1px solid;\n  width: 170px;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst TimeZoneOption = styled.div`\n  border-top: ${({ theme }) => theme.colors.divider} 1px solid;\n  margin-top: auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px;\n  box-sizing: border-box;\n`;\n\nconst TimeZoneLabel = styled.div`\n  ${({ theme }) => css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.filters.subOption.label};\n  `}\n\n`;\nconst TimeZoneValue = styled.div`\n  ${({ theme }) => css`\n    font-family: ${theme.fontFamily.data};\n    ${theme.typography.filters.subOption.value};\n  `}\n`;\n\nconst CalendarArea = styled.div`\n  user-select: none;\n`;\n\nconst CalendarHeader = styled.div`\n  display: flex;\n  height: 70px;\n  border-bottom: ${({ theme }) => theme.colors.divider} 1px solid;\n  text-align: center;\n`;\n\nconst CurrentMonth = styled.div`\n  flex: 1;\n  flex-direction: column;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  ${({ theme }) => theme.typography.filters.datepicker.focusedMonth};\n  span {\n    display: block;\n    flex: 0;\n    ${({ theme }) => theme.typography.filters.datepicker.focusedYear};\n  }\n`;\n\nconst IconWrap = styled.div``;\n\nconst PaginateMonth = styled.button`\n  cursor: pointer;\n  flex: 0 0 90px;\n\n  border: none;\n  background: transparent;\n  outline: none;\n\n  ${({ theme }) => theme.typography.filters.datepicker.monthLink.default};\n\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n\n  &:hover {\n    background: transparent;\n    ${({ theme }) => css`\n      background: ${theme.colors.menu.active};\n      ${theme.typography.filters.datepicker.monthLink.hover}\n    `};\n\n    ${IconWrap}{\n      [stroke]{\n        stroke: ${({ theme }) => theme.colors.pureBase};\n      }\n    }\n  }\n\n`;\n\nconst CalBody = styled.div`\n  padding: 5px 0;\n`;\n\nconst CalRow = styled.div`\n  display: grid;\n  grid-template-columns: repeat(7, 40px);\n  height: 40px;\n  box-sizing: border-box;\n\n  padding: 0 10px;\n`;\n\nconst CalHRow = styled(CalRow)`\n  border-bottom: ${({ theme }) => theme.colors.divider} 1px solid;\n`;\n\nconst CalCell = styled.div`\n\n  display: flex;\n  text-align: center;\n  justify-content: center;\n  align-items: center;\n\n  border-radius: 5px;\n  ${({ theme }) => theme.typography.filters.datepicker.calendar.default};\n\n  ${({ theme }) => css`\n    font-family: ${theme.fontFamily.data};\n  `}\n\n`;\n\nconst CalHCell = styled(CalCell)`\n  ${({ theme }) => theme.typography.filters.datepicker.calendar.header};\n`;\n\nconst CalCellB = styled(CalCell) <{ thisMonth?: boolean, isToday?: boolean, state?: CellStates }>`\n  cursor: pointer;\n  position: relative;\n\n  ${({ thisMonth }) => !thisMonth && css`\n    ${({ theme }) => theme.typography.filters.datepicker.calendar.otherMonth};\n  `}\n\n  ${({ isToday }) => isToday && css`\n    border: 2px solid ${({ theme }) => theme.colors.menu.passive};\n  `}\n\n  ${({ state, theme }) => (state === 'single' || state === 'start' || state === 'end') && css`\n    background: ${theme.colors.menu.active};\n    ${theme.typography.filters.datepicker.calendar.active};\n  `}\n\n  ${({ state }) => (state === 'start') && css`\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  `}\n\n  ${({ state }) => (state === 'end') && css`\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  `}\n\n  ${({ state }) => (state === 'insideHover') && css`\n    background: ${({ theme }) => theme.colors.divider} !important;\n  `}\n\n  ${({ state }) => (state === 'inside') && css`\n    background: ${({ theme }) => theme.colors.menu.passive};\n    border-radius: 0;\n    opacity: 1;\n\n    &:nth-child(7n+1), &:nth-child(7n){\n      &::after {\n        background: ${({ theme }) => theme.colors.menu.passive};\n        display: block;\n        content: '';\n        position: absolute;\n        left: -10px;\n        width: 10px;\n        top: 0;\n        height: 40px;\n      }\n    }\n\n    &:nth-child(7n)::after {\n      left: auto;\n      right: -10px;\n    }\n  `}\n\n`;\n\nconst enDayGuide: string[] = [\n  \"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"\n];\n\nconst jpDayGuide: string[] = ['', '', '', '', '', '', ''];\n\nexport const isDateInterval = (value: any): value is DateInterval => {\n  if (value === null || value === undefined) {\n    return false;\n  }\n\n  if (value.start === null || value.start === undefined) {\n    return false;\n  }\n\n  if (value.end === null || value.end === undefined) {\n    return false;\n  }\n\n  return (value.start instanceof Date) && (value.end instanceof Date);\n};\n\nexport interface DateInterval {\n  start: Date;\n  end: Date;\n}\nexport interface IDatePicker {\n  initialValue?: Date | DateInterval\n  dateMode?: DateMode\n  timeMode?: TimeMode\n  hasEmptyValue?: boolean\n  dateTimeTextUpper?: string\n  dateTimeTextLower?: string\n  timeZoneTitle?: string\n  timeZoneValueTitle?: string\n  updateCallback?: (data: DateInterval | Date) => void\n  lang?: 'en' | 'ja'\n}\n\nconst DatePicker: React.FC<IDatePicker> = ({\n  dateMode = 'interval',\n  timeMode = 'interval',\n  dateTimeTextUpper = 'From',\n  dateTimeTextLower = 'To',\n  timeZoneTitle = 'Timezone',\n  timeZoneValueTitle = 'JST',\n  hasEmptyValue = false,\n  updateCallback = () => { },\n  initialValue,\n  lang = 'en'\n}) => {\n\n  // TODO: Have a function to output tidied up data for the configuration.\n\n  const [selectedRange, setSelectedRange] = useState<DateInterval | null>(getInitialValue(hasEmptyValue, initialValue));\n  const [focusedMonth, setFocusedMonth] = useState(selectedRange === null ? TODAY : selectedRange.start);\n  const [targetedDate, setTargetedDate] = useState<'start' | 'end' | 'done'>('start');\n  const [weeksOfMonth, setWeeksOfMonth] = useState<Date[]>([]);\n  const isInitialMount = useRef(true);\n  \n  const dayGuide = lang === 'ja' ? jpDayGuide : enDayGuide;\n\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n    } else {\n      const now = new Date();\n      setSelectedRange(initializeInterval(startOfDay(now)));\n      setFocusedMonth(now);\n    }\n\n  }, [dateMode, timeMode]);\n\n  useEffect(() => {\n    setWeeksOfMonth(eachWeekOfInterval({\n      start: startOfMonth(focusedMonth),\n      end: endOfMonth(focusedMonth)\n    }));\n  }, [focusedMonth]);\n\n  useEffect(() => {\n    if (selectedRange !== null) {\n      updateCallback((dateMode === 'interval' || timeMode === 'interval') ? selectedRange : selectedRange.start);\n    }\n  }, [dateMode, selectedRange, timeMode, updateCallback]);\n\n  /**\n   * Handler for updating picked dates when a calendar day has been selected.\n   * @param day The day of the cell that has been clicked / actioned.\n   */\n  const onCellClick = useCallback((day: Date) => {\n\n    // The first click will initialize the range when empty is valid\n    const validRange = selectedRange ? selectedRange : TODAY_INTERVAL;\n\n    if (dateMode === 'single') {\n\n      // === Single Mode ===\n      const start = updateDay(validRange.start, day);\n      const end = updateDay(validRange.end, day);\n      setSelectedRange({\n        start,\n        end\n      });\n    } else {\n\n      // === Interval Mode ===\n      // Setting the interval end (assuming it's later than the start).\n      if (targetedDate === 'end' && isAfter(day, validRange.start)) {\n        const end = updateDay(validRange.end, day);\n        setSelectedRange({\n          ...validRange,\n          end\n        });\n\n        setTargetedDate('done');\n\n        // For first interaction || setting the end date correctly || if completed and restarting.\n      } else if (targetedDate === 'start' || targetedDate === 'end' || targetedDate === 'done') {\n\n        const start = updateDay(validRange.start, day);\n        const end = updateDay(validRange.end, day);\n        setSelectedRange({\n          start,\n          end\n        });\n        setTargetedDate('end');\n\n      }\n    }\n  }, [dateMode, selectedRange, targetedDate]);\n\n\n  const updateStartDate = useCallback((start: Date) => {\n    const { end } = selectedRange ? selectedRange : TODAY_INTERVAL;\n    if (isAfter(add(start, { minutes: 1 }), end)) return;\n    setSelectedRange({ start, end });\n  }, [selectedRange]);\n\n  const updateEndDate = useCallback((end: Date) => {\n    const { start } = selectedRange ? selectedRange : TODAY_INTERVAL;\n    if (isAfter(add(start, { minutes: 1 }), end)) return;\n    setSelectedRange({ start, end });\n  }, [selectedRange]);\n\n  return (\n    <Container>\n\n      <DateTimeArea>\n        <DateTimeBlock title={dateTimeTextUpper} hasDate hasTime={timeMode !== 'off'} date={selectedRange ? selectedRange.start : TODAY_INTERVAL.start} setDateCallback={updateStartDate} />\n        <DateTimeBlock title={dateTimeTextLower} hasDate={dateMode === 'interval'} hasTime={timeMode === 'interval'} date={selectedRange ? selectedRange.end : TODAY_INTERVAL.end} allowAfterMidnight setDateCallback={updateEndDate} />\n\n        <TimeZoneOption>\n          <TimeZoneLabel>{timeZoneTitle}</TimeZoneLabel>\n          <TimeZoneValue>{timeZoneValueTitle}</TimeZoneValue>\n        </TimeZoneOption>\n\n      </DateTimeArea>\n\n      <CalendarArea>\n        <CalendarHeader>\n\n          <PaginateMonth type='button' onClick={() => setFocusedMonth(addMonths(focusedMonth, -1))}>\n            <IconWrap><Icon icon='Left' color='dimmed' size={10} /></IconWrap>\n            {format(addMonths(focusedMonth, -1), \"MMM\", { locale: lang === 'ja' ? ja : enUS })}\n          </PaginateMonth>\n\n          <CurrentMonth>\n            <span>{format(focusedMonth, \"yyyy\")}</span>\n            {format(focusedMonth, \"MMMM\", { locale: lang === 'ja' ? ja : enUS })}\n          </CurrentMonth>\n\n          <PaginateMonth type='button' onClick={() => setFocusedMonth(addMonths(focusedMonth, 1))}>\n            {format(addMonths(focusedMonth, 1), \"MMM\", { locale: lang === 'ja' ? ja : enUS })}\n            <IconWrap><Icon icon='Right' color='dimmed' size={10} /></IconWrap>\n          </PaginateMonth>\n\n        </CalendarHeader>\n\n        <CalHRow>\n          {dayGuide.map((day, index) => {\n            return <CalHCell key={index}>{day}</CalHCell>;\n          })}\n        </CalHRow>\n\n        <CalBody>\n          {weeksOfMonth.map((week, index) => {\n            const days = eachDayOfInterval({\n              start: week,\n              end: endOfWeek(week)\n            });\n\n            return (\n              <CalRow key={index}>\n                {days.map((day, index) => {\n                  return <CalCellB key={index} onClick={() => onCellClick(day)} state={cellState(day, selectedRange)} thisMonth={isSameMonth(day, focusedMonth)} isToday={isToday(day)}>{format(day, \"d\")}</CalCellB>;\n                })}\n              </CalRow>\n            );\n          })}\n        </CalBody>\n\n      </CalendarArea>\n\n\n    </Container>\n  );\n\n};\n\nexport default DatePicker;\n\n/**\n * Used to work out the state of the calendar cell in regards to selection or position in\n * the date range.\n * @param day Date - The date of the cell in the calendar.\n * @param interval Interval - The date range that is active in the calendar.\n */\nconst cellState = (day: Date, interval: Interval | null, _hoverDate?: Date): CellStates => {\n\n  let state: CellStates = \"off\";\n  let isInsideInterval = false;\n\n  if (interval === null) {\n    return state;\n  }\n\n  const singleDayRange: boolean = intervalToDuration(interval).days === 0;\n\n  try {\n    isInsideInterval = isWithinInterval(day, interval);\n  } catch (error) {\n    isInsideInterval = false;\n    console.log('wrong interval in datepicker', error);\n  }\n\n  if (isInsideInterval || isSameDay(interval.start, day)) {\n\n    if (singleDayRange) {\n      state = \"single\";\n    } else if (isSameDay(interval.start, day)) {\n      state = \"start\";\n    } else if (isSameDay(interval.end, day)) {\n      state = \"end\";\n    } else {\n      state = \"inside\";\n    }\n  }\n\n  return state;\n};\n\nconst updateDay = (date: Date, target: Date) => {\n\n  const newDate = set(target, {\n    hours: date.getHours(),\n    minutes: date.getMinutes(),\n    seconds: date.getSeconds(),\n    milliseconds: date.getMilliseconds(),\n  });\n\n  return newDate;\n};\n\nconst getInitialValue = (hasEmptyValue: boolean, initialValue?: Date | DateInterval): DateInterval | null => {\n  if (hasEmptyValue && initialValue === undefined) {\n    return null;\n  }\n\n  const validInitial = initialValue ? initialValue : initializeInterval(startOfDay(new Date()));\n\n  return (validInitial instanceof Date) ? initializeInterval(validInitial) : validInitial;\n};","import React, { HTMLAttributes } from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div<{ height?: string }>`\n\n  ${({theme}) => theme.styles.filters.dropdownContainer.background};\n\n  border-radius: 3px;\n  position: relative;\n  display: inline-flex;\n  overflow: hidden;\n  padding-top: 5px;\n\n  &::before {\n    ${({theme}) => theme.styles.filters.dropdownContainer.topBorder};\n    content: '';\n\n    display: block;\n    height: 5px;\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n  }\n\n`;\n\nconst Inner = styled.div`\n  display: inline-flex;\n  flex-direction: row;\n`;\n\ninterface IProps {\n  height?: string\n}\n\ntype Props = IProps & HTMLAttributes<HTMLDivElement>\n\nconst FilterDropdownContainer : React.FC<Props> = ({children,...props}) => {\n  return (\n    <Container {...props}>\n      <Inner>\n        {children}\n      </Inner>\n    </Container>\n  );\n};\n\nexport default FilterDropdownContainer;","import React, { ButtonHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport { resetButtonStyles } from '../../common';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\nconst FlipWrapper = styled.div<{ isSortAscending: boolean }>`\n  ${({ isSortAscending }) => isSortAscending && css`\n      transform: scaleY(-1);\n  `};\n`;\n\nconst StyledButton = styled.button<{ isOpen?: boolean, hasFlipArrow?: boolean }>`\n  ${resetButtonStyles};\n  background-color: hsl(200, 23%, 97%);\n  border-radius: 3px;\n  border: solid 1px hsl(207, 16%, 86%);\n  box-shadow: 0 4px 9px 0 hsla(204, 22%, 67%, 0.07);\n  color: hsl(0, 0%, 50%);\n  height: 30px;\n  font-size: 12px;\n\n  ${({ theme }) => theme && css`\n    font-family: ${theme.fontFamily.ui};\n    transition: opacity ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut};\n\n    ${IconWrapper} {\n      padding: 0 9px;\n      display: flex;\n      align-items: center;\n      [stroke]{\n        stroke: ${theme.colors.icons.dimmed};\n      }\n    }\n\n    &:hover:enabled, &:active:enabled {\n      background-color: hsl(205, 100%, 72%);\n      border: solid 1px hsl(205, 100%, 72%);\n      color: ${theme.colors.icons.inverse};\n\n      ${IconWrapper} {\n        [stroke]{\n          stroke: ${theme.colors.icons.inverse};\n        }\n      }\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 50%;\n    }\n`};\n\n  ${({ theme, isOpen, hasFlipArrow }) => isOpen && hasFlipArrow && css`\n    background-color: hsl(205, 100%, 72%);\n    border: solid 1px hsl(205, 100%, 72%);\n    color: ${theme.colors.icons.inverse};\n\n    ${IconWrapper} {\n      [stroke]{\n        stroke: ${theme.colors.icons.inverse};\n      }\n    }\n  `};\n`;\n\nconst InnerContainer = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst ButtonText = styled.div<{ hasFlipArrow: boolean }>`\n  padding-right: ${({ hasFlipArrow }) => hasFlipArrow ? '3px' : '20px'};\n`;\n\ninterface OwnProps {\n  icon: string\n  hasFlipArrow?: boolean\n  isSortAscending?: boolean\n  isOpen?: boolean\n}\n\ntype IFilterButton = OwnProps & ButtonHTMLAttributes<HTMLButtonElement>;\n\nconst FilterButton: React.FC<IFilterButton> = ({\n  icon,\n  hasFlipArrow = false,\n  isSortAscending = false,\n  isOpen,\n  children,\n  ...props\n}) => {\n\n  return (\n    <StyledButton type='button' {...props} {...{ isOpen, hasFlipArrow }}>\n      <InnerContainer>\n        <FlipWrapper {...{ isSortAscending }}>\n          <Icon\n            icon={icon}\n            size={12}\n            weight='light'\n          />\n        </FlipWrapper>\n        <ButtonText {...{ hasFlipArrow }}>{children}</ButtonText>\n        {hasFlipArrow && <Icon icon={isOpen ? 'Up' : 'Down'} size={8} />}\n      </InnerContainer>\n    </StyledButton>\n  );\n};\n\nexport default FilterButton;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { CheckMark } from '../../svg';\nimport { IInputOptionsType } from '..';\nimport { dimensions } from '../../themes/common';\n\nconst Title = styled.div`\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  display: block;\n  color: hsl(0, 0%, 56%);\n  font-size: 14px;\n  font-weight: 500;\n  margin-left: 12px;\n  user-select: none;\n  pointer-events: none;\n`;\n\nconst FakeCheckbox = styled.div`\n  box-sizing: border-box;\n  position: relative;\n  width: 18px;\n  height: 18px;\n  border-radius: 5px;\n  border-width: 2px;\n  border-style: solid;\n`;\n\nconst FakeCheckboxInner = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  box-sizing: border-box;\n`;\n\nconst CheckMarkWrapper = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  svg {\n    display: block;\n    [stroke]{\n      stroke: transparent;\n    }\n    [fill] {\n      fill: ${({ theme }) => theme.colors.icons.inverse};\n    }\n  }\n`;\n\nconst FakeRadioButton = styled.div`\n  position: relative;\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  user-select: none;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-width: 2px;\n  border-style: solid;\n`;\n\nconst FakeInnerRadio = styled.div`\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  user-select: none;\n`;\n\nconst Container = styled.div<{ disabled: boolean, selected: boolean }>`\n  display: flex;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n\n  ${({ theme: { styles }, selected, disabled }) => styles && css`\n    ${FakeCheckbox}, ${FakeRadioButton} {\n      ${styles.form.checkbox.unchecked.default};\n    }\n\n    &:hover {\n      cursor: pointer;\n      ${Title} {\n        color: ${styles.form.checkbox.checked.hover.backgroundColor};\n      }\n\n      ${FakeCheckbox} {\n        ${styles.form.checkbox.unchecked.hover};\n      }\n\n      ${FakeRadioButton} {\n        border-color: ${styles.form.checkbox.unchecked.hover.borderColor};\n      }\n    }\n\n    ${selected && css`\n      ${Title} {\n        color: ${styles.form.checkbox.checked.default.backgroundColor};\n      }\n      ${FakeCheckbox} {\n        ${styles.form.checkbox.checked.default};\n        border: none;\n      }\n\n      ${FakeRadioButton} {\n        border-color: ${styles.form.checkbox.checked.default.backgroundColor};\n        ${FakeInnerRadio} {\n          background-color: ${styles.form.checkbox.checked.default.backgroundColor};\n        }\n      }\n\n      &:hover {\n        ${FakeCheckbox}{\n          ${styles.form.checkbox.checked.hover};\n        }\n\n        ${FakeRadioButton} {\n          border-color: ${styles.form.checkbox.checked.hover.backgroundColor};\n          ${FakeInnerRadio} {\n            background-color: ${styles.form.checkbox.checked.hover.backgroundColor};\n          }\n        }\n      }\n    `};\n\n    ${disabled && css`\n      cursor: not-allowed;\n    `};\n  `};\n`;\n\ninterface IFilterOption {\n  title: string\n  value?: string | number\n  optionType?: IInputOptionsType\n  selected?: boolean\n  disabled?: boolean\n  onClick?: () => void\n}\n\nconst FilterOption: React.FC<IFilterOption> = ({\n  title,\n  value,\n  optionType = \"text\",\n  selected = false,\n  disabled = false,\n  onClick = () => { },\n  ...props\n}) => {\n\n  const iconWeight: number = dimensions.icons.weights['regular'];\n\n  return (\n\n    <Container\n      {...{ onClick, disabled, selected}}\n      {...props}\n    >\n      {(optionType === 'checkbox') && (\n        <FakeCheckbox>\n          <FakeCheckboxInner>\n            {selected && <CheckMarkWrapper><CheckMark color='inverse' stroke='inverse' size={12} weight={iconWeight} /></CheckMarkWrapper>}\n          </FakeCheckboxInner>\n        </FakeCheckbox>\n      )}\n      {(optionType === 'radio') && <FakeRadioButton><FakeInnerRadio /></FakeRadioButton>}\n      <Title>{title}</Title>\n    </Container>\n  );\n};\n\nexport default FilterOption;","import React, { InputHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport { resetButtonStyles } from '../../common';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\nconst Container = styled.div<{ hasBorder: boolean, disabled: boolean, noBackground: boolean, width?: string }>`\n  ${({ theme, hasBorder, disabled, noBackground, width }) => css`\n    ${hasBorder && css`\n      border: 1px solid ${theme.styles.form.input.default.normal.borderColor};\n      box-shadow: 0 4px 9px 0 hsla(205, 35%, 68%, 0.07);\n    `};\n\n    ${disabled && css`\n      opacity: 50%;\n      cursor: not-allowed;\n      `\n    };\n\n    ${width && css`\n      width: ${width};\n    `};\n\n    background-color: ${noBackground ? 'transparent' : 'hsla(0, 0%, 100%, 1.000)'};\n  `};\n\n  ${IconWrapper} {\n    flex-shrink: 0;\n    display: flex;\n  }\n\n  height: 30px;\n  padding: 0 0 0 8px;\n  align-items: center;\n  display: flex;\n  border-radius: 3px;\n`;\n\nconst CrossButton = styled.button`\n  ${resetButtonStyles};\n  flex-shrink: 0;\n  flex-grow: 0;\n  flex-basis: auto;\n  width: 26px;\n\n  ${IconWrapper} {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n`;\n\nconst StyledInput = styled.input<{ color: string }>`\n  ${({ theme, color }) => css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.form.input.value.compact};\n    &::placeholder {\n      ${theme.typography.form.input.placeholder.compact};\n      color: ${theme.colors.icons[color]};\n      font-size: 12px;\n    }\n  `};\n\n  &:disabled {\n    cursor: not-allowed;\n  }\n\n  font-size: 12px;\n  border: none;\n  height: 100%;\n  width: 100%;\n  background-color: transparent;\n  box-sizing: border-box;\n  border-radius: 3px;\n  outline: none;\n  margin-left: 7px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n`;\n\ninterface OwnProps {\n  color?: 'mono' | 'dimmed' | 'subtle';\n  hasBorder?: boolean\n  iconSize?: number\n  noBackground?: boolean\n  width?: string\n  hasCrossButton?: boolean\n  onCrossClick?: () => void\n}\n\nexport type IBasicSearchInput = OwnProps & InputHTMLAttributes<HTMLInputElement>\n\nconst BasicSearchInput: React.FC<IBasicSearchInput> = ({\n  color = 'subtle',\n  hasBorder = true,\n  iconSize = 12,\n  disabled = false,\n  noBackground = false,\n  hasCrossButton = false,\n  onCrossClick = () => {},\n  width,\n  ...props\n}) => {\n  return (\n    <Container {...{ hasBorder, disabled, noBackground, width }}>\n      <Icon {...{ color }} icon='Search' weight='regular' size={iconSize} />\n      <StyledInput\n        {...{ color, disabled }}\n        {...props}\n      />\n      {hasCrossButton && <CrossButton onClick={onCrossClick}> <Icon icon='CloseCompact' color='dimmed' size={12} /></CrossButton>}\n    </Container>\n  );\n};\n\nexport default BasicSearchInput;","import { IInputOptionsType } from '../Form';\nimport { IBasicSearchInput } from '../Misc/atoms/BasicSearchInput';\nimport { DateInterval } from './molecules/DatePicker';\nimport { IDropdownDatePicker } from './molecules/DropdownDatePicker';\nimport { IFilterDropdown } from './molecules/FilterDropdown';\n\ntype IFilterItem = { text: string; value: string | number; }\ntype IFilterValue = IFilterItem | IFilterItem[] | null;\ntype IFilterType = 'search' | 'dropdown' | 'datepicker';\n\n// Type checking for IFilterItem\n// https://stackoverflow.com/questions/14425568/interface-type-check-with-typescript\nconst isFilterItem = (item: any): item is IFilterItem => {\n  if (item === null || item === undefined) { return false; }\n\n  if (item.value === undefined || item.value === null) {\n    return false;\n  }\n\n  if (item.text === null) {\n    return false;\n  }\n\n  return ((typeof item.value === 'number') || (typeof item.value === 'string')) && (typeof item.text === 'string');\n};\n\ninterface IFilterResult {\n  id: string\n  type: IFilterType\n  selected: IFilterItem | IFilterItem[] | DateInterval | Date | null;\n}\n\ninterface ISearchFilter extends IBasicSearchInput {\n  id: string\n  canHide?: boolean\n  showFieldText?: string\n  selected?: IFilterItem\n}\n\ninterface IFilterDropdownExt extends IFilterDropdown {\n  id: string\n  canHide?: boolean\n}\n\ninterface IFilterDatePicker extends IDropdownDatePicker {\n  id: string\n  canHide?: boolean\n  name?: string\n}\n\ninterface IFilterDropdownConfig {\n  id: string\n  canHide?: boolean\n  buttonIcon: string\n  buttonText: string\n  list: IFilterItem[];\n  selected?: IFilterValue;\n  disabled?: boolean\n  optionType?: IInputOptionsType\n  isLoading?: boolean\n  loadingText?: string\n  hasOptionsFilter?: boolean\n  searchPlaceholder?: string\n  maxDisplayedItems?: number\n  searchResultText?: string\n  name?: string\n}\n\nexport {\n  isFilterItem\n};\n\nexport type {\n  IFilterType,\n  IFilterItem,\n  IFilterResult,\n  IFilterValue,\n  ISearchFilter,\n  IFilterDropdownExt,\n  IFilterDatePicker,\n  IFilterDropdownConfig\n};","import { useEffect, useRef } from 'react';\n\nexport type outClickType = (eve: MouseEvent) => void;\nexport function useClickOutside(elRef: any, elCallback: outClickType) {\n\n  const callbackRef = useRef<outClickType>(elCallback);\n  callbackRef.current = elCallback;\n\n  useEffect(() => {\n    const handleClickOutside = (eve: MouseEvent) => {\n      if (!(elRef?.current?.contains(eve.target))) {\n        callbackRef.current(eve);\n      }\n    };\n\n    document.addEventListener('click', handleClickOutside, true);\n    return () => {\n      document.removeEventListener('click', handleClickOutside, true);\n    };\n  }, [elCallback, elRef]);\n}","import React, { useState, useRef, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport FilterButton from '../atoms/FilterButton';\nimport { useClickOutside } from '../../hooks/useClickOutside';\n\nconst Container = styled.div`\n  position: relative;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: inline-block;\n`;\n\nconst ContentBox = styled.div<{ openState: IDropOpen, disabled: boolean, minWidth: number }>`\n  z-index: 100;\n  min-width: ${({ minWidth }) => minWidth}px;\n  position: absolute;\n\n  ${({ openState, disabled }) => openState && css`\n    display: ${openState.isOpen ? 'inline-block' : 'none'};\n    display: ${disabled && 'none'};\n\n    ${openState.position === 'bottom-right' && `\n      bottom: 0;\n      left: 0;\n      transform: translateY(calc(100% + 5px ));\n    `};\n\n    ${openState.position === 'bottom-left' && `\n      bottom: 0;\n      right: 0;\n      transform: translateY(calc(100% + 5px ));\n    `};\n\n    ${openState.position === 'top-left' && `\n      top: 0;\n      right: 0;\n      transform: translateY(calc( -100% - 5px ));\n    `};\n\n    ${openState.position === 'top-right' && `\n      top: 0;\n      left: 0;\n      transform: translateY(calc( -100% - 5px ));\n    `};\n\n  `};\n`;\n\nconst getDropPosition = (buttonRect: DOMRect, minWidth: number, minHeight: number): IOpenPos => {\n  let position: IOpenPos = 'bottom-right';\n  const openLeft = (buttonRect.left + minWidth) > window.innerWidth;\n  const openTop = (buttonRect.bottom + minHeight) > window.innerHeight;\n  const spaceTop = buttonRect.bottom > minHeight;\n\n  if (openLeft && openTop && spaceTop) {\n    position = 'top-left';\n  }\n\n  if (openTop && !openLeft && spaceTop) {\n    position = 'top-right';\n  }\n\n  if (!openTop && openLeft) {\n    position = 'bottom-left';\n  }\n\n  return position;\n};\n\ntype IOpenPos = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'\n\ninterface IDropOpen {\n  isOpen: boolean,\n  position: IOpenPos,\n}\n\ninterface IFilterDropHandler {\n  buttonIcon: string\n  buttonText: string\n  disabled?: boolean\n  minWidth?: number\n  minHeight?: number\n  isSortAscending?: boolean\n  onToggleOpenCallback?: (isOpen: boolean) => void\n  onCloseCallback?: () => void\n}\n\nconst FilterDropHandler: React.FC<IFilterDropHandler> = ({\n  buttonIcon,\n  buttonText,\n  disabled = false,\n  minWidth = 270,\n  minHeight = 190,\n  isSortAscending,\n  children,\n  onToggleOpenCallback = () => { },\n  onCloseCallback = () => { },\n  ...props\n}) => {\n\n  const [openState, setOpenState] = useState<IDropOpen>({\n    isOpen: false,\n    position: 'bottom-right',\n  });\n\n  const buttonWrapperRef = useRef<HTMLDivElement>(null);\n  const mainRef = useRef<HTMLDivElement>(null);\n\n  const handleClose = useCallback(() => {\n    if (openState.isOpen) {\n      onCloseCallback();\n    }\n\n    setOpenState((prev) => {\n      const isOpen = false;\n      return { ...prev, isOpen };\n    });\n\n  }, [onCloseCallback, openState.isOpen]);\n\n  useClickOutside(mainRef, handleClose);\n\n  const handleToggleOpen = useCallback((minWidth: number, minHeight: number) => {\n    if (!buttonWrapperRef.current) { return; }\n\n    const buttonRect = buttonWrapperRef.current.getBoundingClientRect();\n    if (!buttonRect) { return; }\n    const position: IOpenPos = getDropPosition(buttonRect, minWidth, minHeight);\n\n    onToggleOpenCallback(openState.isOpen);\n    setOpenState((prev) => {\n      const isOpen = !prev.isOpen;\n      return { ...prev, isOpen, position };\n    });\n  }, [onToggleOpenCallback, openState.isOpen]);\n\n  return (\n    <Container ref={mainRef} {...props}>\n      <ButtonWrapper ref={buttonWrapperRef}>\n        <FilterButton\n          icon={buttonIcon}\n          isOpen={openState.isOpen}\n          onClick={() => handleToggleOpen(minWidth, minHeight)}\n          {...{ disabled, isSortAscending }}\n          hasFlipArrow\n        >{buttonText}\n        </FilterButton>\n      </ButtonWrapper>\n      <ContentBox {...{ openState, disabled, minWidth }}>\n        {children}\n      </ContentBox>\n    </Container>\n  );\n};\n\nexport default FilterDropHandler;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport Spinner from '../../Indicators/Spinner';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 146px;\n  border-top: 1px solid hsl(0, 0%, 91%);\n`;\n\nconst LoadingText = styled.div`\n  ${({ theme }) => theme && css`\n    font-family: ${theme.fontFamily.data};\n  `}\n  color: hsl(0, 0%, 55%);\n  font-size: 12px;\n  font-style: italic;\n  padding: 15px 0;\n`;\n\ninterface ILoadingBox {\n  loadingText?: string\n}\n\nconst LoadingBox: React.FC<ILoadingBox> = ({ loadingText }) => {\n  return (\n    <Container>\n      <Spinner size='large' styling='primary' />\n      <LoadingText>{loadingText}</LoadingText>\n    </Container>\n  );\n};\n\nexport default LoadingBox;","import React, { useState, useCallback, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { IInputOptionsType } from '../../Form';\nimport FilterOption from '../../Form/atoms/FilterOption';\nimport BasicSearchInput from '../../Misc/atoms/BasicSearchInput';\n\nimport { IFilterItem, IFilterValue, isFilterItem } from '../FilterTypes';\nimport FilterDropHandler from '../atoms/FilterDropHandler';\nimport LoadingBox from '../atoms/LoadingBox';\n\nconst Container = styled.div`\n  display: inline-block;\n  position: relative;\n`;\n\nconst TopLine = styled.div`\n  ${({ theme }) => theme.styles.filters.dropdownContainer.topBorder};\n  height: 3px;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n`;\n\nconst InnerBox = styled.div`\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n  box-shadow: 0 4px 9px 0 hsla(204, 22%, 67%, 0.07);\n  border-right: solid 1px hsl(207, 16%, 86%);\n  border-bottom: solid 1px hsl(207, 16%, 86%);\n  border-left: solid 1px hsl(207, 16%, 86%);\n  background-color: hsl(200, 23%, 97%);\n`;\n\nconst StyledFilterOption = styled(FilterOption)`\n  letter-spacing: 0.2px;\n`;\n\nconst OptionList = styled.div`\n  ${StyledFilterOption} {\n    height: 35px;\n    padding-left: 10px;\n  }\n`;\n\nconst ResultsContainer = styled.div`\n  border-top: 1px solid hsl(0, 0%, 91%);\n  padding-bottom: 8px;\n`;\n\nconst ResultCounter = styled.div`\n  opacity: 0.75;\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  color: hsl(0, 0%, 55%);\n  font-size: 12px;\n  font-style: italic;\n  font-weight: 300;\n  display: flex;\n  align-items: center;\n  justify-content: left;\n  padding-left: 9px;\n  height: 30px;\n  margin-bottom: 6px;\n  border-bottom: 1px solid hsl(0, 0%, 91%);\n`;\n\nconst SearchWrapper = styled.div`\n  height: 41px;\n  display: flex;\n  align-items: center;\n`;\n\nconst isValueSelected = (item: IFilterItem, selected: IFilterValue) => {\n  let isItemSelected = false;\n\n  if (Array.isArray(selected)) {\n    selected.forEach((element: IFilterItem) => {\n      if (element.value === item.value) {\n        isItemSelected = true;\n      }\n    });\n\n  } else {\n    if (isFilterItem(selected)) {\n      isItemSelected = item.value === selected.value;\n    }\n  }\n\n  return isItemSelected;\n};\n\nconst getNewSelected = (item: IFilterItem, selected: IFilterValue, optionType: IInputOptionsType): IFilterValue => {\n  let isItemSelected = false;\n\n  if (optionType === 'checkbox') {\n    const validSelected = Array.isArray(selected)\n      ? selected\n      : isFilterItem(selected) ? [selected] : [];\n\n    const newSelected: IFilterItem[] = [];\n    validSelected.forEach((element: IFilterItem) => {\n      if (item.value === element.value) {\n        isItemSelected = true;\n      } else {\n        newSelected.push(element);\n      }\n    });\n    if (!isItemSelected) {\n      newSelected.push(item);\n    }\n\n    if (newSelected.length === 0) {\n      return null;\n    }\n\n    return newSelected;\n  }\n\n  return item;\n};\n\n/**\n * This is the list of values that will show in the dropdown\n *\n * @param list is all the items that can be in the dropdown\n * @param maxItems will define in case the dropdown has 300 options to only show until maxItems ( usually 4 or 6)\n * @param selected is a list of the values that are selected and that should be visible\n * although are not at the beginning of the list\n * @returns a FilterItem list to update the content of the dropdown\n */\n\nconst getVisibleList = (list: IFilterItem[], maxItems: number, selected: IFilterValue): IFilterItem[] => {\n\n  if (list.length <= maxItems) {\n    return list;\n  }\n\n  if (selected === null) {\n    return list.slice(0, maxItems);\n  }\n\n  if (isFilterItem(selected)) {\n    const index = list.findIndex(item => item.value === selected.value);\n\n    // if it doesn't exists return the list based in maxItems\n    if ((index !== -1)) {\n      return list.slice(0, maxItems);\n    }\n\n    // if exists and is inside the visibleRange just return slice\n    if ((index !== -1) && (index < maxItems)) {\n      return list.slice(0, maxItems);\n    }\n\n    //If not is somewhere after the maxItems remove last item and add it to the end.\n    const newList = list.slice(0, maxItems - 1);\n    newList.push(selected);\n    return newList;\n  }\n\n  if (Array.isArray(selected)) {\n\n    if (selected.length > maxItems) {\n      return selected.slice(0, maxItems);\n    }\n\n    if (selected.length === maxItems) {\n      return selected;\n    }\n\n    const selectedIndexList: number[] = [];\n\n    selected.forEach((element: IFilterItem) => {\n      const index = list.findIndex(item => item.value === element.value);\n\n      if (index !== -1) {\n        selectedIndexList.push(index);\n      }\n    });\n\n    selectedIndexList.sort(function (a, b) {\n      return a - b;\n    });\n\n    let selectedIndex = 0;\n    let visibleListAvailability = maxItems - selected.length;\n    const newList: IFilterItem[] = [];\n\n    for (let listIndex = 0; listIndex < list.length; listIndex++) {\n      if ((selectedIndex < selectedIndexList.length) && (listIndex === selectedIndexList[selectedIndex])) {\n        selectedIndex++;\n      } else {\n        visibleListAvailability--;\n      }\n      newList.push(list[listIndex]);\n\n      if (visibleListAvailability === 0) {\n        break;\n      }\n    }\n\n    if ((newList.length < maxItems) && (selectedIndex < selectedIndexList.length)) {\n      for (; selectedIndex < selectedIndexList.length; selectedIndex++) {\n        newList.push(list[selectedIndexList[selectedIndex]]);\n      }\n    }\n\n    return newList;\n  }\n\n  return list.slice(0, maxItems - 1);\n};\n\nconst getFilteredList = (list: IFilterItem[], newValue: string): IFilterItem[] => {\n  return list.filter(element => {\n    const valueString = element.text.toLowerCase();\n    return valueString.includes(newValue.toLowerCase());\n  });\n};\n\nconst getResultText = (template: string, visible: number, total: number) => {\n  const newMessage = template.replace('[TOTAL]', `${total}`);\n  return newMessage.replace('[VISIBLE]', `${visible}`);\n};\n\nexport interface IFilterDropdown {\n  buttonIcon: string\n  buttonText: string\n  list: IFilterItem[];\n  selected: IFilterValue;\n  disabled?: boolean\n  optionType?: IInputOptionsType\n  isLoading?: boolean\n  loadingText?: string\n  hasOptionsFilter?: boolean\n  searchPlaceholder?: string\n  maxDisplayedItems?: number\n  searchResultText?: string\n  onSelect: (newSelection: IFilterValue) => void;\n}\n\nconst FilterDropdown: React.FC<IFilterDropdown> = ({\n  buttonIcon,\n  buttonText,\n  list,\n  selected = null,\n  disabled = false,\n  isLoading = false,\n  loadingText,\n  optionType = 'text',\n  hasOptionsFilter,\n  searchPlaceholder,\n  maxDisplayedItems = 5,\n  searchResultText = 'Showing [VISIBLE] of [TOTAL]',\n  onSelect = () => { },\n  ...props\n}) => {\n\n  const [visibleList, setVisibleList] = useState(getVisibleList(list, maxDisplayedItems, selected));\n  const [searchText, setSearchText] = useState<string>('');\n\n  const handleClose = useCallback(() => {\n    setSearchText('');\n    setVisibleList(getVisibleList(list, maxDisplayedItems, selected));\n  }, [list, maxDisplayedItems, selected]);\n\n  const handleToggleOpen = useCallback(() => {\n    setSearchText('');\n    setVisibleList(getVisibleList(list, maxDisplayedItems, selected));\n  }, [list, maxDisplayedItems, selected]);\n\n  const handleSelection = useCallback((item: IFilterItem) => {\n    const newSelected = getNewSelected(item, selected, optionType);\n    onSelect(newSelected);\n  }, [selected, optionType, onSelect]);\n\n  const handleInputFilter = useCallback((e) => {\n    const { value } = e.target;\n    setSearchText(value);\n\n    if (value === '') {\n      setVisibleList(getVisibleList(list, maxDisplayedItems, selected));\n      return;\n    }\n\n    const newValue = typeof value === 'number' ? value.toString(10) : value;\n    const newList = getFilteredList(list, newValue);\n\n    // sending null so the filtered list doesn't force the selected values to appear.\n    setVisibleList(getVisibleList(newList, maxDisplayedItems, null));\n  }, [list, maxDisplayedItems, selected]);\n\n  useEffect(() => {\n    let isActive = true;\n    if (isActive) {\n      setSearchText(''); // clears searchText if something was selected and the dropdown is still open\n      setVisibleList(getVisibleList(list, maxDisplayedItems, selected));\n    }\n\n    return () => {\n      isActive = false;\n    };\n\n  }, [list, maxDisplayedItems, selected]);\n\n  return (\n    <Container {...props}>\n      <FilterDropHandler\n        {...{ buttonIcon, buttonText, disabled }}\n        onCloseCallback={handleClose}\n        onToggleOpenCallback={handleToggleOpen}\n      >\n        <TopLine />\n        <InnerBox>\n          {hasOptionsFilter && (\n            <SearchWrapper>\n              <BasicSearchInput\n                type='text'\n                hasBorder={false}\n                placeholder={searchPlaceholder}\n                color='dimmed'\n                iconSize={12}\n                value={searchText}\n                onChange={handleInputFilter}\n                noBackground\n              />\n            </SearchWrapper>\n          )}\n          {isLoading || !list\n            ? (\n              <LoadingBox {...{ loadingText }} />)\n            : (\n              <ResultsContainer>\n                {hasOptionsFilter && <ResultCounter>{getResultText(searchResultText, visibleList.length, list.length)}</ResultCounter>}\n                <OptionList>\n                  {(visibleList.length > 0) && visibleList.map((item: IFilterItem, index) => {\n                    const value = item.value;\n                    const text = item.text;\n                    return (\n                      <StyledFilterOption\n                        key={index}\n                        title={text}\n                        onClick={() => handleSelection(item)}\n                        selected={isValueSelected(item, selected)}\n                        {...{ optionType, value }}\n                      />\n                    );\n                  })}\n                </OptionList>\n              </ResultsContainer>)}\n        </InnerBox>\n      </FilterDropHandler>\n    </Container>\n  );\n};\n\nexport default FilterDropdown;","import React, { useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\nimport FilterOption from '../../Form/atoms/FilterOption';\nimport FilterDropHandler from '../atoms/FilterDropHandler';\nimport LoadingBox from '../atoms/LoadingBox';\nimport { IFilterItem } from '../FilterTypes';\nimport { resetButtonStyles } from '../../common';\n\nconst Container = styled.div`\n  display: inline-block;\n  position: relative;\n`;\n\nconst TopLine = styled.div`\n  ${({ theme }) => theme.styles.filters.dropdownContainer.topBorder};\n  height: 3px;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n`;\n\nconst InnerBox = styled.div`\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n  box-shadow: 0 4px 9px 0 hsla(204, 22%, 67%, 0.07);\n  border: solid 1px hsl(207, 16%, 86%);\n  border-top: unset;\n  background-color: hsl(200, 23%, 97%);\n`;\n\nconst StyledFilterOption = styled(FilterOption)`\n  letter-spacing: 0.2px;\n`;\n\nconst OptionList = styled.div`\n  ${StyledFilterOption} {\n    height: 35px;\n    padding-left: 10px;\n  }\n`;\n\nconst OrderGroup = styled.div`\n  display: flex;\n  border-top: ${({ theme: { colors } }) => colors.divider} 1px solid;\n  margin-top: 5px;\n  button:first-child {\n    border-right: ${({ theme: { colors } }) => colors.divider} 1px solid;\n  }\n`;\n\nconst OrderButton = styled.button<{ isSelected: boolean }>`\n  ${resetButtonStyles};\n  width: 100%;\n  display: flex;\n  align-items: center;\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  color: hsl(0, 0%, 56%);\n  font-size: 14px;\n  height: 35px;\n  ${({ theme, isSelected }) => theme && css`\n\n  ${IconWrapper} {\n    margin-left: 10px;\n    display: flex;\n    align-items: center;\n    [stroke]{\n        stroke: ${theme.colors.icons.dimmed};\n      }\n    }\n\n  &:hover {\n    ${IconWrapper} {\n      [stroke]{\n        stroke: ${theme.styles.form.checkbox.checked.hover.backgroundColor};\n        }\n      }\n    }\n\n  ${isSelected && css`\n    ${IconWrapper} {\n      [stroke]{\n        stroke: ${theme.styles.form.checkbox.checked.default.backgroundColor};\n        }\n      }\n    `}\n  `}\n`;\n\nexport interface ISortDropdown {\n  buttonText: string\n  list: IFilterItem[]\n  disabled?: boolean\n  isLoading?: boolean\n  loadingText?: string\n  ascendingText?: string\n  descendingText?: string\n  isSortAscending?: boolean\n  selected: IFilterItem\n  onSelect: (newSort: IFilterItem, isSortAscending: boolean) => void\n}\n\nconst SortDropdown: React.FC<ISortDropdown> = ({\n  buttonText,\n  disabled,\n  list,\n  isLoading,\n  loadingText,\n  isSortAscending = true,\n  selected,\n  descendingText = 'Descending',\n  ascendingText = 'Ascending',\n  onSelect,\n  ...props }) => {\n\n\n  const handleSortSelect = useCallback((newValue: IFilterItem) => {\n    if (newValue.value === selected.value) {\n      return;\n    }\n\n    onSelect(newValue, isSortAscending);\n\n  }, [isSortAscending, onSelect, selected.value]);\n\n  const handleOrderSelect = useCallback((isAscending: boolean) => {\n    if (isSortAscending === isAscending) {\n      return;\n    }\n\n    onSelect(selected, isAscending);\n\n  }, [isSortAscending, onSelect, selected]);\n\n  return (\n    <Container {...props}>\n      <FilterDropHandler\n        {...{ buttonText, disabled, isSortAscending }}\n        buttonIcon='FilterSorting'\n      >\n        <TopLine />\n        <InnerBox>\n          {(isLoading || list.length === 0)\n            ? (\n              <LoadingBox {...{ loadingText }} />\n            )\n            : (\n              <OptionList>\n                {list.map((item, index) => {\n                  return (\n                    <StyledFilterOption\n                      key={index}\n                      title={item.text}\n                      optionType='radio'\n                      selected={selected.value === item.value}\n                      onClick={() => handleSortSelect(item)}\n                    />\n                  );\n                })}\n              </OptionList>\n            )}\n          <OrderGroup>\n            <OrderButton isSelected={isSortAscending} onClick={() => handleOrderSelect(true)}>\n              <Icon\n                icon='FilterAscending'\n                size={16}\n                weight='light'\n              />\n              <FilterOption selected={isSortAscending} title={ascendingText} />\n            </OrderButton>\n            <OrderButton isSelected={!isSortAscending} onClick={() => handleOrderSelect(false)}>\n              <Icon\n                icon='FilterDescending'\n                size={16}\n                weight='light'\n              />\n              <FilterOption selected={!isSortAscending} title={descendingText} />\n            </OrderButton>\n          </OrderGroup>\n        </InnerBox>\n      </FilterDropHandler>\n\n    </Container>\n  );\n};\n\nexport default SortDropdown;","import React, { useRef, useCallback, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport FilterDropdownContainer from '../atoms/FilterDropdownContainer';\nimport DatePicker, { DateInterval, IDatePicker } from './DatePicker';\nimport FilterDropHandler from '../atoms/FilterDropHandler';\n\nconst MIN_WIDTH = 470;\nconst MIN_HEIGHT = 360;\n\nconst Container = styled.div``;\n\ninterface IMountPicker {\n  initialValue: DateInterval | Date | undefined\n  isMount: boolean\n}\n\nexport interface IDropdownDatePicker extends IDatePicker {\n  buttonIcon: string\n  buttonText: string\n  disabled?: boolean\n  selected?: DateInterval | Date | null;\n  onCloseCallback?: (value: DateInterval | Date | null) => void\n  onUpdateCallback?: (value: DateInterval | Date | null) => void\n  onToggleCallback?: (value: DateInterval | Date | null, isOpen: boolean) => void\n}\n\nconst DropdownDatePicker: React.FC<IDropdownDatePicker> = ({\n  buttonIcon,\n  buttonText,\n  disabled,\n  initialValue,\n  dateMode,\n  timeMode,\n  selected,\n  dateTimeTextUpper,\n  dateTimeTextLower,\n  timeZoneTitle,\n  timeZoneValueTitle,\n  lang,\n  onCloseCallback = () => { },\n  onUpdateCallback = () => { },\n  onToggleCallback = () => { },\n  ...props }) => {\n\n  /**\n   * This will keep the value of the picker when it updates so on close will send the most fresh value\n   * without re-renders.\n   */\n  const pickerValue = useRef<DateInterval | Date | null>(null);\n  const [mountedPicker, setMountedPicker] = useState<IMountPicker>({ initialValue: initialValue, isMount: true });\n\n  const handleUpdateCallback = useCallback((data: DateInterval | Date) => {\n    pickerValue.current = data;\n    onUpdateCallback(data);\n  }, [onUpdateCallback]);\n\n  const handleOnClose = useCallback(() => {\n    if (pickerValue.current && (pickerValue.current !== selected)) {\n      onCloseCallback(pickerValue.current);\n    }\n  }, [onCloseCallback, selected]);\n\n  const handleOnToggle = useCallback((isOpen: boolean) => {\n\n    if (pickerValue.current && (pickerValue.current !== selected)) {\n      onToggleCallback(pickerValue.current, isOpen);\n    }\n\n    /** mounting again and clearing the last value sent from picker */\n    if (!isOpen && (pickerValue.current !== null) && (!mountedPicker.isMount)) {\n      pickerValue.current = null;\n      setMountedPicker({ initialValue: undefined, isMount: true });\n    }\n  }, [mountedPicker, onToggleCallback, selected]);\n\n  /**\n   * Caching the selected null /clear flag for this picker from parent component\n   */\n  useEffect(() => {\n    let canReset = true;\n\n    if (canReset && selected === null && pickerValue.current !== null) {\n      setMountedPicker({ initialValue: undefined, isMount: false });\n    }\n    return () => {\n      canReset = false;\n    };\n  }, [selected]);\n\n  return (\n    <Container {...props}>\n      <FilterDropHandler\n        {...{ buttonIcon, buttonText, disabled }}\n        minWidth={MIN_WIDTH}\n        minHeight={MIN_HEIGHT}\n        onCloseCallback={handleOnClose}\n        onToggleOpenCallback={handleOnToggle}\n      >\n        <FilterDropdownContainer>\n          {mountedPicker.isMount && (\n            <DatePicker\n              {...{\n                dateMode,\n                timeMode,\n                dateTimeTextUpper,\n                dateTimeTextLower,\n                timeZoneTitle,\n                timeZoneValueTitle,\n                lang\n              }}\n              updateCallback={handleUpdateCallback}\n              hasEmptyValue\n              initialValue={mountedPicker.initialValue}\n            />)}\n        </FilterDropdownContainer>\n      </FilterDropHandler>\n    </Container>\n  );\n};\n\nexport default DropdownDatePicker;","import React, { useState, useCallback } from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport BasicSearchInput from '../../Misc/atoms/BasicSearchInput';\nimport FilterDropdown from '../../Filters/molecules/FilterDropdown';\nimport FilterButton from '../../Filters/atoms/FilterButton';\nimport DropdownDatePicker from './DropdownDatePicker';\nimport { IFilterDatePicker, IFilterDropdownExt, ISearchFilter } from '../FilterTypes';\n\nconst fadeInAnimation = keyframes`\n  0% {\n    width: 50%;\n    opacity: .5;\n  }\n  50% {\n    opacity: 1;\n  }\n  100% {\n    width: 100%;\n  }\n`;\n\nconst SearchInputWrapper = styled.div`\n  background-color: hsl(0, 0%, 100%);\n  border-radius: 3px;\n  flex: 1 1 200px;\n  max-width: 320px;\n`;\n\nconst CloseSearchInputWrapper = styled.div`\n  ${({ theme }) => theme && css`\n    animation: ${fadeInAnimation} ${theme.animation.speed.slow} ${theme.animation.easing.primary.inOut};\n  `};\n`;\n\nconst StyledFilterButton = styled(FilterButton)``;\nconst StyledDropdown = styled(FilterDropdown)``;\nconst StyledDropdownDatePicker = styled(DropdownDatePicker)``;\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  ${SearchInputWrapper}, ${StyledDropdown}, ${StyledFilterButton}, ${StyledDropdownDatePicker} {\n    margin: 0 5px 10px 0;\n  }\n`;\n\nconst renderDropdowns = (dropdownFilters: IFilterDropdownExt[], showMoreDropdowns: boolean, hasShowMore: boolean) => {\n  return dropdownFilters.map((dropdown: IFilterDropdownExt) => {\n    if (!dropdown.canHide || !showMoreDropdowns || (dropdown.canHide && !hasShowMore)) {\n      return <StyledDropdown key={`dropdownFilter-id-${dropdown.id}`} {...dropdown} />;\n    }\n    return null;\n  });\n};\n\nconst renderSearchInputs = (\n  searchFilters: ISearchFilter[],\n  visibleSearchInputs: String[],\n  handleVisibleSearch: (searchId: string) => void\n) => {\n  return searchFilters.map((searchInput: ISearchFilter) => {\n\n    if (visibleSearchInputs.includes(searchInput.id)) {\n      return (\n        <SearchInputWrapper key={`searchFilter-id-${searchInput.id}`}>\n          {searchInput.canHide\n            ? (\n              <CloseSearchInputWrapper>\n                <BasicSearchInput {...searchInput} hasCrossButton onCrossClick={() => handleVisibleSearch(searchInput.id)} />\n              </CloseSearchInputWrapper>\n            )\n            : <BasicSearchInput {...searchInput} />}\n        </SearchInputWrapper>\n      );\n    }\n    return null;\n  });\n};\n\nconst renderDatePickers = (datePickerFilters: IFilterDatePicker[]) => {\n  return datePickerFilters.map((datePicker: IFilterDatePicker) => {\n    return (\n      <StyledDropdownDatePicker\n        key={`datePicker-filter-${datePicker.id}`}\n        {...{ ...datePicker }}\n      />\n    );\n  });\n};\n\nconst renderAddSearchButtons = (\n  searchFilters: ISearchFilter[],\n  visibleSearchInputs: String[],\n  handleVisibleSearch: (searchId: string) => void\n) => {\n  return searchFilters.map((element) => {\n    if (element.canHide && !visibleSearchInputs.includes(element.id)) {\n      const searchId = element.id;\n      return (\n        <StyledFilterButton\n          key={`search-button-id-${element.id}`}\n          icon='Add'\n          onClick={() => handleVisibleSearch(searchId)}\n        >\n          {element.showFieldText}\n        </StyledFilterButton>\n      );\n    }\n    return null;\n  });\n};\n\n// initially visible are only the ones that can't hide\nconst initialSearchFilters = (searchFilters: ISearchFilter[]): String[] => {\n  const currentVisible: String[] = [];\n\n  searchFilters.forEach(element => {\n    if (!element.canHide) {\n      currentVisible.push(element.id);\n    }\n  });\n\n  return currentVisible;\n};\n\nexport interface IFilterInputs {\n  searchFilters?: ISearchFilter[]\n  dropdownFilters?: IFilterDropdownExt[]\n  datePickerFilters?: IFilterDatePicker[]\n  hasShowMore?: boolean\n  showMoreText?: string\n  showLessText?: string\n}\n\nconst FilterInputs: React.FC<IFilterInputs> = ({\n  hasShowMore = false,\n  searchFilters = [],\n  datePickerFilters = [],\n  dropdownFilters = [],\n  showMoreText = 'Show More',\n  showLessText = 'Show Less',\n  ...props\n}) => {\n\n  const [visibleSearchInputs, setVisibleSearchInputs] = useState<String[]>(initialSearchFilters(searchFilters));\n  const [showMoreDropdowns, setShowMoreDropdowns] = useState(hasShowMore ? true : false);\n\n  const toggleShowMore = useCallback(() => {\n    setShowMoreDropdowns((prev) => !prev);\n  }, []);\n\n  const handleVisibleSearch = useCallback((searchId: string) => {\n\n    if (visibleSearchInputs.includes(searchId)) {\n      const newVisible = visibleSearchInputs.filter((id) => searchId !== id);\n      setVisibleSearchInputs(newVisible);\n    } else {\n      const newVisible = [...visibleSearchInputs, searchId];\n      setVisibleSearchInputs(newVisible);\n    }\n\n  }, [visibleSearchInputs]);\n\n  return (\n    <Container {...{ props }}>\n      {renderSearchInputs(searchFilters, visibleSearchInputs, handleVisibleSearch)}\n      {renderDatePickers(datePickerFilters)}\n      {renderDropdowns(dropdownFilters, showMoreDropdowns, hasShowMore)}\n\n      {/* {When the Dev does not initialize hasShowMore as true but has hidden inputs, it will show the add Searcher of the canHide} */}\n      {(!hasShowMore || !showMoreDropdowns) && renderAddSearchButtons(searchFilters, visibleSearchInputs, handleVisibleSearch)}\n      {hasShowMore && (\n        <FilterButton\n          icon='FilterEllipsis'\n          onClick={toggleShowMore}\n        >\n          {showMoreDropdowns ? showMoreText : showLessText}\n        </FilterButton>)}\n    </Container>\n  );\n};\n\nexport default FilterInputs;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { IFilterItem, IFilterType } from '../FilterTypes';\nimport { resetButtonStyles } from '../../common/index';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\nimport { isFilterItem } from '../FilterTypes';\nimport { DateInterval, isDateInterval } from './DatePicker';\nimport { format } from 'date-fns';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  min-height: 22px;\n`;\n\nconst ResultsTextWrapper = styled.div`\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  color: hsl(207, 5%, 57%);\n`;\n\nconst FilterLabel = styled.div`\n  height: 18px;\n  flex-shrink: 0;\n  display: flex;\n  align-items: center;\n  padding: 0 11px 0 8px;\n  margin: 0 0 3px 3px;\n  color: hsl(207, 5%, 57%);\n\n  ${({ theme }) => theme && css`\n    font-family: ${theme.fontFamily.data};\n  `};\n\n  ${IconWrapper} {\n    display: flex;\n    align-items: center;\n  }\n  border-right: 1px solid hsla(0, 0%, 13%, 0.16);\n`;\nconst FilterLabelText = styled.div<{ hasIcon?: boolean }>`\n  padding: ${({ hasIcon }) => hasIcon ? '0 15px 0 9px' : '0 15px 0 0'};\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  max-width: 300px;\n`;\n\nconst ClearTextButton = styled.button`\n  ${resetButtonStyles};\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  color: hsl(216, 4%, 77%);\n  margin-left: 11px;\n  font-size: 12px;\n`;\n\nconst RemoveButton = styled.button`\n  ${resetButtonStyles};\n`;\n\nconst FilterLabelsGroup = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  margin-left: 10px;\n`;\n\nconst validateDateFormat = (resultsDateFormat: string): boolean => {\n  let isFormatValid = false;\n\n  if (resultsDateFormat !== '') {\n    try {\n      const tryDate = new Date();\n      format(tryDate, resultsDateFormat);\n      isFormatValid = true;\n    } catch (error) {\n      isFormatValid = false;\n    }\n  }\n\n  return isFormatValid;\n};\n\nconst renderResults = (template: string, total: number) => {\n  return template.replace('[TOTAL_RESULTS]', `${total}`);\n};\n\n\nconst renderLabel = (item: IFilterItem | DateInterval | Date, resultsDateFormat: string, icon?: string, filterName?: string) => {\n\n  let textLabel: string = \"\";\n  const isDateFormatValid = validateDateFormat(resultsDateFormat);\n\n  if (filterName && isFilterItem(item)) {\n    textLabel = `${filterName}: ${item.text}`;\n  } else if (filterName && item instanceof Date) {\n    textLabel = isDateFormatValid\n      ? `${filterName}: ${format(item, resultsDateFormat)}`\n      : `${filterName}: ${item.toDateString()}`;\n  } else if (filterName && isDateInterval(item)) {\n    textLabel = isDateFormatValid\n      ? `${filterName}: ${format(item.start, resultsDateFormat)} - ${format(item.end, resultsDateFormat)}`\n      : `${filterName}: ${item.start.toDateString()} - ${item.end.toDateString()}`;\n  } else if (!filterName && isFilterItem(item)) {\n    textLabel = item.text;\n  } else if (!filterName && item instanceof Date) {\n    textLabel = isDateFormatValid\n      ? format(item, resultsDateFormat)\n      : item.toDateString();\n  } else if (!filterName && isDateInterval(item)) {\n    textLabel = isDateFormatValid\n      ? `${format(item.start, resultsDateFormat)} - ${format(item.end, resultsDateFormat)}`\n      : `${item.start.toDateString()} - ${item.end.toDateString()}`;\n  }\n\n  return <FilterLabelText hasIcon={!!icon}>{textLabel}</FilterLabelText>;\n};\n\nexport interface IFilterLabel {\n  filterId: string\n  item: IFilterItem | Date | DateInterval\n  type: IFilterType\n  icon?: string\n  filterName?: string\n}\n\ninterface IFilterResults {\n  labelLists: IFilterLabel[]\n  totalResults: number\n  resultTextTemplate?: string\n  clearText?: string\n  resultsDateFormat?: string\n  onRemoveFilter?: (filterId: string, type: IFilterType, item: IFilterItem | Date | DateInterval) => void\n  onClearAll?: () => void\n}\n\nconst FiltersResults: React.FC<IFilterResults> = ({\n  labelLists,\n  totalResults,\n  resultTextTemplate = 'Showing Results ([TOTAL_RESULTS]):',\n  clearText = 'CLEAR ALL',\n  resultsDateFormat = '',\n  onRemoveFilter = () => { },\n  onClearAll = () => { },\n  ...props\n}) => {\n  return (\n    <Container {...props}>\n      <ResultsTextWrapper>{renderResults(resultTextTemplate, totalResults)}</ResultsTextWrapper>\n      <FilterLabelsGroup>\n        {labelLists.map(({ icon, item, filterName, filterId, type }, index) => {\n          return (\n            <FilterLabel key={`Filter-Label-id-${index}`}>\n              {icon && <Icon icon={icon} color='dimmed' size={10} weight='light' />}\n              {renderLabel(item, resultsDateFormat, icon, filterName)}\n              <RemoveButton\n                onClick={() => onRemoveFilter(filterId, type, item)}\n              >\n                <Icon icon='CloseCompact' color='dimmed' size={10} weight='light' />\n              </RemoveButton>\n            </FilterLabel>\n          );\n        })}\n        {(labelLists.length > 0) && <ClearTextButton onClick={onClearAll}>{clearText}</ClearTextButton>}\n      </FilterLabelsGroup>\n\n    </Container>\n  );\n};\n\nexport default FiltersResults;","import React, { useCallback, useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport {\n  IFilterItem,\n  IFilterResult,\n  IFilterType,\n  IFilterValue,\n  isFilterItem,\n  IFilterDropdownConfig\n} from '../FilterTypes';\nimport FilterInputs from '../molecules/FilterInputs';\nimport { IFilterDropdownExt, ISearchFilter, IFilterDatePicker } from '../FilterTypes';\nimport FiltersResults, { IFilterLabel } from '../../Filters/molecules/FiltersResults';\nimport { DateInterval, isDateInterval } from '../molecules/DatePicker';\nimport isequal from 'lodash.isequal';\nimport debounce from 'lodash.debounce';\n\nconst Title = styled.div`\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  color: hsl(207, 5%, 57%);\n  font-size: 12px;\n  font-weight: 700;\n  margin-bottom: 17px;\n`;\n\nconst StyledFilterResults = styled(FiltersResults)``;\n\nconst Container = styled.div`\n  ${StyledFilterResults} {\n    margin-top: 29px;\n  }\n`;\n\nconst getDisableValue = (\n  filtersValues: IFilterResult[],\n  singleFilter: boolean,\n  filter: ISearchFilter | IFilterDropdownConfig | IFilterDatePicker,\n) => {\n  let disabled = false;\n\n  if (filter.disabled) {\n    disabled = filter.disabled;\n  } else if (singleFilter) {\n    const notNullValues = filtersValues.filter((filter) => filter.selected !== null);\n    if (notNullValues) {\n      disabled = (notNullValues.length > 1 || (notNullValues[0] && notNullValues[0].id !== filter.id));\n    }\n  }\n  return disabled;\n};\n\nconst createDropdownFilters = (\n  dropdownsConfig: IFilterDropdownConfig[],\n  filtersValues: IFilterResult[],\n  singleFilter: boolean,\n  handleDropdownsSelected: (newValue: IFilterValue, filterId: string) => void\n): IFilterDropdownExt[] => {\n\n  const dropdownFilters: IFilterDropdownExt[] = [];\n  dropdownsConfig.forEach(dropdown => {\n    const filter = filtersValues.find(filter => filter.id === dropdown.id);\n    if (filter) {\n      const selected = (Array.isArray(filter.selected) || isFilterItem(filter.selected))\n        ? filter.selected\n        : null;\n      const onSelect = (newSelection: IFilterValue) => { handleDropdownsSelected(newSelection, filter.id); };\n      let disabled = getDisableValue(filtersValues, singleFilter, dropdown);\n      const newDropdown: IFilterDropdownExt = { ...dropdown, selected, disabled, onSelect };\n      dropdownFilters.push(newDropdown);\n    }\n  });\n  return dropdownFilters;\n};\n\nconst createSearchers = (\n  searchersConfig: ISearchFilter[],\n  filtersValues: IFilterResult[],\n  singleFilter: boolean,\n  handleSearchers: (newValue: string, filterId: string) => void,\n): ISearchFilter[] => {\n  const searchersFilters: ISearchFilter[] = [];\n\n  searchersConfig.forEach(searcher => {\n    const filter = filtersValues.find(filter => filter.id === searcher.id);\n    if (filter && !Array.isArray(filter.selected)) {\n      const value: string = (filter.selected === null) || (!isFilterItem(filter.selected)) ? '' : filter.selected.text;\n\n      const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n        const newValue = e.currentTarget.value;\n        handleSearchers(newValue, filter.id);\n      };\n\n      let disabled = getDisableValue(filtersValues, singleFilter, searcher);\n\n      const newSearcher: ISearchFilter = { ...searcher, value, disabled, onChange };\n      searchersFilters.push(newSearcher);\n    }\n  });\n\n  return searchersFilters;\n};\n\nconst createDatePickers = (\n  datePickersConfig: IFilterDatePicker[],\n  filtersValues: IFilterResult[],\n  singleFilter: boolean,\n  handleDatePickers: (selection: DateInterval | Date | null, filterId: string) => void,\n): IFilterDatePicker[] => {\n  const datePickersFilters: IFilterDatePicker[] = [];\n\n  datePickersConfig.forEach((datePicker) => {\n    const onCloseCallback = (value: DateInterval | Date | null) => {\n      handleDatePickers(value, datePicker.id);\n    };\n\n    const onToggleCallback = (value: DateInterval | Date | null, isOpen: boolean) => {\n      // if it was open before toggle means the user closed it and value should be updated.\n      if (isOpen) {\n        handleDatePickers(value, datePicker.id);\n      }\n    };\n    const disabled = getDisableValue(filtersValues, singleFilter, datePicker);\n    const foundPicker = filtersValues.find(filter => filter.id === datePicker.id);\n    let validInitialValue: Date | DateInterval | undefined = undefined;\n\n    if (datePicker.selected) {\n      validInitialValue = datePicker.selected;\n    } else if (datePicker.initialValue) {\n      validInitialValue = datePicker.initialValue;\n    }\n\n    const newPicker: IFilterDatePicker = {\n      ...datePicker,\n      onCloseCallback,\n      onToggleCallback,\n      disabled,\n      selected: foundPicker && (foundPicker.selected instanceof Date || isDateInterval(foundPicker.selected)) ? foundPicker.selected : null,\n      initialValue: validInitialValue,\n    };\n    datePickersFilters.push(newPicker);\n  });\n\n  return datePickersFilters;\n};\n\nconst createLabelResults = (\n  searchersConfig: ISearchFilter[],\n  dropdownsConfig: IFilterDropdownConfig[],\n  datePickersConfig: IFilterDatePicker[],\n  filtersValues: IFilterResult[],\n): IFilterLabel[] => {\n\n  const labelLists: IFilterLabel[] = [];\n\n  searchersConfig.forEach((searcher) => {\n    const foundSearcher = filtersValues.find(element => element.id === searcher.id);\n    if (!foundSearcher) {\n      return;\n\n      // searchers are never arrays or date but Typescript requires this type check\n    } else if (isFilterItem(foundSearcher.selected)) {\n      const newLabel: IFilterLabel = {\n        filterId: foundSearcher.id,\n        item: foundSearcher.selected,\n        filterName: searcher.name,\n        type: foundSearcher.type,\n      };\n      labelLists.push(newLabel);\n    }\n  });\n\n  dropdownsConfig.forEach((dropdown) => {\n\n    const foundDropdown = filtersValues.find(element => element.id === dropdown.id);\n    if (!foundDropdown || foundDropdown.selected === null) {\n      return;\n    } else if (Array.isArray(foundDropdown.selected)) {\n      foundDropdown.selected.forEach((dropdownLabelVal) => {\n        const newLabel: IFilterLabel = {\n          filterId: foundDropdown.id,\n          item: dropdownLabelVal,\n          icon: dropdown.buttonIcon,\n          filterName: dropdown.name,\n          type: foundDropdown.type\n        };\n        labelLists.push(newLabel);\n      });\n    } else if (isFilterItem(foundDropdown.selected)) {\n      const newLabel: IFilterLabel = {\n        filterId: foundDropdown.id,\n        item: foundDropdown.selected,\n        icon: dropdown.buttonIcon,\n        filterName: dropdown.name,\n        type: foundDropdown.type\n      };\n\n      labelLists.push(newLabel);\n    }\n  });\n\n  datePickersConfig.forEach((datePicker) => {\n    const foundPicker = filtersValues.find(element => element.id === datePicker.id);\n    if (!foundPicker || foundPicker.selected === null || Array.isArray(foundPicker.selected) || isFilterItem(foundPicker.selected)) {\n      return;\n    } else {\n      const newLabel: IFilterLabel = {\n        filterId: foundPicker.id,\n        item: foundPicker.selected,\n        icon: 'Date',\n        filterName: datePicker.name,\n        type: foundPicker.type\n      };\n      labelLists.push(newLabel);\n    }\n  });\n\n  return labelLists;\n};\n\nconst initFilters = (\n  searchersConfig: ISearchFilter[],\n  dropdownsConfig: IFilterDropdownConfig[],\n  datePickersConfig: IFilterDatePicker[],\n): IFilterResult[] => {\n\n  const newFilters: IFilterResult[] = [];\n\n  searchersConfig.forEach(({ id, value, selected }) => {\n\n    let validatedSelected: IFilterItem | null = null;\n    if (typeof value === 'number') {\n      validatedSelected = { text: value.toString(), value: value };\n    } else if (value === 'string') {\n      validatedSelected = { text: value, value: value };\n    } else if (isFilterItem(selected)) {\n      validatedSelected = selected;\n    }\n\n    const initialSearch: IFilterResult = { id, type: 'search', selected: validatedSelected };\n\n    newFilters.push(initialSearch);\n  });\n\n  dropdownsConfig.forEach(({ id, selected }) => {\n\n    const initialDropdown: IFilterResult = {\n      id,\n      type: 'dropdown',\n      selected: (isFilterItem(selected) || Array.isArray(selected)) ? selected : null,\n    };\n\n    newFilters.push(initialDropdown);\n  });\n\n  datePickersConfig.forEach(({ id, initialValue, selected }) => {\n\n    let validSelected: Date | DateInterval | null = null;\n\n    if (initialValue) {\n      validSelected = initialValue;\n    } else if (selected) {\n      validSelected = selected;\n    }\n\n    newFilters.push({ id, type: 'datepicker', selected: validSelected });\n  });\n\n  return newFilters;\n};\n\ninterface IFilterBar {\n  filtersTitle?: string\n  searchersConfig?: ISearchFilter[]\n  dropdownsConfig?: IFilterDropdownConfig[]\n  datePickersConfig?: IFilterDatePicker[]\n  hasShowMore?: boolean\n  showMoreText?: string\n  showLessText?: string\n  resultTextTemplate?: string\n  totalResults: number\n  clearText?: string\n  isLoading?: boolean\n  singleFilter?: boolean\n  resultsDateFormat?: string\n  onChangeCallback?: (currentSelected: IFilterResult[]) => void\n}\n\nconst FilterBar: React.FC<IFilterBar> = ({\n  filtersTitle = 'Filters:',\n  hasShowMore,\n  searchersConfig = [],\n  dropdownsConfig = [],\n  datePickersConfig = [],\n  showMoreText,\n  showLessText,\n  resultTextTemplate,\n  clearText,\n  totalResults,\n  singleFilter = false,\n  resultsDateFormat,\n  onChangeCallback = () => { },\n  ...props\n}) => {\n\n  const [filtersValues, setFiltersValues] = useState<IFilterResult[]>(initFilters(searchersConfig, dropdownsConfig, datePickersConfig));\n  const dropdownsConfigRef = useRef<IFilterDropdownConfig[]>(dropdownsConfig);\n\n  // Prevents extra-renders only updating if the dropdowns config actually changed\n  if (dropdownsConfigRef.current && !isequal(dropdownsConfigRef.current, dropdownsConfig)) {\n    dropdownsConfigRef.current = dropdownsConfig;\n  }\n\n  // saves a reference of the debounce for searchers\n  const debounceSearcher = useRef(debounce(updatedFilters => handleChange(updatedFilters), 600)).current;\n\n  const handleChange = useCallback((newValues: IFilterResult[]) => {\n    const notNullValues = newValues.filter((filter) => filter.selected !== null);\n\n    onChangeCallback(notNullValues);\n\n  }, [onChangeCallback]);\n\n  const handleDropdownsSelected = useCallback((newValue: IFilterValue, filterId: string) => {\n    setFiltersValues((prev) => {\n      const updatedFilters = [...prev];\n      const foundFilter = updatedFilters.find((filter) => filter.id === filterId);\n      if (foundFilter && foundFilter.selected !== newValue) {\n        foundFilter.selected = newValue;\n        handleChange(updatedFilters);\n        return updatedFilters;\n      }\n      return prev;\n    });\n  }, [handleChange]);\n\n  const handleSearchers = useCallback((newValue: string, filterId: string) => {\n\n    const updatedFilters = [...filtersValues];\n    const foundFilter = updatedFilters.find((filter) => filter.id === filterId);\n    if (foundFilter) {\n      foundFilter.selected = newValue === '' ? null : { text: newValue, value: newValue };\n    }\n\n    debounceSearcher(updatedFilters);\n    setFiltersValues(updatedFilters);\n\n  }, [debounceSearcher, filtersValues]);\n\n  const handleOnClear = useCallback(() => {\n\n    const updatedFilters = [...filtersValues];\n    updatedFilters.forEach((filterElement) => {\n      if (filterElement.selected === null) {\n        return;\n      }\n      filterElement.selected = null;\n    });\n\n    handleChange(updatedFilters);\n    setFiltersValues(updatedFilters);\n  }, [filtersValues, handleChange]);\n\n  const handleOnRemoveFilter = useCallback((filterId: string, type: IFilterType, item: IFilterItem | Date | DateInterval) => {\n\n    setFiltersValues((prev) => {\n      const updatedFilters = [...prev];\n\n      const foundFilter = updatedFilters.find((filterElement) => filterElement.id === filterId);\n\n      if (!foundFilter) {\n        return prev;\n      } else if (Array.isArray(foundFilter.selected) && type === 'dropdown') {\n        const selectedFiltered = foundFilter.selected.filter((oldItem) => {\n          if (isFilterItem(oldItem) && isFilterItem(item)) {\n            return oldItem.value !== item.value;\n          }\n          // it's required to have return a value usually will always receive filterItems and all will enter the if\n          // but just in case if it's not a Filter item it will filter the value.\n          return true;\n        });\n        foundFilter.selected = selectedFiltered.length === 0 ? null : selectedFiltered;\n      } else {\n        foundFilter.selected = null;\n      }\n\n      handleChange(updatedFilters);\n      return updatedFilters;\n    });\n\n  }, [handleChange]);\n\n  const handleDatePickers = useCallback((selection: DateInterval | Date | null, filterId: string) => {\n\n    const updatedDatePickers = [...filtersValues];\n    const foundFilter = updatedDatePickers.find((datePicker) => datePicker.id === filterId);\n\n    if (foundFilter) {\n      foundFilter.selected = selection;\n      handleChange(filtersValues);\n      setFiltersValues(updatedDatePickers);\n    }\n\n  }, [filtersValues, handleChange]);\n\n  /**\n   * This use Effect will update filters text selections in case the language is changed.\n   * Dropdowns are the only ones that required this because Inputs text are the user type data.\n   * DatePickers do not change text for now\n   */\n  useEffect(() => {\n    let mountConfig = true;\n\n    if (mountConfig && dropdownsConfigRef.current) {\n      setFiltersValues((prev) => {\n        const updatedFilters = [...prev];\n        updatedFilters.forEach((filter: IFilterResult) => {\n\n          const foundDropdown = dropdownsConfigRef.current.find((dropdown) => dropdown.id === filter.id);\n\n          if (foundDropdown) {\n\n            if (Array.isArray(filter.selected)) {\n              filter.selected.forEach(item => {\n                const foundItem = foundDropdown.list.find((dropdownItem) => dropdownItem.value === item.value);\n\n                if (foundItem) {\n                  item.text = foundItem.text;\n                }\n              });\n            } else if (isFilterItem(filter.selected)) {\n              const foundItem = foundDropdown.list.find((item: IFilterItem) => {\n                return filter.selected === null\n                  ? false\n                  : isFilterItem(filter.selected) ? item.value === filter.selected.value : false;\n              });\n\n              if (foundItem) {\n                filter.selected.text = foundItem.text;\n              }\n            }\n          }\n        });\n\n        return updatedFilters;\n      });\n    }\n\n    return () => {\n      mountConfig = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dropdownsConfigRef.current]);\n\n  return (\n    <Container {...props}>\n      <Title>{filtersTitle}</Title>\n      <FilterInputs\n        {...{\n          hasShowMore,\n          showMoreText,\n          showLessText,\n        }}\n        searchFilters={createSearchers(searchersConfig, filtersValues, singleFilter, handleSearchers)}\n        dropdownFilters={createDropdownFilters(dropdownsConfigRef.current, filtersValues, singleFilter, handleDropdownsSelected)}\n        datePickerFilters={datePickersConfig ? createDatePickers(datePickersConfig, filtersValues, singleFilter, handleDatePickers) : undefined}\n      />\n      <StyledFilterResults\n        {...{ resultTextTemplate, clearText, totalResults, resultsDateFormat }}\n        labelLists={createLabelResults(searchersConfig, dropdownsConfigRef.current, datePickersConfig, filtersValues)}\n        onClearAll={handleOnClear}\n        onRemoveFilter={handleOnRemoveFilter}\n      />\n    </Container>\n  );\n};\n\nexport default FilterBar;","import React from 'react';\nimport styled, {css} from 'styled-components';\nimport Icon from './Icon';\nimport { IStatusDot } from '..';\n\nconst Container = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst StatusCounter = styled.div<{ color?: IStatusDot }>`\n  position: absolute;\n  left: 14px;;\n  top: -12px;\n  border-radius: 50%;\n  height: 14px;\n  min-width: 14px;\n  padding: 2px;\n  font-size: 10px;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  ${({theme:{animation}}) => css`\n    transition: background-color ${animation.speed.slow} ${animation.easing.primary.easeInOut};\n  `}\n  background-color: ${({ theme, color }) => color ? theme.colors.status[color] : 'hsla(0, 0%, 91.8%, 0)'};\n`;\n\nconst StatusDot = styled.div<{ color?: IStatusDot }>`\n  width: 10px;\n  height: 10px;\n  border: solid 2px hsl(0, 0%, 100%);\n  border-radius: 50%;\n  position: absolute;\n  top: -6px;\n  right: -9px;\n  ${({theme:{animation}}) => css`\n    transition: background-color ${animation.speed.slow} ${animation.easing.primary.easeInOut};\n  `}\n  background-color: ${({ theme, color }) => color ? theme.colors.status[color] : 'hsla(0, 0%, 91.8%, 0)'};\n`;\n\ninterface IStatusIcon {\n  icon: string\n  status?: IStatusDot\n  counter?: number\n}\n\nconst StatusIcon: React.FC<IStatusIcon> = ({icon, status, counter}) => {\n  return (\n    <Container>\n      {status && (counter === undefined)\n        ? <StatusDot color={status} />\n        :  (counter === undefined) ? null : <StatusCounter color={status}>{counter}</StatusCounter>}\n      <Icon icon={icon} size={18} color='dimmed' />\n    </Container>\n  );\n};\n\nexport default StatusIcon;","import React, { useState, useCallback } from 'react';\nimport styled, { css, keyframes } from 'styled-components';\nimport { IDragLineUISharedOptions } from '.';\n\n\nconst HandleTouchReactionKeyframes = keyframes`\n 0% {\n    transform: scale(1);\n }\n\n 75% {\n    transform: scale(3);\n }\n\n 100% {\n   transform: scale(1.75);\n }\n`;\n\nconst HandleMouseReactionKeyframes = keyframes`\n 0% {\n    transform: scale(1);\n }\n\n 75% {\n    transform: scale(0);\n }\n\n 100% {\n   transform: scale(0.5);\n }\n`;\n\n\nconst HandleBase = styled.svg<{ mouseDragging: boolean, styling: string}>`\n  touch-action: none;\n  user-select: none;\n  overflow: visible;\n  cursor: pointer;\n  fill: ${({theme, styling}) => theme.custom.lines[styling].handleBase.fill};\n  appearance: none;\n`;\n\nconst HandleRingLayer = styled.circle<{maskID: string, styling: string}>`\n  fill: none;\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].handleRingLayer.stroke};\n  mask: url(#${props => (props.maskID)});\n`;\nconst HandleReactiveGroup = styled.g<{touchDragging: boolean, mouseDragging: boolean}>`\n  opacity: 0.65;\n  cursor: pointer;\n  transform: scale(1);\n\n  ${props => props.touchDragging && css`\n    animation: ${HandleTouchReactionKeyframes} 0.5s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275) 1;\n  `}\n\n  ${props => props.mouseDragging && css`\n    animation: ${HandleMouseReactionKeyframes} 0.25s forwards cubic-bezier(0.175, 0.885, 0.32, 1.275) 1;\n  `}\n\n`;\nconst HandleReactiveFill = styled.circle<{styling: string}>`\n  mix-blend-mode: multiply;\n  fill: ${({theme, styling}) => theme.custom.lines[styling].handleReactiveFill.fill};\n  stroke: none;\n`;\nconst HandleReactiveRing = styled.circle<{styling: string}>`\n  fill: none;\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].handleReactiveRing.stroke};\n`;\n\nconst HandleContrastLayer = styled.circle<{styling: string}>`\n  overflow: visible;\n  mix-blend-mode: multiply;\n  fill: none;\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].handleContrastLayer.stroke};\n`;\nconst HandleShadowLayer = styled.circle<{fillID: string}>`\n    mix-blend-mode: multiply;\n    fill: url(#${props => (props.fillID)});\n`;\n\nconst GrabHandleIndexGroup = styled.g<{showIndex: boolean}>`\n  opacity: 0;\n  pointer-events: none;\n  ${props => props.showIndex && css`\n    opacity: 1;\n  `};\n\n`;\n\nconst StopStart = styled.stop<{styling: string}>`\n  stop-color: ${({theme, styling}) => theme.custom.lines[styling].stopStart.stopColor };\n`;\nconst StopEnd = styled.stop<{styling: string}>`\n  stop-color: ${({theme, styling}) => theme.custom.lines[styling].stopEnd.stopColor };\n`;\n\n\nconst GrabHandleIndexText = styled.text<{showIndex: boolean, styling: string}>`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].grabHandleText.stroke};\n  text-align: center;\n\n  font-weight: bold;\n  transition: opacity 250ms ease;\n  pointer-events: none;\n\n\n`;\n\nconst IconGroup = styled.g`\n\n`;\n\ninterface IHandleUnitProps {\n  lineSetId: number\n  index: number\n  angle: number | null\n  useAngles: boolean\n  unit: number\n  size: number\n  x: number;\n  y: number;\n  Icon?: React.FunctionComponent<React.SVGProps<SVGSVGElement>> & {rotate?: number};\n  rotate?: number;\n  moveCallback: any;\n  moveEndCB?: ()=>void;\n  options: IDragLineUISharedOptions;\n  readOnlyHandle?: boolean;\n  styling?: string;\n}\n\nconst HandleUnit : React.FC<IHandleUnitProps> = (props) => {\n  // console.log(props.lineSetId, typeof props.lineSetId)\n  const { index, useAngles, angle, unit, size, lineSetId, x, y, moveCallback, moveEndCB=()=>{}, Icon, rotate=0, options, readOnlyHandle = false, styling='primary'} = props;\n  // console.log(\"Handle \"+ index +\" from set \"+ lineSetId + \" :: \" + x, \", \" + y)\n  let handleInstance = React.createRef<SVGSVGElement>();\n\n  const [ touchDragging, setTouchDragging ] = useState(false);\n  const [ mouseDragging, setMouseDragging ] = useState(false);\n  const [ touchIndex, setTouchIndex ] = useState<number | null>(null);\n\n\n  /** --- Toucher Events Section --- */\n  const handleTouchStart = useCallback((e: any) => {\n    e.preventDefault();\n    if (readOnlyHandle) { return; }\n    // Remember what touch event index is for this handle.\n    for (let i = 0; i < e.touches.length; i++) {\n      const touch = e.touches[i];\n      if(touch.target.parentNode.parentElement === handleInstance || touch.target.parentNode.parentElement.parentElement){\n        setTouchDragging(true);\n        setTouchIndex(i);\n      }\n    }\n  },[handleInstance, readOnlyHandle]);\n\n\n  const handleTouchEnd = useCallback(() => {\n    if (readOnlyHandle) { return; }\n    setTouchDragging(false);\n    setTouchIndex(null);\n    moveEndCB();\n  },[moveEndCB, readOnlyHandle]);\n\n  const handleTouchMove = useCallback((e: React.TouchEvent<SVGSVGElement>) => {\n    if (readOnlyHandle) { return; }\n    for (let i = 0; i < e.touches.length; i++) {\n      if(i === touchIndex){\n        moveCallback({ x: e.touches[i].pageX, y: e.touches[i].pageY}, index);\n      }\n    }\n  },[index, moveCallback, readOnlyHandle, touchIndex]);\n\n  /** --- Mouse Events Section --- */\n\n  const handleMouseMove = useCallback((e: MouseEvent) => {\n    e.preventDefault();\n    if (readOnlyHandle) { return; }\n    moveCallback({ x: e.pageX, y: e.pageY}, index);\n  },[index, moveCallback, readOnlyHandle]);\n\n  const handleMouseUp = useCallback((e: MouseEvent) => {\n    e.preventDefault();\n    if (readOnlyHandle) { return; }\n    setMouseDragging(false);\n    window.removeEventListener('mousemove', handleMouseMove);\n    window.removeEventListener('mouseup', handleMouseUp);\n    moveCallback({ x: e.pageX, y: e.pageY}, index);\n    setTimeout(moveEndCB);\n  },[handleMouseMove, index, moveCallback, moveEndCB, readOnlyHandle]);\n\n  const handleMouseDown = useCallback((e: React.MouseEvent<SVGSVGElement, MouseEvent>) => {\n    e.preventDefault();\n    if (readOnlyHandle) { return; }\n    setMouseDragging(true);\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseup', handleMouseUp);\n\n  },[handleMouseMove, handleMouseUp, readOnlyHandle]);\n\n  let maskID = useAngles ? \"mask-\" + lineSetId + '-' + index : '';\n  let shadowGradientID = \"shadowGradient-\" + lineSetId + '-' + index;\n  const {showPointHandle = true, showPointLabel= false, pointIndexOffset} = options as IDragLineUISharedOptions;\n\n  return (\n\n    <HandleBase ref={handleInstance} styling={styling} x={x} y={y} mouseDragging={mouseDragging} onTouchStart={handleTouchStart} onTouchEnd={handleTouchEnd} onTouchMove={handleTouchMove} onMouseDown={handleMouseDown}>\n      <defs>\n        <mask id={maskID}>\n          <rect width='100%' height='100%' x='-50%' y='-50%' fill='white' />\n          <rect width={size / 3} height={size / 0.9} x={-((size / 3) /2)} y={-((size / 0.9) + 5)} fill='black' transform={`rotate(${angle || 0} 0 0)`} />\n        </mask>\n        <radialGradient id={shadowGradientID}>\n          <StopStart styling={styling} offset='0%' />\n          <StopEnd styling={styling} offset='80%' />\n        </radialGradient>\n      </defs>\n\n      {\n        Icon ?\n          <IconGroup transform={`scale(${unit * 1.5 }) translate(-21 -21) rotate(${rotate}, 21, 21 )`}>\n            <Icon height='42' width='42' />\n          </IconGroup>\n        :\n          showPointHandle &&\n            <g transform={`scale(${ unit })`}>\n\n              <HandleShadowLayer r={size * 1} fillID={shadowGradientID} />\n              <HandleContrastLayer styling={styling} r={size / 2.4} strokeWidth={size / 3} />\n\n              <HandleReactiveGroup touchDragging={touchDragging} mouseDragging={mouseDragging}>\n                <HandleReactiveFill styling={styling} r={size / 1.8} />\n                <HandleReactiveRing styling={styling} r={size / 2.25} strokeWidth={size / 3} />\n              </HandleReactiveGroup>\n\n              <HandleRingLayer styling={styling} r={size / 2} strokeWidth={size / 6} maskID={maskID} />\n\n              {showPointLabel &&\n                <GrabHandleIndexGroup showIndex>\n                  <GrabHandleIndexText styling={styling} transform='translate(-5,6)' fontSize='20px' showIndex>\n                    {index + pointIndexOffset}\n                  </GrabHandleIndexText>\n                </GrabHandleIndexGroup>}\n\n            </g>\n      }\n\n\n\n    </HandleBase>\n  );\n};\n\nexport default HandleUnit;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { IDragLineUISharedOptions } from '.';\nimport Icon from '../Icons/Icon';\n\n\nconst ContrastLine = styled.line<{styling: string}>`\n  pointer-events: none;\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].contrastLine.stroke};\n  mix-blend-mode: multiply;\n`;\n\nconst HighlightLine = styled.line<{styling: string}>`\n  pointer-events: none;\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].highlightLine.stroke};\n`;\n\n\n\nconst GrabHandle = styled.circle<{hide: boolean, styling: string}>`\n  fill: ${({theme, styling}) => theme.custom.lines[styling].grabHandle.fill};\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].grabHandle.stroke};\n  opacity: 1;\n  transition: opacity 250ms ease;\n  cursor: grab;\n\n  ${props => props.hide && css`\n    pointer-events: none;\n    opacity: 0;\n  `};\n`;\n\n\nconst GrabHandleIndexGroup = styled.g<{showIndex: boolean}>`\n  opacity: 0;\n  pointer-events: none;\n  ${props => props.showIndex && css`\n    opacity: 1;\n  `};\n\n`;\n\nconst GrabHandleIndexText = styled.text<{showIndex: boolean, styling: string}>`\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  text-align: center;\n  fill: ${({theme, styling}) => theme.custom.lines[styling].grabHandleText.stroke};\n  font-weight: bold;\n  transition: opacity 250ms ease;\n  pointer-events: none;\n`;\n\nconst LabelText = styled.text<{showIndex: boolean, styling: string}>`\n  text-align: center;\n  fill: ${({theme, styling}) => theme.custom.lines[styling].label.fill};\n  font-weight: bold;\n  transition: opacity 250ms ease;\n  pointer-events: none;\n`;\n\nconst GrabHandleContrast = styled(GrabHandle)`\n  fill: none;\n  stroke: ${({theme, styling}) => theme.custom.lines[styling].grabHandleContrast.stroke};\n`;\n\nconst GrabHandleGroup = styled.g<{ showIndex: boolean, originalRadius: number, styling: string}>`\n\n  ${GrabHandle}, ${GrabHandleContrast} {\n    transition: r 250ms ease;\n  }\n\n  ${props => props.showIndex && css`\n    ${GrabHandle}, ${GrabHandleContrast} {\n      pointer-events: none;\n      r: ${props.originalRadius * 1.75};\n    }\n  `};\n`;\n\nconst DMCircle = styled.circle`\n  fill: hsla(203, 100%, 35%, 0.49);\n`;\n\ninterface ILineUnitProps {\n  lineSetId: number,\n  options: IDragLineUISharedOptions,\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  unit: number,\n  lineMoveCallback: any,\n  lineMoveStartCallback: any,\n  moveEndCB?: () => void;\n  label?: string;\n  styling?: string;\n}\n\n\n\nconst LineUnit : React.FC<ILineUnitProps> = (props) => {\n  const { x1, y1, x2, y2, unit, lineMoveCallback, lineMoveStartCallback, options, lineSetId, label, styling='primary', moveEndCB=()=>{}} = props;\n  const { handleFinderActive, revealSetIndex, showMoveHandle, setIndexOffset, showDirectionMark} = options;\n\n  const a = x1 - x2;\n  const b = y1 - y2;\n  const distance = Math.sqrt( a*a + b*b );\n  //this distance 60 doesn't work now...\n  const hideGrabHandle = showMoveHandle === false || (showMoveHandle !== true && distance < 60);\n\n\n  /** --- Toucher Events Section --- */\n  const grabTouchMove = (e: any) => {\n    for (let i = 0; i < e.touches.length; i++) {\n      // if(i === touchIndex){\n        lineMoveCallback({ x: e.touches[i].pageX, y: e.touches[i].pageY});\n      // }\n    }\n    moveEndCB();\n  };\n\n  const grabTouchStart = (e: any) => {\n    for (let i = 0; i < e.touches.length; i++) {\n    // if(i === touchIndex){\n      lineMoveStartCallback({ x: e.touches[i].pageX, y: e.touches[i].pageY});\n    // }\n    }\n  };\n\n\n  /** --- Mouse Events Section --- */\n  const handleMouseDown = (e: any) => {\n    lineMoveStartCallback({ x: e.pageX, y: e.pageY });\n    window.addEventListener(\"mousemove\", handleMouseMove);\n    window.addEventListener(\"mouseup\", handleMouseUp);\n    e.preventDefault();\n  };\n\n  const handleMouseUp = (e: any) => {\n    window.removeEventListener(\"mousemove\", handleMouseMove);\n    window.removeEventListener(\"mouseup\", handleMouseUp);\n    lineMoveCallback({ x: e.pageX, y: e.pageY });\n    moveEndCB();\n    e.preventDefault();\n  };\n\n  const handleMouseMove = (e: any) => {\n    lineMoveCallback({ x: e.pageX, y: e.pageY });\n    e.preventDefault();\n  };\n  const midpoint = {\n    x: (x2 + x1) / 2,\n    y: (y2 + y1) / 2\n  };\n\n  const directionMarkCoordinate = () => {\n    const angle = Math.atan2((y2 - y1), (x2 - x1));\n    const angleMode = (Math.PI / 2) - angle;\n    const x = midpoint.x + Math.sin(angleMode) -5;\n    const y = midpoint.y + Math.cos(angleMode);\n    let rotate = (180 / Math.PI) * Math.atan2(y2 - y1, x2 - x1);\n    let labelRotate = -rotate;\n    return {x, y, rotate, labelRotate};\n  };\n\n  const getDirectionMarkLine = () => {\n    const dmCoordinate = directionMarkCoordinate();\n    return (\n      <g transform={`translate(${dmCoordinate.x},${dmCoordinate.y}) rotate(${dmCoordinate.rotate}) scale(${unit * 1})`}>\n        <g transform='translate(-3,-30) scale(0.8)'>\n          <DMCircle r={12} cx={6} cy={7} />\n          <Icon color='inverse' icon='Up' size={12} weight='heavy' forSvgUsage />\n        </g>\n        <g transform={`translate(0,30) rotate(${dmCoordinate.labelRotate})`}>\n          <LabelText styling={styling} fontSize={`${14}px`} x={0} y={0} showIndex={revealSetIndex || handleFinderActive}>\n            {label}\n          </LabelText>\n        </g>\n      </g>\n    );\n  };\n\n  return (\n    <g>\n      <ContrastLine styling={styling} strokeLinecap='round' x1={x1} y1={y1} x2={x2} y2={y2} strokeWidth={4 * unit} />\n      <HighlightLine styling={styling} x1={x1} y1={y1} x2={x2} y2={y2} strokeWidth={2 * unit} />\n\n      <GrabHandleGroup styling={styling} showIndex={handleFinderActive && revealSetIndex} originalRadius={8 * unit}>\n        <GrabHandleContrast styling={styling} r={8 * unit} strokeWidth={4 * unit} cx={midpoint.x} cy={midpoint.y} hide={hideGrabHandle} />\n        <GrabHandle styling={styling} textAnchor='middle' r={8 * unit} strokeWidth={1 * unit} cx={midpoint.x} cy={midpoint.y} hide={hideGrabHandle} onTouchMove={grabTouchMove} onTouchStart={grabTouchStart} onMouseDown={handleMouseDown} />\n      </GrabHandleGroup>\n\n      <GrabHandleIndexGroup showIndex={!hideGrabHandle && (handleFinderActive || revealSetIndex)}>\n        <GrabHandleIndexText styling={styling} fontSize={`${unit * 10}px`} x={midpoint.x - (3 * unit)} y={midpoint.y + (4 * unit)} showIndex={revealSetIndex || handleFinderActive}>\n          {lineSetId + setIndexOffset}\n        </GrabHandleIndexText>\n      </GrabHandleIndexGroup>\n\n      {/* <circle r={1* unit} cx={x1} cy={y1} fill='white' /> */}\n      {/* <circle r={1* unit} cx={x2} cy={y2} fill='white' /> */}\n\n      {showDirectionMark ?\n        getDirectionMarkLine()\n        :\n        label &&\n          <LabelText styling={styling} fontSize={`${unit * 14}px`} x={midpoint.x - (16 * unit)} y={midpoint.y - (15 * unit)} showIndex={revealSetIndex || handleFinderActive}>\n            {label}\n          </LabelText>}\n    </g>\n  );\n\n};\n\nexport default LineUnit;\n","import { createContext } from 'react';\nimport { IPointSet } from '.';\n\ninterface IContextProps {\n    state: IPointSet[]// IState;\n    dispatch: any// ({type}:{type:any}) => void;\n  }\n\nexport const LineSetContext = createContext({} as IContextProps);\n","import React, { useState, useEffect, useCallback, useContext, useRef } from 'react';\nimport HandleUnit from './HandleUnit';\nimport LineUnit from './LineUnit';\nimport update from 'immutability-helper';\nimport { LineSetContext } from './Contexts';\nimport { IPointSet, IDragLineUISharedOptions, IVector2 } from '.';\nimport styled from 'styled-components';\n\nconst Point = styled.circle<{styling: string}>`\n  fill: ${({theme, styling}) => theme.custom.lines[styling].point.fill};\n`;\n\nconst AreaLabelText = styled.text<{styling: string}>`\n  text-align: center;\n  fill: ${({theme, styling}) => theme.custom.lines[styling].label.fill};\n  font-weight: bold;\n  transition: opacity 250ms ease;\n  pointer-events: none;\n`;\n\ninterface ILineSetProps {\n  lineSetId: number,\n  boundaries: any,\n  size: number,\n  unit: number,\n  lineData: IPointSet,\n  options: IDragLineUISharedOptions,\n  onLineMoveEnd: () => void;\n  getCTM: () => DOMMatrix | null;\n}\n\ninterface AreaLabelProps {\n  lineSetData: IPointSet,\n  unit: number\n}\n\nconst AreaLabel : React.FC<AreaLabelProps> = ( { lineSetData, unit } ) => {\n  const pointsLength = lineSetData.points.length;\n  if (pointsLength < 3) return null;\n  let midpoint = { x: 0, y: 0 };\n\n  lineSetData.points.map(({ x, y }) => {\n    midpoint.x += x;\n    midpoint.y += y;\n    return null;\n  });\n\n  midpoint = { x: midpoint.x / pointsLength, y: midpoint.y / pointsLength };\n  const Textlen = lineSetData.areaName?.length || 1;\n  return <AreaLabelText fontSize={`${unit * 14}px`} styling={lineSetData.styling || 'primary'} x={midpoint.x - (4 * Textlen * unit)} y={midpoint.y + (6 * unit)}>{lineSetData.areaName}</AreaLabelText>;\n};\n\nconst LineSet : React.FC<ILineSetProps> = ({ getCTM, boundaries, unit, size, lineSetId, options , onLineMoveEnd}) => {\n  // console.log(\"Unit \" + lineSetId + \", reporting in...\")\n\n  const {state, dispatch} = useContext(LineSetContext);\n  const lineSetData = state[lineSetId];\n\n  const [handleAngles, setHandleAngles] = useState<number[]>([]);\n\n  const handleRelation = useRef<{offsetX: number, offsetY: number}[]>([]);\n  const handleRadius : number = size / 2;\n  const handleUsesAngles : boolean = lineSetData.points.length === 2;\n\n  /**\n   * Ensure provided position vector is within the boundaries (of the container)\n   * @param {IVector2} position Vector to be enforced.\n   * @returns {IVector2} The position updated clamped to range.\n   */\n  const enforceBoundaries = useCallback((position: IVector2) => {\n\n    if(position.x < boundaries.x.min){\n      position.x = boundaries.x.min;\n    } else if (position.x > boundaries.x.max){\n        position.x = boundaries.x.max;\n    }\n\n    if(position.y < boundaries.y.min){\n        position.y = boundaries.y.min;\n    } else if (position.y > boundaries.y.max){\n        position.y = boundaries.y.max;\n    }\n\n    return position;\n\n  }, [boundaries]);\n\n\n  const handleMoveCallback = useCallback((pointerPosition: IVector2, index: number) => {\n    const screenCTM = getCTM();\n    if(!screenCTM){ return; }\n\n    const pointer = enforceBoundaries({\n      x: ((pointerPosition.x - screenCTM.e ) / screenCTM.a),\n      y: ((pointerPosition.y - screenCTM.f ) / screenCTM.d)\n    });\n    const point ={\n      x: Math.round(pointer.x),\n      y: Math.round(pointer.y)\n    };\n    const newLineSetData = update(lineSetData, {points:{[index]: {$merge: point}}});\n\n    dispatch({type: \"UPDATE\", index: lineSetId, data: newLineSetData });\n\n  }, [getCTM, enforceBoundaries, lineSetData, dispatch, lineSetId]);\n\n  const lineDragStart = useCallback((pointerPosition: IVector2) => {\n    const screenCTM = getCTM();\n    if(!screenCTM){ return; }\n\n    let pointer = {\n      x: ((pointerPosition.x - screenCTM.e ) / screenCTM.a) - handleRadius,\n      y: ((pointerPosition.y - screenCTM.f ) / screenCTM.d) - handleRadius\n    };\n\n    handleRelation.current = lineSetData.points.map((handle) => {\n      const xDiff = pointer.x - handle.x;\n      const yDiff = pointer.y - handle.y;\n      return {\n        offsetX: xDiff,\n        offsetY: yDiff\n      };\n    });\n\n  },[handleRadius, lineSetData.points, getCTM]);\n\n  const lineDragUpdate = useCallback((pointerPosition: IVector2) => {\n    const screenCTM = getCTM();\n    if(!screenCTM){ return; }\n\n    const { points } = lineSetData;\n\n    const pointer = {\n      x: ((pointerPosition.x - screenCTM.e ) / screenCTM.a) - handleRadius,\n      y: ((pointerPosition.y - screenCTM.f ) / screenCTM.d) - handleRadius\n    };\n\n    const newPoints = points.map((_handle, index) => {\n      const {offsetX=0, offsetY=0} = handleRelation.current[index]||{};\n\n      return enforceBoundaries({\n        x: Math.round(pointer.x - offsetX),\n        y: Math.round(pointer.y - offsetY)\n      });\n\n    });\n\n    dispatch({type: \"UPDATE\", index: lineSetId, data: { ...lineSetData, points: [...newPoints] } });\n\n  }, [getCTM, lineSetData, handleRadius, dispatch, lineSetId, enforceBoundaries]);\n\n\n\n  const calcAngle = (originX: number, originY: number, towardsX: number, towardsY: number) => {\n    let angle = Math.atan2(towardsY-originY,towardsX-originX);\n    let degrees = angle*180/Math.PI + 90;\n    return degrees;\n  };\n\n  // useCallback maybe to reduce unchanged deals?\n  const updateHandleAngles = useCallback((inputHandleData: IPointSet) => {\n    const { points } = inputHandleData;\n    let outputData : number[] = [];\n\n    // Update all handle angles in data set.\n    inputHandleData.points.forEach((handle, index) => {\n      const nextIndex = ( index + 2 > points.length ) ? 0 : index + 1 ;\n      const nextHandle =  points[nextIndex];\n      const angle = calcAngle(handle.x, handle.y, nextHandle.x, nextHandle.y);\n      outputData.push(angle);\n    });\n\n    setHandleAngles(outputData);\n  }, []);\n\n\n  useEffect(() => {\n    // Update angles when the line's data set has changed.\n    if(handleUsesAngles){\n      updateHandleAngles(lineSetData);\n    }\n  }, [lineSetData, updateHandleAngles, handleUsesAngles]);\n\n  const handles = lineSetData.points.map(({x,y}, index) =>\n    <HandleUnit\n      key={index+lineSetId}\n      lineSetId={lineSetId}\n      rotate={lineSetData.rotate}\n      Icon={lineSetData.icon}\n      index={index}\n      unit={unit}\n      size={size}\n      useAngles={handleUsesAngles}\n      angle={handleAngles[index]}\n      x={x}\n      y={y}\n      moveEndCB={onLineMoveEnd}\n      moveCallback={handleMoveCallback}\n      options={options}\n      styling={lineSetData.styling}\n      readOnlyHandle={lineSetData.readOnly}\n    />\n  );\n\n  const points = options.showPoint && (lineSetData.points.map(({x,y}, index) => <Point styling={lineSetData.styling||'primary'} key={index} r={unit} cx={x} cy={y} />));\n\n  const lines = lineSetData.points.map(({x:x1,y:y1}, index) => {\n    const {points, name, styling = 'primary'} = lineSetData;\n    //nextIndex  index is next Point's index\n    const nextIndex = ( index + 1 >= points.length ) ? 0 : index + 1 ;\n    //in the case of a line don't draw line back from second point\n    if(index === 1 && nextIndex === 0){\n      return null;\n    }\n    const {x:x2,y:y2} = points[nextIndex];\n   \n  return (\n    <LineUnit\n      key={index}\n      moveEndCB={onLineMoveEnd}\n      lineSetId={lineSetId}\n      options={options}\n      x1={x1}\n      y1={y1}\n      x2={x2}\n      y2={y2}\n      unit={unit}\n      label={name}\n      styling={styling}\n      lineMoveCallback={lineDragUpdate}\n      lineMoveStartCallback={lineDragStart}\n    />\n  );});\n\n  return (\n    <g>\n      {lines}\n      {handles}\n      {points}\n      <AreaLabel lineSetData={lineSetData} unit={unit} />\n    </g>\n  );\n};\n\nexport default LineSet;","import React, { useState, useEffect, useCallback, useRef, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport LineSet from './LineSet';\nimport { LineSetContext } from './Contexts';\nimport { LineUIOptions, IBoundary } from '.';\nimport Spinner from '../Indicators/Spinner';\n\n\nconst Container = styled.div`\n  position: relative;\n  line-height: 0;\n  user-select: none;\n  touch-action: none;\n  /* box-shadow: 0 10px 20px hsla(195deg, 65%, 5%, 35%); */\n  /* border: 10px solid hsla(195deg, 45%, 35%, 45%); */\n  /* border-radius:3px; */\n\n  width: auto;\n  /* transform: translateY(-70%); */\n\n`;\n\nconst LoadingOverlay =styled.div`\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Frame = styled.svg<{ transculent?: boolean }>`\n  touch-action: none;\n  user-select: none;\n  margin: 0;\n\n  overflow: visible;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  transition: background 250ms ease;\n  background: hsla(0deg, 0%, 0%, 0%);\n\n  ${props => props.transculent && css`\n    background: hsla(0deg, 0%, 0%, 35%);\n  `}\n\n`;\nconst Image = styled.img`\n  object-fit: contain;\n  width:  100%;\n  height: 100%;\n`;\n\n\ninterface LineUIProps {\n  src: string;\n  onSizeChange?: (size: { h: number; w: number }) => void;\n  onLineMoveEnd?: () => void;\n  options?: LineUIOptions;\n  showDirectionMark?: boolean;\n}\nconst LineUI: React.FC<LineUIProps> = ({\n  src,\n  onSizeChange = () => { },\n  onLineMoveEnd = () => { },\n  options: {\n    showHandleFinder,\n    showSetIndex,\n    showPointLabel = false,\n    showPointHandle,\n    showMoveHandle,\n    showGrabHandle,\n    setIndexOffset = 0,\n    pointIndexOffset = 0,\n    showPoint = false,\n    fixedImgDimensions,\n    boundaryOffset = 0,\n    showDirectionMark = false\n  } = {}\n}) => {\n\n\n  const [boundaries, setBoundaries] = useState<IBoundary>({ x: { min: 0, max: 0 }, y: { min: 0, max: 0 } });\n  const { state } = useContext(LineSetContext);\n\n  const [handleFinder, setHandleFinder] = useState<boolean>(false);\n\n  const [loaded, setLoaded] = useState(false);\n\n\n  // Scale Code\n  const [imgSize, setImgSize] = useState({ h: 1, w: 1 });\n  const [unit, setUnit] = useState(1);\n  const imgRef = useRef<HTMLImageElement>(null);\n  const frame = useRef<SVGSVGElement>(null);\n\n\n\n  // Initialization functions.\n  const initScaleAndBounds = useCallback(() => {\n    if (!imgRef.current) {\n      return;\n    }\n\n    const { naturalHeight, naturalWidth, clientHeight } = imgRef.current;\n    const h = (fixedImgDimensions && fixedImgDimensions.y) || naturalHeight;\n    const w = (fixedImgDimensions && fixedImgDimensions.x) || naturalWidth;\n    if (h !== imgSize.h || w !== imgSize.w) {\n      setImgSize({ h, w });\n      onSizeChange({ h, w });\n      console.debug('image size:', { naturalHeight, naturalWidth, clientHeight, unit: naturalHeight / clientHeight });\n    }\n\n    if (h / clientHeight !== unit) {\n      setUnit(h / clientHeight);\n    }\n    setLoaded(true);\n  }, [fixedImgDimensions, imgSize.h, imgSize.w, onSizeChange, unit]);\n\n  const calculateCTM = useCallback(() => {\n    if (!frame.current) { return null; }\n    //On size change make sure to refresh CTM\n    const ctm = frame.current.getScreenCTM();\n    console.debug('calculateCTM', ctm);\n    return ctm;\n  }, []);\n\n  const handlePositionTipShow = (e: any) => {\n    if (e.target === frame.current) {\n      setHandleFinder((!handleFinder === false) && true);\n    }\n  };\n\n  const handlePositionTipHide = () => {\n    setHandleFinder(showHandleFinder || false);\n  };\n\n  useEffect(() => {\n    if (!frame.current) { return; }\n\n    // Redefine boundaries loaded image changes our svg viewbox.\n    const { viewBox } = frame.current;\n    const bounds = {\n      x: {\n        min: viewBox.baseVal.x + boundaryOffset,\n        max: viewBox.baseVal.x + viewBox.baseVal.width - boundaryOffset\n      },\n      y: {\n        min: viewBox.baseVal.y + boundaryOffset,\n        max: viewBox.baseVal.y + viewBox.baseVal.height - boundaryOffset\n      },\n    };\n    console.debug('setBoundaries', bounds);\n    setBoundaries(bounds);\n  }, [imgSize, boundaryOffset]);\n\n  useEffect(() => {\n\n    // Make sure we always keep scale up to date on resize.\n    window.addEventListener('resize', initScaleAndBounds);\n    return () => {\n      window.removeEventListener('resize', initScaleAndBounds);\n    };\n  }, [initScaleAndBounds]);\n\n\n  const options = {\n    handleFinderActive: handleFinder,\n    revealSetIndex: showSetIndex !== false && (showSetIndex || state.length > 1),\n    showPointLabel,\n    showPointHandle:  showPointHandle || (showPointHandle !== false && showGrabHandle !== false),\n    showMoveHandle:  showMoveHandle || (showMoveHandle !== false && showGrabHandle !== false),\n    setIndexOffset,\n    pointIndexOffset,\n    showPoint,\n    showDirectionMark\n  };\n\n  return (\n    <Container>\n      <Image ref={imgRef} onLoad={initScaleAndBounds} src={src} alt='' />\n      {\n        (loaded && boundaries) ?\n          <Frame ref={frame} viewBox={`0 0 ${imgSize.w} ${imgSize.h} `} version='1.1' xmlns='http://www.w3.org/2000/svg' onPointerDown={handlePositionTipShow} onPointerUp={handlePositionTipHide} onPointerLeave={handlePositionTipHide} transculent={handleFinder}>\n            {state.map((lineSet, index) => (\n              <LineSet key={index} onLineMoveEnd={onLineMoveEnd} lineSetId={index} lineData={lineSet} getCTM={calculateCTM} boundaries={boundaries} unit={unit} size={30} options={options} />\n            ))}\n          </Frame>\n          :\n          <LoadingOverlay><Spinner size='large' styling='primary' /></LoadingOverlay>\n      }\n    </Container>\n  );\n\n};\n\nexport default LineUI;\n","import React, { useState, useEffect, useCallback, useRef, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport LineSet from './LineSet';\nimport { LineSetContext } from './Contexts';\nimport Spinner from '../Indicators/Spinner';\nimport { LineUIOptions, IBoundary, LineUIVideoOptions } from '.';\n\n\nconst Container = styled.div`\n  position: relative;\n  line-height: 0;\n  user-select: none;\n  touch-action: none;\n  /* box-shadow: 0 10px 20px hsla(195deg, 65%, 5%, 35%); */\n  /* border: 10px solid hsla(195deg, 45%, 35%, 45%); */\n  /* border-radius:3px; */\n\n  width: auto;\n  /* transform: translateY(-70%); */\n`;\nconst Video = styled.video`\n  width:  100%;\n  height: 100%;\n  border-radius: 3px;\n  background-color: hsla(0deg, 0%, 0%, 35%);\n`;\nconst LoadingOverlay =styled.div`\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Frame = styled.svg<{transcalent?: boolean}>`\n  touch-action: none;\n  user-select: none;\n  margin: 0;\n\n  overflow: visible;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  transition: background 250ms ease;\n  background: hsla(0deg, 0%, 0%, 0%);\n\n  ${props => props.transcalent && css`\n    background: hsla(0deg, 0%, 0%, 35%);\n  `}\n\n`;\n\n\n\ninterface LineUIProps {\n  src: string;\n  onSizeChange?: (size: {h: number; w: number}) => void;\n  onLineMoveEnd?: ()=> void;\n  onLoaded?: (metadata: {height: number; width: number; }) => void;\n  options?: LineUIOptions;\n  videoOptions: LineUIVideoOptions;\n}\nconst LineUIVideo : React.FC<LineUIProps> = ({\n  src,\n  onSizeChange = ()=>{},\n  onLineMoveEnd = ()=>{},\n  onLoaded = ()=>{},\n  videoOptions: {\n    loop = false,\n    autoPlay = false,\n    controls = false,\n    muted = true,\n    ...videoOptions\n  },\n  options: {\n    showHandleFinder,\n    showSetIndex,\n    showPointLabel = false,\n    showPointHandle,\n    showMoveHandle,\n    showGrabHandle,\n    setIndexOffset = 0,\n    pointIndexOffset = 0,\n    showPoint = false,\n    boundaryOffset = 0,\n    showDirectionMark = false\n  }={}\n}) => {\n\n  const frame =  useRef<SVGSVGElement>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const [boundaries, setBoundaries] = useState<IBoundary>({ x: { min: 0, max: 0 }, y: { min: 0, max: 0 } });\n  const {state} = useContext(LineSetContext);\n\n  const [handleFinder, setHandleFinder] = useState<boolean>(false);\n\n\n  // Scale Code\n  const [videoSize, setVideoSize] = useState({ h: 768, w: 1024 });\n  const [unit, setUnit] = useState(1);\n  const [loaded, setLoaded] = useState(false);\n\n  // Initialization functions.\n  const initScaleAndBounds = useCallback(() => {\n    if(!videoRef.current) {return;}\n    const { videoHeight, videoWidth, clientHeight } = videoRef.current;\n\n    if(videoHeight !== videoSize.h || videoWidth !== videoSize.w) {\n      setVideoSize({ h: videoHeight, w: videoWidth });\n      onSizeChange({ h: videoHeight, w: videoWidth });\n    }\n\n    if(videoHeight / clientHeight !== unit) {\n      setUnit(videoHeight / clientHeight);\n    }\n  }, [videoSize.h, videoSize.w, unit, onSizeChange]);\n\n  const handlePositionTipShow = (e: any) => {\n    if(e.target === frame.current){\n      setHandleFinder((!handleFinder === false) && true);\n    }\n  };\n\n  const handlePositionTipHide = () => {\n    setHandleFinder(showHandleFinder ||false);\n  };\n\n  const calculateCTM = useCallback(()=>{\n    if(!frame.current) {return null;}\n    //On size change make sure to refresh CTM\n    return frame.current.getScreenCTM();\n  },[]);\n\n  useEffect(() => {\n    // Redefine boundaries and screen matrix when the loaded video changes our svg viewbox.\n    if(!frame.current || !loaded) {return;}\n    const { viewBox } = frame.current;\n    const bounds = {\n      x: {\n        min: viewBox.baseVal.x + boundaryOffset,\n        max: viewBox.baseVal.x + viewBox.baseVal.width - boundaryOffset\n      },\n      y: {\n        min: viewBox.baseVal.y + boundaryOffset,\n        max: viewBox.baseVal.y + viewBox.baseVal.height - boundaryOffset\n      },\n    };\n    setBoundaries(bounds);\n  }, [videoSize, loaded, boundaryOffset]);\n\n  const onLoadedMetadata = useCallback(({target}) =>{\n    if(target){\n      setLoaded(true);\n      initScaleAndBounds();\n      const {videoHeight=1, videoWidth=1} = target;\n      onLoaded({height: videoHeight, width: videoWidth});\n    }\n  },[initScaleAndBounds, onLoaded]);\n\n  useEffect(() => {\n    // Make sure we always keep scale up to date on resize.\n    window.addEventListener('resize', initScaleAndBounds);\n    return () => {\n      window.removeEventListener('resize', initScaleAndBounds);\n    };\n  }, [initScaleAndBounds]);\n\n  const options = {\n    handleFinderActive: handleFinder,\n    revealSetIndex: showSetIndex !== false && (showSetIndex || state.length > 1),\n    showPointLabel,\n    showPointHandle:  showPointHandle || (showPointHandle !== false && showGrabHandle !== false),\n    showMoveHandle:  showMoveHandle || (showMoveHandle !== false && showGrabHandle !== false),\n    setIndexOffset,\n    pointIndexOffset,\n    showPoint,\n    showDirectionMark\n  };\n\n  return (\n    <Container>\n      <Video ref={videoRef} controls={controls} muted={muted} autoPlay={autoPlay} loop={loop} {...videoOptions} onLoadedMetadata={onLoadedMetadata} src={src} id='1'> </Video>\n      {!loaded && <LoadingOverlay><Spinner size='large' styling='primary' /></LoadingOverlay>}\n      {\n        loaded &&\n          <Frame ref={frame} viewBox={`0 0 ${videoSize.w} ${videoSize.h} `} version='1.1' xmlns='http://www.w3.org/2000/svg' onPointerDown={handlePositionTipShow} onPointerUp={handlePositionTipHide} onPointerLeave={handlePositionTipHide} transcalent={handleFinder}>\n            {state.map((lineSet, index) => (\n              <LineSet key={index} onLineMoveEnd={onLineMoveEnd} lineSetId={index} lineData={lineSet} getCTM={calculateCTM} boundaries={boundaries} unit={unit} size={30} options={options} />\n              ))}\n          </Frame>\n      }\n    </Container>\n  );\n\n};\n\nexport default LineUIVideo;\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React, { useState, useEffect, useRef, VideoHTMLAttributes } from 'react';\nimport styled from 'styled-components';\n\nconst Video = styled.video`\n  /* width: 800px; */\n`;\ninterface WebRTCMessage {\n  sdp?: RTCSessionDescriptionInit;\n  ice?: RTCIceCandidate;\n}\ninterface OwnProps {\n  enabled: boolean;\n  peerAddress: string;\n  maxConnectionAttempts?: number;\n  rtcConfiguration?: RTCConfiguration\n  id?: string;\n  setStatus?: (status: string) => void;\n  setError?: (error: string | null) => void;\n}\ntype Props = OwnProps & VideoHTMLAttributes<HTMLVideoElement>\n\nconst WebRTCPlayer: React.FC<Props> = ({\n  id = \"1\",\n  enabled,\n  peerAddress,\n  maxConnectionAttempts = 30,\n  rtcConfiguration = {},\n  setStatus = () => {},\n  setError = () => {},\n  // Video element defaults\n  autoPlay = true,\n  muted = true,\n  ...props\n  }) => {\n\n  const [connectionAttempts, setConnectionAttempts] = useState(0);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const webSocket = useRef<WebSocket|null>(null);\n  const peerConnection = useRef<RTCPeerConnection|null>(null);\n\n\n  function handleIncomingError(error: string) {\n    setError(error);\n    closeWebSocket();\n  }\n\n  // SDP offer received from peer, set remote description and create an answer\n  const onIncomingSDP = async (description: RTCSessionDescriptionInit) => {\n    if (!peerConnection.current || !webSocket.current) {\n      return;\n    }\n\n    try {\n      if (description.type === \"offer\" && peerConnection.current.signalingState !== \"stable\") {\n        await Promise.all([\n          peerConnection.current.setLocalDescription({type: \"rollback\"}),\n          peerConnection.current.setRemoteDescription(description)\n        ]);\n\n      } else {\n        if(description.sdp){\n          //HACK: this seems to allow more clients to negotiate.64002a\n          // seems to use [codec] H264 (96, level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f)\n          description.sdp = description.sdp.replace(/profile-level-id=(640028|64001f|64002a);/,'');\n        }\n        await peerConnection.current.setRemoteDescription(new RTCSessionDescription(description));\n        setStatus('Remote Description set');\n      }\n    } catch (error){\n      console.error('Error:', error);\n      setError('Error Setting remote description');\n      return;\n    }\n\n    // what is this case?\n    if (description.type !== 'offer') {\n      return;\n    }\n\n    setStatus('Creating Answer');\n    try {\n      const answer = await peerConnection.current.createAnswer();\n      console.debug('Got local description: ' + JSON.stringify(answer));\n      await peerConnection.current.setLocalDescription(answer);\n    } catch (error){\n      console.error(error);\n      if(error instanceof Error){\n        setError(error.message);\n      }\n      return;\n    }\n\n    // TODO: Why was this being set to null and why AFTER setting it??\n    // peerConnection.current.localDescription['ice-option'] = null\n    const message = {\n      sdp: peerConnection.current.localDescription\n    };\n    setStatus('Sending Local Description');\n    // console.debug('Local Description:' + JSON.stringify(message));\n    try {\n      await webSocket.current.send(JSON.stringify(message));\n      setStatus('Connected');\n    } catch (error) {\n      console.error(error);\n      if(error instanceof Error){\n        setError(error.message);\n      }\n    }\n  };\n\n  // ICE candidate received from peer, add it to the peer connection\n  function onIncomingICE(ice:RTCIceCandidateInit) {\n    if(!peerConnection.current){\n      console.error('peerConnection.current not found onIncomingICE ');\n      return;\n    }\n    const candidate = new RTCIceCandidate(ice);\n    peerConnection.current.addIceCandidate(candidate).catch(setError);\n  }\n\n  const onServerMessage = ({data = ''}: MessageEvent) => {\n    if(data ==='HELLO') {\n      console.debug('Received HELLO');\n      setStatus('Registered with server, waiting for offer.');\n    } else if (data.startsWith('ERROR')) {\n      console.error('Received ' + data);\n      handleIncomingError(data);\n    } else {\n      // Handle incoming JSON SDP and ICE messages\n      let msg: WebRTCMessage;\n      try {\n        msg = JSON.parse(data);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          handleIncomingError('Error parsing incoming JSON: ' + data);\n        } else {\n          handleIncomingError('Unknown error parsing response: ' + data);\n        }\n        return;\n      }\n      // Incoming JSON signals the beginning of a call\n      if (!peerConnection.current) {\n        createCall(msg);\n      }\n\n      if (msg.sdp != null) {\n        console.debug('Received Remote SDP:' + JSON.stringify(msg.sdp));\n        onIncomingSDP(msg.sdp);\n      } else if (msg.ice != null) {\n        console.debug('Received Remote ICE:' + JSON.stringify(msg.ice));\n        onIncomingICE(msg.ice);\n      } else {\n        handleIncomingError('Unknown incoming JSON: ' + msg);\n      }\n    }\n  };\n\n  function onServerClose(event: any) {\n    console.debug('serverClose');\n    if(webSocket.current){\n      setStatus('Disconnected from server');\n      closePeerConnection();\n      //TODO: todo Fix this to clear on close\n      if (event !== null && event.code !== 1000 && enabled) {\n        window.setTimeout(connectToPeer, 3000);\n      }\n    }\n  }\n\n  function onServerError(event: any) {\n    console.debug(event);\n    setError('Unable to connect to server');\n    closeWebSocket();\n  }\n\n  function connectToPeer() {\n    console.debug('connectToPeer', connectionAttempts);\n    if (connectionAttempts >= maxConnectionAttempts) {\n      setError('Too many connection attempts, aborting. Refresh page to try again');\n      return;\n    }\n    setError(null);\n\n    const peerId = getPeerId(id);\n    setStatus('Connecting to server ' + peerAddress);\n    const ws = new WebSocket(peerAddress);\n    webSocket.current = ws;\n    /* When connected, immediately register with the server */\n    ws.addEventListener('open', () => {\n      const interval = setInterval(() => {\n        try {\n          ws.send('HELLO ' + peerId);\n          clearInterval(interval);\n          setStatus('Registering with server (sent HELLO) for peer id: ' + peerId);\n        } catch (error) {\n          console.debug(error);\n        }\n      }, 3000);\n    });\n    ws.addEventListener('error', onServerError);\n    ws.addEventListener('message', onServerMessage);\n    ws.addEventListener('close', onServerClose);\n    setConnectionAttempts(connectionAttempts + 1);\n  }\n\n  function onRemoteTrack(event: RTCTrackEvent) {\n    if (videoRef.current && videoRef.current.srcObject !== event.streams[0]) {\n      console.debug('Incoming stream');\n      videoRef.current.srcObject = event.streams[0];\n      setStatus('Adding Track');\n    }\n  }\n\n  function createCall(msg: WebRTCMessage) {\n    // Reset connection attempts because we connected successfully\n    setConnectionAttempts(0);\n    console.debug('Creating RTCPeerConnection');\n\n    if (!msg.sdp) {\n      console.debug('WARNING: First message wasn\\'t an SDP message!?');\n      return;\n    }\n\n    const pc = new RTCPeerConnection(rtcConfiguration);\n    peerConnection.current = pc;\n    pc.addEventListener('track', onRemoteTrack);\n\n    pc.addEventListener('icecandidate', ({candidate = null}) => {\n\n      if (!candidate) {\n        console.debug('All local ICE Candidates sent.');\n        return;\n      }\n      // We have a local ICE candidate, send it to the remote party with the same uuid\n      if(webSocket.current){\n        webSocket.current.send(JSON.stringify({ 'ice': candidate }));\n        //TODO: try catch here?\n      } else {\n        console.debug('no WS found on peer connection \\'icecandidate\\' event... how?');\n      }\n    });\n    // pc.addEventListener('negotiationneeded', ()=>{console.debug('negotiationneeded')})\n\n    setStatus('RTCPeerConnection created, waiting for SDP');\n  }\n\n  const closeWebSocket = async () => {\n    console.debug('closeWebSocket');\n    await closePeerConnection();\n    if(webSocket.current){\n      await webSocket.current.close();\n      webSocket.current = null;\n    }\n  };\n\n  const closePeerConnection = async() => {\n    console.debug('closePeerConnection');\n    if (peerConnection.current) {\n      await peerConnection.current.close();\n      peerConnection.current = null;\n    }\n  };\n\n  useEffect(() => {\n    if (enabled === true) {\n      connectToPeer();\n    } else {\n      if (webSocket.current) {\n        webSocket.current.close(1000, 'WebRTC Disabled');\n      }\n    }\n    return ()=>{\n      console.debug('cleanup');\n      closeWebSocket();\n    };\n  }, [enabled]);// eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <Video {...props} autoPlay={autoPlay} muted={muted} ref={videoRef} />\n  );\n};\n\nexport default WebRTCPlayer;\n\n\n\nfunction getPeerId(id: string) {\n  return 'WRP_' + id + '_' + Math.floor(Math.random() * (9000 - 10) + 10).toString();\n}","import React, { useState, useEffect, useCallback, useRef, useContext } from 'react';\nimport styled, { css } from 'styled-components';\n\nimport LineSet from './LineSet';\nimport { LineSetContext } from './Contexts';\nimport WebRTCClient from '../WebRTCClient';\nimport Spinner from '../Indicators/Spinner';\nimport { LineUIOptions, IBoundary, LineUIVideoOptions } from '.';\n\n\nconst Container = styled.div`\n  position: relative;\n  line-height: 0;\n  user-select: none;\n  touch-action: none;\n  /* box-shadow: 0 10px 20px hsla(195deg, 65%, 5%, 35%); */\n  /* border: 10px solid hsla(195deg, 45%, 35%, 45%); */\n  /* border-radius:3px; */\n\n  width: auto;\n  /* transform: translateY(-70%); */\n`;\nconst Video = styled(WebRTCClient)`\n  width:  100%;\n  height: 100%;\n  border-radius: 3px;\n  background-color: hsla(0deg, 0%, 0%, 35%);\n`;\nconst LoadingOverlay =styled.div`\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Frame = styled.svg<{transcalent?: boolean}>`\n  touch-action: none;\n  user-select: none;\n  margin: 0;\n\n  overflow: visible;\n\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  transition: background 250ms ease;\n  background: hsla(0deg, 0%, 0%, 0%);\n\n  ${props => props.transcalent && css`\n    background: hsla(0deg, 0%, 0%, 35%);\n  `}\n\n`;\n\n\n\ninterface LineUIProps {\n  ws: string;\n  onSizeChange?: (size: {h: number; w: number}) => void;\n  onLineMoveEnd?: ()=> void;\n  onLoaded?: (metadata: {height: number; width: number; }) => void;\n  options?: LineUIOptions;\n  videoOptions?: LineUIVideoOptions;\n}\nconst LineUI : React.FC<LineUIProps> = ({\n  ws,\n  onSizeChange = ()=>{},\n  onLineMoveEnd = ()=>{},\n  onLoaded = ()=>{},\n  videoOptions,\n  options: {\n    showHandleFinder,\n    showSetIndex,\n    showPointLabel = false,\n    showPointHandle,\n    showMoveHandle,\n    showGrabHandle,\n    setIndexOffset = 0,\n    pointIndexOffset = 0,\n    showPoint = false,\n    boundaryOffset = 0,\n    showDirectionMark = false\n  }={}\n}) => {\n\n  const frame =  useRef<SVGSVGElement>(null);\n  const videoRef = useRef<HTMLVideoElement>();\n\n  const [boundaries, setBoundaries] = useState<IBoundary>({ x: { min: 0, max: 0 }, y: { min: 0, max: 0 } });\n  const {state} = useContext(LineSetContext);\n\n  const [handleFinder, setHandleFinder] = useState<boolean>(false);\n\n\n  // Scale Code\n  const [videoSize, setVideoSize] = useState({ h: 768, w: 1024 });\n  const [unit, setUnit] = useState(1);\n  const [loaded, setLoaded] = useState(false);\n\n  // Initialization functions.\n  const initScaleAndBounds = useCallback(() => {\n    if(!videoRef.current) {return;}\n    const { videoHeight, videoWidth, clientHeight } = videoRef.current;\n\n    if(videoHeight !== videoSize.h || videoWidth !== videoSize.w) {\n      setVideoSize({ h: videoHeight, w: videoWidth });\n      onSizeChange({ h: videoHeight, w: videoWidth });\n    }\n\n    if(videoHeight / clientHeight !== unit) {\n      setUnit(videoHeight / clientHeight);\n    }\n  }, [videoSize.h, videoSize.w, unit, onSizeChange]);\n\n  const handlePositionTipShow = (e: any) => {\n    if(e.target === frame.current){\n      setHandleFinder((!handleFinder === false) && true);\n    }\n  };\n\n  const handlePositionTipHide = () => {\n    setHandleFinder(showHandleFinder ||false);\n  };\n\n  const calculateCTM = useCallback(()=>{\n    if(!frame.current) {return null;}\n    //On size change make sure to refresh CTM\n    return frame.current.getScreenCTM();\n  },[]);\n\n  useEffect(() => {\n    // Redefine boundaries and screen matrix when the loaded video changes our svg viewbox.\n    if(!frame.current || !loaded) {return;}\n    const { viewBox } = frame.current;\n    const bounds = {\n      x: {\n        min: viewBox.baseVal.x + boundaryOffset,\n        max: viewBox.baseVal.x + viewBox.baseVal.width - boundaryOffset\n      },\n      y: {\n        min: viewBox.baseVal.y + boundaryOffset,\n        max: viewBox.baseVal.y + viewBox.baseVal.height - boundaryOffset\n      },\n    };\n    setBoundaries(bounds);\n  }, [videoSize, loaded, boundaryOffset]);\n\n  const onLoadedMetadata = useCallback(({target}) =>{\n    if(target){\n      setLoaded(true);\n      videoRef.current = target;\n      initScaleAndBounds();\n      const {videoHeight=1, videoWidth=1} = target;\n      onLoaded({height: videoHeight, width: videoWidth});\n    }\n  },[initScaleAndBounds, onLoaded]);\n\n  useEffect(() => {\n    // Make sure we always keep scale up to date on resize.\n    window.addEventListener('resize', initScaleAndBounds);\n    return () => {\n      window.removeEventListener('resize', initScaleAndBounds);\n    };\n  }, [initScaleAndBounds]);\n\n  const options = {\n    handleFinderActive: handleFinder,\n    revealSetIndex: showSetIndex !== false && (showSetIndex || state.length > 1),\n    showPointLabel,\n    showPointHandle:  showPointHandle || (showPointHandle !== false && showGrabHandle !== false),\n    showMoveHandle:  showMoveHandle || (showMoveHandle !== false && showGrabHandle !== false),\n    setIndexOffset,\n    pointIndexOffset,\n    showPoint,\n    showDirectionMark\n  };\n\n  return (\n    <Container>\n      <Video onLoadedMetadata={onLoadedMetadata} peerAddress={ws} id='1' {...videoOptions} enabled> </Video>\n      {!loaded && <LoadingOverlay><Spinner size='large' styling='primary' /></LoadingOverlay>}\n      {\n        loaded &&\n          <Frame ref={frame} viewBox={`0 0 ${videoSize.w} ${videoSize.h} `} version='1.1' xmlns='http://www.w3.org/2000/svg' onPointerDown={handlePositionTipShow} onPointerUp={handlePositionTipHide} onPointerLeave={handlePositionTipHide} transcalent={handleFinder}>\n            {state.map((lineSet, index) => (\n              <LineSet key={index} onLineMoveEnd={onLineMoveEnd} lineSetId={index} lineData={lineSet} getCTM={calculateCTM} boundaries={boundaries} unit={unit} size={30} options={options} />\n              ))}\n          </Frame>\n      }\n    </Container>\n  );\n\n};\n\nexport default LineUI;\n","import { IPointSet, IVector2 } from './';\nimport update from 'immutability-helper';\n\nexport type IReducerActions =\n  | UpdateAction\n  | LoadAction\n  | AddSetAction\n  | RemoveAction\n  | AddPointAction\n  | RemovePointAction\n  | UpdateSetOptions\n  | RenameSetAction\n  ;\n\ninterface AddSetAction{\n  type: 'ADD_SET';\n  data: IPointSet;\n}\ninterface UpdateAction {\n  type: 'UPDATE'|'UPDATE_SET_POINTS';\n  index: number;\n  data: IPointSet;\n}\n\ninterface RenameSetAction {\n  type: 'RENAME_SET';\n  index: number;\n  data: {\n    name: string;\n  };\n}\ninterface UpdateSetOptions {\n  type: 'UPDATE_SET_OPTIONS';\n  index: number;\n  data: Partial<IPointSet>;\n}\ninterface RemoveAction {\n  type: 'REMOVE_SET';\n  index: number;\n}\ninterface LoadAction {\n    type: 'LOAD';\n    state: IPointSet[];\n}\ninterface AddPointAction {\n  type: 'ADD_POINT';\n  index: number;\n}\ninterface RemovePointAction {\n  type: 'REMOVE_POINT';\n  index: number;\n}\n\nconst getMidpoint = (pointA : IVector2, pointB : IVector2) => {\n  return({\n    x: pointA.x + (pointB.x - pointA.x) * 0.5,\n    y: pointA.y + (pointB.y - pointA.y) * 0.5\n  });\n};\n\nexport default (state : IPointSet[], action: IReducerActions) => {\n\n  switch(action.type){\n    //This UPDATE is better named 'UPDATE_SET_POINTS'\n    case \"UPDATE_SET_POINTS\":\n    case \"UPDATE\": {\n      const points = action.data.points.map((point) => ({...point}));\n      return update(state, {[action.index]: { points: {$set: points}}});\n    }\n\n    case \"RENAME_SET\": {\n      const set = { ...state[action.index], name: action.data.name};\n      return update(state, {[action.index]: {$set: set}});\n    }\n\n    case \"UPDATE_SET_OPTIONS\": {\n      const set = { ...state[action.index], ...action.data};\n      return update(state, {[action.index]: {$set: set}});\n    }\n\n    case \"ADD_SET\":\n      return [...state, action.data];\n\n    case \"REMOVE_SET\":\n      return update(state, { $splice: [[action.index,1]]});\n\n    case \"ADD_POINT\": {\n      const newPoint: IVector2 = getMidpoint(state[action.index].points[0], state[action.index].points[1]);\n      return update(state, {[action.index]: {points: {$splice: [[1, 0, newPoint]]}}});\n    }\n\n    case \"REMOVE_POINT\":\n      if(state[action.index].points.length <= 2){ return state; }\n      return update(state, {[action.index]: {points: {$splice: [[state[action.index].points.length - 1, 1]]}}});\n\n    case 'LOAD': {\n      const newState = action.state.map(\n          ({name, points, ...rest}) => ({\n            name,\n            points: points.map( ({x,y}) => ({x,y}) ),\n            ...rest\n          })\n        );\n      return newState;\n    }\n\n    default:\n      console.error(`Action ${action['type']} not registered.`);\n      return state;\n  }\n};\n","import { useEffect, useState } from 'react';\n\nexport const useTitle = (title : string, area? : string, delimiter?: string, update= true) => {\n\n  const [baseTitle] = useState<string>(document.title);\n\n  useEffect(() => {\n    if(!update) return;\n    document.title = makeTitle([\n      ...(title ? [title] : []),\n      ...(area ? [area] : []),\n      baseTitle\n    ], delimiter);\n  },[title, area, baseTitle, delimiter, update]);\n};\n\n/**\n * Put the parts together for title use.\n * @param parts Each part to make up the title.\n * @param delimiter Character used for delimiting\n */\nconst makeTitle = (parts: string[], delimiter : string = '|') : string => {\n\n  let title = '';\n  delimiter = ' ' + delimiter + ' ';\n\n  parts.forEach((part, key) => {\n    title += part;\n    if(parts.length - 1 !== key){\n      title += delimiter;\n    }\n  });\n\n  return title;\n\n};","import React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '../../Icons/Icon';\nimport { Link } from 'react-router-dom';\nimport { useTitle } from '../../hooks/useTitle';\n\n\nconst Container = styled.div`\n  position: relative;\n`;\n\nconst IconContainer = styled.div`\n  position: absolute;\n  left: -45px;\n  bottom: 0;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    display: block;\n  }\n`;\n\nconst Title = styled.h1`\n  ${({theme}) => css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.pageHeader.mainTitle};\n  `}\n  margin: 0 0 20px;\n`;\n\n\nconst AreaTitleCss = css`\n  ${({theme}) => css`\n  font-family: ${theme.fontFamily.ui};\n  ${theme.typography.pageHeader.areaTitle};\n  `}\n  margin: 0;\n  position: absolute;\n  top: -18px;\n`;\n\nconst AreaTitle = styled.div`\n  ${AreaTitleCss}\n`;\n\nconst AreaLinkTitle = styled(Link)`\n  ${AreaTitleCss}\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\ninterface IProps {\n  title: string\n  icon?: string\n  areaTitle?: string\n  areaHref?: string\n  updateDocTitle?: boolean\n}\n\nconst PageTitle : React.FC<IProps> = ({title, icon, areaTitle, areaHref, updateDocTitle = true}) => {\n  // Set <title> attribute automagically.\n\n  useTitle(title, areaTitle || '', undefined, updateDocTitle);\n\n\n  return (\n    <Container>\n      {areaTitle && areaHref\n        ? <AreaLinkTitle to={areaHref}>{areaTitle}</AreaLinkTitle>\n        : areaTitle && <AreaTitle>{areaTitle}</AreaTitle>}\n      <Title>{title}</Title>\n      {icon ?\n        <IconContainer><Icon size={24} color='dimmed' {...{icon}} /></IconContainer>\n      : null}\n    </Container>\n  );\n};\n\nexport default PageTitle;","import React from 'react';\nimport styled, { css } from 'styled-components';\n\nconst Container = styled.p`\n  ${({theme}) => css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.pageHeader.introduction};\n  `}\n`;\n\ninterface IProps {}\n\nconst IntroductionText : React.FC<IProps> = ({children}) => {\n  return (\n    <Container>\n      {children}\n    </Container>\n  );\n};\n\nexport default IntroductionText;","import React from 'react';\nimport styled from 'styled-components';\n\nimport PageTitle from '../atoms/PageTitle';\nimport IntroductionText from '../atoms/IntroductionText';\n\nconst Container = styled.div``;\n\ninterface IProps {\n  title: string\n  areaHref?: string\n  areaTitle?: string\n  icon?: string\n  introductionText?: string\n  updateDocTitle?: boolean\n}\n\nconst PageHeader : React.FC<IProps> = ({title, icon, introductionText, areaHref, areaTitle, updateDocTitle = true}) => {\n  return (\n    <Container>\n      <PageTitle {...{title, icon, areaHref, areaTitle, updateDocTitle}} />\n      {introductionText ?\n        <IntroductionText>{introductionText}</IntroductionText>\n      : null}\n    </Container>\n  );\n};\n\nexport default PageHeader;","import React, { ReactElement } from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n/**\n * This component creates a column of ReactElements\n */\nexport interface IMultiContent {\n  contentArray: ReactElement[];\n}\n\nconst MultilineContent : React.FC<IMultiContent> = ({contentArray}) => {\n  return(\n    <Container>\n      {contentArray.map((element, index) => {\n        return <div key={`element-${index}`}>{element}</div>;\n      })}\n    </Container>\n  );\n};\n\nexport default MultilineContent;","import React, { useState, useCallback, VideoHTMLAttributes } from 'react';\nimport styled, { css } from 'styled-components';\nimport Spinner from '../../Indicators/Spinner';\nimport { IMediaType } from '../../index';\n\nconst Container = styled.div`\n  position: relative;\n  line-height: 0;\n`;\n\nconst mediaStyle = `\n  max-width:  100%;\n  max-height: 100%;\n  border-radius: 3px;\n  background-color: hsla(0deg, 0%, 0%, 35%);\n`;\n\nconst LoadingOverlay = styled.div`\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst Video = styled.video<{ isLoaded?: boolean, hasModalLimits?: boolean }>`\n  ${mediaStyle};\n  outline: none;\n\n  ${({ theme, isLoaded, hasModalLimits }) => css`\n    transition: opacity ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeOut};\n    opacity: ${isLoaded ? `1` : `0`};\n\n    ${hasModalLimits && css`\n      max-height: calc(100vh - 100px);\n      max-width: calc(100vw - 100px);\n    `};\n  `};\n`;\n\nconst StyledImage = styled.img<{ isLoaded?: boolean, hasModalLimits?: boolean }>`\n  ${mediaStyle};\n\n  ${({ theme, isLoaded, hasModalLimits }) => css`\n    transition: opacity ${theme.animation.speed.slow} ${theme.animation.easing.primary.easeOut};\n    opacity: ${isLoaded ? `1` : `0`};\n\n    ${hasModalLimits && css`\n      max-height: calc(100vh - 100px);\n      max-width: calc(100vw - 100px);\n    `};\n  `};\n`;\n\nexport interface IMediaModal {\n  src: string\n  mediaType: IMediaType\n  alt?: string\n  videoOptions?: VideoHTMLAttributes<HTMLVideoElement>\n  hasModalLimits?: boolean\n  onError?: () => void\n  onMediaLoad?: () => void\n}\n\nconst MediaBox: React.FC<IMediaModal> = ({\n  src,\n  alt,\n  videoOptions = {},\n  mediaType,\n  hasModalLimits,\n  onError = () => { },\n  onMediaLoad = () => { },\n}) => {\n\n  const {\n    loop = false,\n    autoPlay = true,\n    controls = false,\n    muted = true,\n    ...videoValues\n  } = videoOptions;\n\n  const [loaded, setLoaded] = useState(false);\n\n  const handleLoad = useCallback(() => {\n    onMediaLoad();\n    setLoaded(true);\n  }, [onMediaLoad, setLoaded]);\n\n  return (\n    <Container>\n      {mediaType === 'video'\n        ? <Video\n            {...{ src, loop, autoPlay, controls, muted, onError, hasModalLimits }}\n            {...videoValues}\n            isLoaded={loaded}\n            preload='metadata'\n            onCanPlayThrough={handleLoad}\n          />\n        : <StyledImage\n            {...{ src, alt, onError, hasModalLimits }}\n            onLoad={handleLoad}\n            isLoaded={loaded}\n          />}\n      {(!loaded) && <LoadingOverlay><Spinner size='large' styling='primary' /></LoadingOverlay>}\n    </Container>\n  );\n};\n\nexport default MediaBox;","import React, { ReactElement, useCallback, useRef } from 'react';\nimport ReactDom from 'react-dom';\nimport styled, { css } from 'styled-components';\nimport { resetButtonStyles } from '../common';\nimport Icon, {IconWrapper} from '../Icons/Icon';\nimport { useClickOutside } from '../hooks/useClickOutside';\n\n\nconst Container = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: hsla(202, 33%, 95%, 0.51);\n  -webkit-backdrop-filter: blur(5px);\n  backdrop-filter: blur(5px);\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  z-index: 999;\n`;\n\nconst CloseIcon = styled(Icon)``;\n\nconst CloseButton = styled.button<{ selected?: boolean }>`\n  ${resetButtonStyles};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  right: 0;\n  top: -30px;\n  color: ${({ theme }) => theme.colors.icons['dimmed']};\n  font-size: 14px;\n  font-weight: 500;\n\n  ${IconWrapper} {\n    display: flex;\n    margin-left: 12px;\n  }\n  ${({ selected = false }) => selected && css`\n    border-bottom: 5px solid hsl(207, 80%, 64%);\n  `}\n  &:focus {\n    outline: none;\n  }\n\n  &:hover:enabled {\n    ${({ theme }) => theme && css`\n      opacity: .8;\n      transition: transform ${theme.animation.speed.normal} ${theme.animation.easing.primary.inOut};\n    `}\n  }\n\n  &:active:enabled {\n    opacity: .9;\n  }\n  &:disabled {\n    opacity: 0.1;\n  }\n`;\n\nconst LightBox = styled.div<{ padding?: boolean, width?: string}>`\n  position: relative;\n  margin: 27px 0 0;\n  box-shadow: 0 10px 15px 0 hsla(205, 42%, 60%, 0.15);\n  background-color: hsl(0, 0%, 100%);\n  z-index: 9999;\n  width: ${({ width }) => width ? width : `580px`};\n  padding: ${({ padding }) => padding ? `30px 40px` : `0`};\n  border-radius: 5px;\n`;\n\nexport interface IModalProps {\n  isOpen: boolean;\n  isCloseEnable?: boolean;\n  closeText?: string;\n  width?: string;\n  padding?: boolean;\n  customComponent?: ReactElement;\n  onDismiss: () => void;\n  dismissCallback?: () => void;\n}\n\nconst Modal: React.FC<IModalProps> = ({\n  isOpen = false,\n  isCloseEnable = true,\n  closeText = '',\n  width = '',\n  padding = true,\n  customComponent,\n  onDismiss,\n  dismissCallback,\n}) => {\n\n  const lightBoxRef = useRef<HTMLDivElement>(null);\n  const onClickOutside = () => {\n    if (isCloseEnable) {\n      if(dismissCallback) {\n        dismissCallback();\n      }\n      dismiss();\n    }\n  };\n\n  useClickOutside(lightBoxRef, onClickOutside);\n\n  const dismiss = useCallback(() => {\n    if(dismissCallback) {\n      dismissCallback();\n    }\n    onDismiss();\n  }, [onDismiss, dismissCallback]);\n\n  return (isOpen\n    ? ReactDom.createPortal(\n      <Container>\n        <LightBox ref={lightBoxRef} width={width} padding={padding}>\n          {isCloseEnable\n            ?\n              <CloseButton onClick={() => dismiss()}>\n                {closeText ? closeText : 'CLOSE'}\n                <CloseIcon icon='CloseCompact' size={15} color='dimmed' weight='regular' />\n              </CloseButton>\n            : null}\n          {customComponent}\n        </LightBox>\n      </Container>, document.body)\n    : null\n  );\n};\n\nexport default Modal;","import React, { useState } from 'react';\nimport Modal, { IModalProps } from '../Modals/Modal';\n\nconst defaultModalProps: IModalProps = {\n  isOpen: false,\n  onDismiss: () => null,\n};\n\ninterface ModalContextType {\n  modalProps: IModalProps;\n  setModalProps: (newProps: IModalProps) => void;\n}\n\nconst defaultContext: ModalContextType = {\n  modalProps: defaultModalProps,\n  setModalProps: (newProps: IModalProps) => { console.log(newProps); },\n};\n\nconst ModalContext = React.createContext<ModalContextType>(defaultContext);\n\nconst ModalProvider: React.FC = ({ children }) => {\n\n  const [modalProps, setProps] = useState<IModalProps>(defaultContext.modalProps);\n\n  const setModalProps = (newProps: IModalProps) => {\n    setProps(newProps);\n  };\n\n  return (\n    <ModalContext.Provider value={{ modalProps, setModalProps }}>\n      <Modal {...modalProps} />\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\nexport { ModalContext };\nexport default ModalProvider;","import { ReactElement, useCallback, useContext} from 'react';\nimport { ModalContext } from '../context/ModalContext';\nimport { IModalProps } from '../Modals/Modal';\n\n/**\n * This type is a reduced version of the modalProps\n * but with the possibilities to grow beyond the basic modal\n * features\n */\nexport type IModal = {\n  closeText?: string,\n  isCloseEnable?: boolean,\n  width?: string,\n  padding?: boolean,\n  dismissCallback?: () => void,\n  customComponent?: ReactElement\n}\nexport const useModal = () => {\n  const { modalProps, setModalProps } = useContext(ModalContext);\n\n  const setModalOpen = useCallback((newStatus: boolean) => {\n    if (newStatus === undefined) { return;}\n\n    const updateProps: IModalProps = {\n      ...modalProps,\n      isOpen: newStatus,\n    };\n    setModalProps(updateProps);\n  }, [modalProps, setModalProps]);\n\n  const onDismiss = useCallback(() => {\n    setModalOpen(false);\n  }, [setModalOpen]);\n\n  const createModal = useCallback((modal?: IModal) => {\n\n    if(!modal) {\n      setModalProps({isOpen: true, onDismiss});\n    }\n\n    const updateProps = {\n      isOpen: true,\n      closeText: modal?.closeText,\n      isCloseEnable: modal?.isCloseEnable,\n      width: modal?.width,\n      padding: modal?.padding,\n      dismissCallback: modal?.dismissCallback,\n      customComponent: modal?.customComponent,\n      onDismiss,\n    };\n\n    setModalProps(updateProps);\n  }, [onDismiss, setModalProps]);\n\n  return {\n    createModal,\n    isModalOpen: modalProps.isOpen,\n    setModalOpen,\n  };\n};","import React, {useCallback, VideoHTMLAttributes } from 'react';\nimport { IMediaType } from '..';\nimport MediaBox, { IMediaModal } from \"../Misc/atoms/MediaBox\";\nimport { useModal, IModal } from \"./useModal\";\n\n\nexport type ICreateMediaModal = IMediaModal & IModal;\n\nconst videoDefaultOptions: VideoHTMLAttributes<HTMLVideoElement> = { controls: true };\n\nexport const useMediaModal = () => {\n\n  // default options for media box\n  const { createModal, isModalOpen, setModalOpen } = useModal();\n\n  async function isMediaUrlValid(src: string, mediaType: IMediaType): Promise<boolean> {\n    let isValid = false;\n\n    if (mediaType === 'img') {\n      const img = new Image();\n      img.src = src;\n      try {\n        await new Promise((resolve, reject) => {\n          img.onload = () => resolve(isValid = true);\n          img.onerror = reject;\n        });\n      } catch (error) {\n        isValid = false;\n        console.log(`[useMediaModal - isMediaUrlValid] Invalid preview url ${src} - image load failed, modal will not be open`, error);\n      }\n    }\n\n    if (mediaType === 'video') {\n      const videoElement = document.createElement('video');\n      videoElement.src = src;\n\n      try {\n        await new Promise((resolve, reject) => {\n          videoElement.oncanplaythrough = () => resolve(isValid = true);\n          videoElement.onerror = reject;\n        });\n\n      } catch (error) {\n        isValid = false;\n        console.log(`[useMediaModal - isMediaUrlValid] Invalid preview url ${src} - video load failed, modal will not be open`, error);\n      }\n    }\n\n    return isValid;\n  }\n\n\n  const createMediaModal = useCallback(async (mediaModal: ICreateMediaModal) => {\n    const {\n      src,\n      mediaType,\n      alt,\n      videoOptions = videoDefaultOptions,\n      onError,\n      onMediaLoad,\n      closeText,\n      dismissCallback,\n    } = mediaModal;\n\n    createModal({\n      padding: false,\n      width: 'auto',\n      closeText,\n      dismissCallback,\n      customComponent: (\n        <MediaBox\n          {...{\n            src,\n            mediaType,\n            alt,\n            videoOptions,\n            onError,\n            onMediaLoad\n          }}\n          hasModalLimits\n        />\n      )\n    });\n\n  }, [createModal]);\n\n  return {\n    createMediaModal,\n    isMediaUrlValid,\n    isMediaModalOpen: isModalOpen,\n    setMediaModalOpen: setModalOpen,\n  };\n};","import React, { useCallback, useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useMediaModal } from '../../hooks/useMediaModal';\nimport { IMediaType } from '../..';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\ntype VideoAspects = '4:3' | '16:9';\n\nconst Container = styled.div<{ hoverZoom?: boolean, aspect?: VideoAspects, mediaUrl?: string, isImageValid: boolean, hasPreview: boolean }>`\n  position: relative;\n  height: inherit;\n  background: grey;\n  border-radius: 3px;\n  overflow: hidden;\n  width: 55px;\n  height: auto;\n  opacity: 0.65;\n  margin-right: 10px;\n\n  &::after {\n    content: '';\n    display: block;\n    padding-bottom: 75%;\n    ${({ aspect }) => aspect === '16:9' && css`\n      padding-left: 56.25%;\n    `}\n  }\n\n  ${({ theme }) => theme && css`\n    transition:\n      opacity ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut},\n      transform ${theme.animation.speed.fast} ${theme.animation.easing.primary.easeOut};\n  `}\n\n  &:hover {\n    ${({ mediaUrl, hasPreview }) => mediaUrl && hasPreview && css`\n      cursor: pointer;\n    `};\n\n    ${({ theme, hoverZoom, isImageValid }) => theme && hoverZoom && isImageValid && css`\n      transform: scale(1.5);\n      opacity: 1;\n      transition: transform ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut};\n    `}\n  }\n\n`;\nconst Image = styled.div<{ image?: string }>`\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${p => p.image});\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  display: ${p => p.image ? 'block' : 'none'};\n`;\n\nconst PlayableDrop = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background-color: hsla(0, 0%, 0%, .5);\n  height: 24px;\n  width: 24px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  ${IconWrapper} {\n    display: flex;\n    svg {\n      padding-left: 2px;\n    }\n  };\n`;\n\ninterface IProps {\n  image?: string\n  hoverZoom?: boolean,\n  aspect?: VideoAspects\n  mediaUrl?: string\n  mediaType?: IMediaType\n}\n\n// Image\n// No Image Placeholder\n\nconst TableRowThumbnail: React.FC<IProps> = ({ hoverZoom = true, image, mediaUrl, mediaType }) => {\n\n  const [hasPreview, setHasPreview] = useState(false);\n  const [isImageValid, setIsImageValid] = useState(false);\n  const { createMediaModal, isMediaUrlValid } = useMediaModal();\n\n  const handleModal = useCallback(async () => {\n\n    if (mediaUrl && mediaType && hasPreview) {\n      createMediaModal({ src: mediaUrl, mediaType });\n    }\n\n  }, [createMediaModal, mediaType, mediaUrl, hasPreview]);\n\n  const verifyPreview = useCallback(async (currentMediaUrl: string, currentMediaType: IMediaType) => {\n    const isValidUrl: boolean = await isMediaUrlValid(currentMediaUrl, currentMediaType);\n\n    setHasPreview((prev) => {\n\n      if (prev === isValidUrl) {\n        return prev;\n      }\n      return isValidUrl;\n    });\n\n  }, [isMediaUrlValid]);\n\n  useEffect(() => {\n    if ( mediaUrl && mediaType) {\n      verifyPreview(mediaUrl, mediaType);\n    }\n  }, [mediaUrl, mediaType, verifyPreview]);\n\n  const validateImage = useCallback(async (currentImg: string) => {\n\n    const isValidUrl: boolean = await isMediaUrlValid(currentImg, 'img');\n    setIsImageValid((prev) => {\n      if (prev === isValidUrl) {\n        return prev;\n      }\n      return isValidUrl;\n    });\n\n  }, [isMediaUrlValid]);\n\n  useEffect(() => {\n    if (image) {\n      validateImage(image);\n    }\n  }, [image, validateImage]);\n\n  return (\n    <Container {...{ hoverZoom, mediaUrl, isImageValid, hasPreview }} aspect='16:9' onClick={handleModal}>\n      <Image {...{ image }} />\n      {mediaUrl && (mediaType === 'video') &&\n        <PlayableDrop>\n          <Icon size={12} icon='Play' color='inverse' />\n        </PlayableDrop>}\n    </Container>\n  );\n};\n\nexport default TableRowThumbnail;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport {IDeviceStatus} from '..';\n\ntype TypeDeviceStatus = IDeviceStatus;\n\nconst Container = styled.div<{ status: TypeDeviceStatus }>`\n  height: 42px;\n  width: 4px;\n  border-radius: 3px;\n  display: block;\n\n  ${({status, theme: {colors}}) => css`\n    background: ${colors.status[status]};\n    content:'${status}';\n  `}\n\n`;\n\ninterface IProps {\n  status: TypeDeviceStatus\n}\n\nconst TypeTableDeviceStatus : React.FC<IProps> = ({status = 'neutral'}) => {\n  return <Container status={status} />;\n};\n\nexport default TypeTableDeviceStatus;","import React from 'react';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '../../Icons/Icon';\nimport { useCopyToClipboard } from '../../hooks/useCopyToClipboard';\nimport {TypeCellStyle, TypeCellAlignment} from '..';\n\nconst CopyToClipboard = styled.button`\n\n  cursor: pointer;\n  opacity: 0;\n\n  position: absolute;\n  right: 0;\n  top: 14px;\n  width: 20px;\n  height: 20px;\n  background: transparent;\n  border: none;\n  outline: none;\n\n  ${({theme}) => theme && css`\n    transition: ${theme.animation.speed.normal} ${theme.animation.easing.easeOut};\n  `}\n\n  svg {\n    display: block;\n  }\n\n  &:hover {\n    opacity: 1 !important;\n  }\n\n`;\n\nconst CellContainer = styled.div<{ cellStyle: TypeCellStyle, alignment: TypeCellAlignment, hideDivider?: boolean, hasCopyButton?:boolean }>`\n  display: table-cell;\n  height: 50px;\n  vertical-align: middle;\n  position: relative;\n  line-height: 30px;\n  font-family: ${p => p.theme.fontFamily.data};\n\n  &:hover ${CopyToClipboard}{\n    opacity: 0.5;\n  }\n\n  &, a {\n    ${({theme, cellStyle, alignment}) => cellStyle === 'firstColumn' ? css`\n      ${theme.typography.table.columnData[cellStyle]};\n    ` : css`\n      ${theme.typography.table.columnData[cellStyle][alignment]};\n    `}\n  }\n\n  a:hover {\n    text-decoration: underline;\n  }\n\n  ${({hasCopyButton}) => hasCopyButton && css`\n    padding-right: 20px;\n  `};\n\n  ${({hideDivider}) => !hideDivider && css`\n    &::after {\n      content: '';\n      display: block;\n      height: 1px;\n      background: #afa9a9;\n      opacity: 0.25;\n      left: 0;\n      right: 0;\n      width: 100%;\n      bottom: 0px;\n      position: absolute;\n    }\n  `}\n`;\n\nconst UnitText = styled.span`\n  ${({theme}) => css`\n    ${theme.typography.table.columnData['unit']};\n  `}\n`;\n\nconst StatusBlip = styled.div<{status?:string}>`\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  margin-right: 8px;\n  ${({status = 'neutral', theme: {colors}}) => css`\n    background: ${colors.status[status]};\n  `}\n`;\ninterface IProps {\n  isLastRow?: boolean\n  hideDivider?: boolean\n  cellStyle?: TypeCellStyle\n  alignment?: TypeCellAlignment\n  href?: string\n  showUnit?: boolean\n  showStatus?: boolean\n  unit?: string\n  status?: string\n  hasCopyButton?: boolean\n}\n\nconst TypeTableCell : React.FC<IProps> = ({ showUnit = false, showStatus = false, status, unit = '', cellStyle = 'normalImportance', alignment = 'left', hideDivider, isLastRow, hasCopyButton, href, children }) => {\n\n  // No divider on the last row.\n  hideDivider = isLastRow ? true : hideDivider;\n\n  const {copyToClipboard} = useCopyToClipboard();\n\n\n  return (\n    <CellContainer {...{cellStyle, alignment, hideDivider, hasCopyButton}}>\n      {showStatus ? <StatusBlip {...{status}} /> : null}\n      {href ? <a href={href}>{children}</a> : children}\n      {showUnit ? <UnitText>{unit}</UnitText> : null}\n      {hasCopyButton ? <CopyToClipboard onClick={() => typeof children === 'string' && copyToClipboard(children)}><Icon icon='Copy' size={16} /></CopyToClipboard> : null}\n    </CellContainer>\n  );\n};\n\nexport default TypeTableCell;\n","import { useCallback } from 'react';\n\nexport const useCopyToClipboard = () => {\n  const copyToClipboard = useCallback((str : string) : boolean => {\n\n      // Make an area to allow for copying.\n      const el = document.createElement('textarea');\n      el.value = str;\n      el.setAttribute('readonly', '');\n      el.style.position = 'absolute';\n      el.style.left = '-9999px';\n      document.body.appendChild(el);\n\n      const selection = document.getSelection();\n\n      if(selection){\n        const selected = selection.rangeCount > 0 ? selection.getRangeAt(0) : false;\n        el.select();\n\n        const success = document.execCommand('copy');\n        document.body.removeChild(el);\n        if(selected) {\n          selection.removeAllRanges();\n          selection.addRange(selected);\n        }\n        return success;\n      }\n\n      return false;\n\n  },[]);\n\n  return {copyToClipboard};\n};","import React, { useCallback } from 'react';\nimport styled, {css} from 'styled-components';\n\nimport Checkbox from '../../Form/atoms/Checkbox';\nimport TableRowThumbnail from './TableRowThumbnail';\nimport TypeTableDeviceStatus from './TypeTableDeviceStatus';\nimport TypeTableCell from './TypeTableCell';\nimport Icon from '../../Icons/Icon';\nimport { ITableColumnConfig, IRowData } from '..';\n\n\nconst RowContainer = styled.div<{isEmpty: boolean}>`\n  display: table-row;\n  ${({isEmpty}) =>  isEmpty && css`\n    visibility: hidden;\n  `};\n`;\n\ninterface IProps {\n  isLastRow?: boolean\n  selectable?: boolean\n  hasStatus?: boolean\n  hasThumbnail?: boolean\n  hasTypeIcon?: boolean\n  columnConfig: ITableColumnConfig[]\n  rowData: IRowData\n  selectCallback? : (event: any, id?: string | number) => void\n}\n\nconst TypeTableRow : React.FC<IProps> = ({selectable = false, selectCallback, hasStatus, hasThumbnail, hasTypeIcon, rowData, isLastRow, columnConfig }) => {\n\n  const wrappedSelectCallback = useCallback((checked) => {\n    if(selectCallback){ selectCallback(checked, rowData.id); }\n  }, [rowData.id, selectCallback]);\n\n  const isEmpty = rowData.columns.length === 0;\n\n  return (\n    <RowContainer isEmpty={isEmpty}>\n      {selectable ? <TypeTableCell hideDivider><Checkbox checked={rowData._checked} onChangeCallback={wrappedSelectCallback} /></TypeTableCell> : null}\n      {hasStatus ?  <TypeTableCell hideDivider><TypeTableDeviceStatus status={rowData.header?.status} /></TypeTableCell> : null}\n      {hasThumbnail ? <TypeTableCell hideDivider><TableRowThumbnail image={rowData.header?.image} mediaUrl={rowData.header?.mediaUrl} mediaType={rowData.header?.mediaType} /></TypeTableCell> : null}\n      {hasTypeIcon ? <TypeTableCell hideDivider><Icon icon={rowData.header?.icon || ''} color='dimmed' weight='regular' size={16} /></TypeTableCell> : null}\n\n      {rowData.columns.map((cell, key) => {\n        const {cellStyle, alignment, showUnit, showStatus, hasCopyButton} = columnConfig[key];\n        const {unit, status, text, customComponent} = cell;\n        return <TypeTableCell key={key} href={cell.href} {...{cellStyle, alignment, showUnit, showStatus, hasCopyButton, unit, status, isLastRow}}>{customComponent ? customComponent : text}</TypeTableCell>;\n      })}\n\n    </RowContainer>\n  );\n};\n\n\nexport default TypeTableRow;","import React from 'react';\nimport styled, {css}from 'styled-components';\nimport Icon, {IconWrapper} from '../../Icons/Icon';\n\nconst HeaderTitle = styled.div<{sortable?: boolean, isSortActive?: boolean, ascending?:boolean}>`\n  border-bottom-right-radius: 3px;\n  border-top-right-radius: 3px;\n  display: inline-flex;\n  justify-content: center;\n  align-content: center;\n  position: relative;\n  padding: 0 2px;\n  user-select: none;\n  z-index: 99;\n\n  ${IconWrapper} {\n    position: absolute;\n    top: 0px;\n    left: -15px;\n    display: none;\n    border-bottom-left-radius: 3px;\n    border-top-left-radius: 3px;\n    padding: 3px 1px;\n\n    ${({ascending}) => ascending && css`\n      transform: rotate(180deg);\n      border-bottom-right-radius: 3px;\n      border-top-right-radius: 3px;\n      border-bottom-left-radius: 0;\n      border-top-left-radius: 0;\n      top: 0;\n    `}\n  }\n\n  ${({isSortActive}) => isSortActive && css`\n    &:not(hover) {\n      ${IconWrapper} {\n        display: inline-flex;\n      }\n    }\n  `}\n\n  ${({sortable}) => sortable && css`\n    &:hover {\n      background-color: hsl(220, 12%, 95%);\n      cursor: pointer;\n      ${IconWrapper} {\n        display: inline-flex;\n        background-color: hsl(220, 12%, 95%);\n      }\n    }\n  `}\n`;\n\ninterface IHeaderProps {\n  isSortActive?: boolean\n  header: string\n  sortable?: boolean\n  ascending?: boolean\n  columnId?: string\n  indexKey: number\n  toggleSort: (dataKey: number, columnId?: string) => void\n}\n\nconst TableHeaderTitle : React.FC<IHeaderProps> = ({\n  header,\n  sortable,\n  isSortActive,\n  ascending,\n  columnId,\n  indexKey,\n  toggleSort\n}) => {\n\n  const handleClick = (key: number, colId?: string) => {\n      toggleSort(key, colId);\n  };\n\n  return(\n    <HeaderTitle\n      sortable={sortable}\n      isSortActive={isSortActive}\n      ascending={ascending}\n      onClick={() => {handleClick(indexKey, columnId);}}\n    >\n      {sortable && <Icon icon='FilterSorting' size={14} color='dimmed' />}\n      {header}\n    </HeaderTitle>\n  );\n};\n\nexport default TableHeaderTitle;","import React, { useState, useCallback, Fragment } from 'react';\nimport styled, { css } from 'styled-components';\nimport { TypeCellAlignment, ITableColumnConfig } from '..';\nimport Checkbox from '../../Form/atoms/Checkbox';\nimport TableHeaderTitle from '../atoms/TableHeaderTitle';\n\nconst HeaderRow = styled.div`\n  display: table-row;\n  height: 50px;\n`;\n\nconst HeaderItem = styled.div<{ fixedWidth?: number, alignment?: TypeCellAlignment, hasCopyButton?: boolean, minWidth?: number, headerStyle: string, isSortActive?: boolean }>`\n  display: table-cell;\n  height: inherit;\n  vertical-align:top;\n  line-height: 20px;\n  position: relative;\n  font-family: ${p => p.theme.fontFamily.ui};\n\n  ${({ hasCopyButton }) => hasCopyButton && css`\n    padding-right: 20px;\n  `};\n\n  ${({ theme, alignment, headerStyle }) => alignment ? css`\n    ${theme.typography.table[headerStyle][alignment]};\n  ` : css`\n    ${theme.typography.table[headerStyle]['left']};\n  `};\n\n  ${p => p.fixedWidth && css`\n    width: ${p.fixedWidth}px;\n  `};\n\n  ${({ minWidth }) => minWidth && css`\n    min-width:${minWidth}px;\n  `};\n\n  ${({ headerStyle, isSortActive }) => headerStyle === 'subHeader' && css`\n  padding-bottom: 15px;\n\n  &::after {\n    content: '';\n    display: block;\n    height: 1px;\n    background-color: hsl(0, 0%, 89%);\n    left: ${isSortActive ? '-15px' : '0'};\n    right: 0;\n    width: ${isSortActive ? 'calc(100% + 15px)' : '100%'};\n    bottom: 0px;\n    position: absolute;\n  }\n`};\n`;\n\n// Default alignment is left//\nconst TitleItems = styled.div<{ alignment?: TypeCellAlignment }>`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  ${({ alignment }) => alignment && css`\n      ${alignment === 'right' ? 'align-items: flex-end' : null};\n      ${alignment === 'center' ? 'align-items: center' : null};\n  `};\n`;\n\nconst GroupTitle = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-self: stretch;\n  margin-bottom: 4px;\n`;\n\nconst Title = styled.div`\n  padding-left: 2px;\n  padding-right: 8px;\n  color: hsla(210, 2%, 51%, 0.65);\n  font-weight: 500;\n  font-size: 12px;\n  letter-spacing: 0.3px;\n  white-space: nowrap;\n`;\n\n// Keeps the height consistent with other rows\nconst EmptyTitle = styled.div`\n  height: 20px;\n`;\n\nconst MiddleLine = styled.div<{ isLastOfGroup?: boolean }>`\n  height: 1px;\n  background: hsl(0, 0%, 93%);\n  flex: 1;\n  ${({ isLastOfGroup }) => isLastOfGroup && css`\n    margin-right: 15px;\n  `};\n`;\n\nconst renderGroupHeader = (columnConfig: ITableColumnConfig[], index: number) => {\n  if (index < 0) { return null; }\n\n  let isLastOfGroup: boolean = true;\n\n  // Is Last of the group if the next is different\n  if (index < (columnConfig.length - 1)) {\n    isLastOfGroup = (columnConfig[index].groupTitle !== columnConfig[index + 1].groupTitle);\n  }\n\n  // if the column doesn't belong to any group\n  if (!columnConfig[index].groupTitle) {\n    return (\n      <EmptyTitle />\n    );\n  }\n\n  // has group, previous was equal\n  if ((index !== 0) && (columnConfig[index - 1].groupTitle === columnConfig[index].groupTitle)) {\n    return (\n      <Fragment>\n        <EmptyTitle />\n        <MiddleLine {...{ isLastOfGroup }} />\n      </Fragment>\n    );\n  }\n\n  // New GroupTitle\n  return (\n    <Fragment>\n      <Title>{columnConfig[index].groupTitle}</Title>\n      <MiddleLine {...{ isLastOfGroup }} />\n    </Fragment>\n  );\n};\n\ninterface ITableHeader {\n  selectable?: boolean\n  hasStatus: boolean\n  hasThumbnail: boolean\n  hasTypeIcon: boolean\n  allChecked: boolean\n  isEmptyTable: boolean\n  isLoading: boolean\n  hasHeaderGroups: boolean\n  columnConfig: ITableColumnConfig[]\n  defaultAscending: boolean\n  toggleAllCallback?: (checked: boolean) => void\n  sortCallback?: (ascending: boolean, columnId: string) => void\n}\n\nconst TypeTableHeader: React.FC<ITableHeader> = ({\n  selectable,\n  hasStatus,\n  hasThumbnail,\n  hasTypeIcon,\n  allChecked,\n  isEmptyTable,\n  isLoading,\n  hasHeaderGroups,\n  columnConfig,\n  defaultAscending,\n  toggleAllCallback = () => { },\n  sortCallback = () => { },\n}) => {\n\n  const [sortSpec, setSortSpec] = useState(columnConfig);\n  const [ascendingState, setAscendingState] = useState(defaultAscending);\n\n  const toggleAllCallbackWrapper = useCallback((checked: boolean) => {\n    toggleAllCallback(checked);\n  }, [toggleAllCallback]);\n\n\n  /**\n * Rules for toggling ascending value\n * - Clicked column was active, toggle value of ascending.\n * - No column was sorted before, keep the sorting ascending.\n * - Clicked column was not active persist the last ascending option\n */\n  const toggleSort = useCallback((indexKey: number, columnId?: string) => {\n\n    if (sortSpec[indexKey] === undefined) { return; }\n    if (!sortSpec[indexKey].sortable) { return; }\n\n    const updatedSort = [...sortSpec];\n\n    let lastActiveKey: number | null = null;\n    updatedSort.forEach((col, key) => {\n      if (col.sortActive) {\n        lastActiveKey = key;\n      }\n      if (key === indexKey) {\n        col.sortActive = true;\n      } else {\n        col.sortActive = false;\n      }\n    });\n\n    const newAscending: boolean = (lastActiveKey === indexKey) ? !ascendingState : ascendingState;\n    const colId: string = (columnId === undefined) ? `column_${indexKey}` : columnId;\n    sortCallback(newAscending, colId);\n    setSortSpec(updatedSort);\n    setAscendingState(newAscending);\n  }, [ascendingState, sortCallback, sortSpec]);\n\n  return (\n    <HeaderRow>\n      {selectable ? (\n        <HeaderItem headerStyle='header' fixedWidth={30}>\n          <Checkbox checked={allChecked} disabled={isEmptyTable || isLoading} onChangeCallback={toggleAllCallbackWrapper} />\n        </HeaderItem>)\n        : null}\n      {hasStatus ? <HeaderItem headerStyle='header' fixedWidth={10} /> : null}\n      {hasThumbnail ? <HeaderItem headerStyle='header' fixedWidth={70} /> : null}\n      {hasTypeIcon ? <HeaderItem headerStyle='header' fixedWidth={35} /> : null}\n\n      {columnConfig.map((column, key, allColls) => {\n        const { header, alignment, hasCopyButton, sortActive, columnId, sortable, minWidth }: ITableColumnConfig = column;\n        return (\n          <HeaderItem\n            key={key}\n            {...{ alignment, hasCopyButton, minWidth }}\n            headerStyle={hasHeaderGroups ? 'subHeader' : 'header'}\n            isSortActive={sortActive}\n          >\n            <TitleItems {...{ alignment }}>\n              {hasHeaderGroups &&\n                <GroupTitle>\n                  {hasHeaderGroups && renderGroupHeader(allColls, key)}\n                </GroupTitle>}\n              <TableHeaderTitle\n                header={header}\n                sortable={sortable}\n                indexKey={key}\n                columnId={columnId}\n                isSortActive={sortActive}\n                ascending={ascendingState}\n                toggleSort={toggleSort}\n              />\n            </TitleItems>\n          </HeaderItem>);\n      })}\n    </HeaderRow>\n  );\n};\n\nexport default TypeTableHeader;","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport Spinner from '../../Indicators/Spinner';\nimport TypeTableRow from '../atoms/TypeTableRow';\nimport { ITableColumnConfig, ITypeTableData, IRowData } from '..';\nimport TypeTableHeader from '../molecules/TypeTableHeader';\n\nconst Container = styled.div``;\n\nconst TableContainer = styled.div`\n  display: table;\n  width: 100%;\n  position: relative;\n`;\n\nconst LoadingText = styled.div`\n  color: hsla(195, 10%, 52%, 0.72);\n`;\n\nconst LoadingBox = styled.div`\n  position: absolute;\n  left: 0;\n  z-index: 99;\n  background-color: ${({ theme }) => theme.colors[\"pureBase\"]};\n  height: calc(100% - 50px);\n  opacity: 85%;\n  width: 100%;\n  min-height: 100px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n\n  ${LoadingText} {\n    margin-top: 10px;\n  }\n`;\n\nconst EmptyTableBox = styled.div`\n  position: absolute;\n  left: 0;\n  z-index: 99;\n  padding: 20px;\n  width: 100%;\n  min-height: 100px;\n  text-align: center;\n  h3 {\n    font-weight: 500;\n    color: hsl(208, 8%, 38%);\n  }\n  color: hsl(207, 5%, 57%);\n`;\n\nconst isChecked = ({ _checked = false }: IRowData) => {\n  return _checked === true;\n};\n\ninterface IProps {\n  columnConfig: ITableColumnConfig[]\n  rows: ITypeTableData\n  selectable?: boolean\n  hasStatus?: boolean\n  hasThumbnail?: boolean\n  hasTypeIcon?: boolean\n  defaultAscending?: boolean\n  isLoading?: boolean\n  loadingText?: string\n  emptyTableTitle?: string\n  emptyTableText?: string\n  hasHeaderGroups?: boolean\n  selectCallback?: (checked: boolean, id?: string | number) => void\n  toggleAllCallback?: (checked: boolean) => void\n  sortCallback?: (ascending: boolean, columnId: string) => void\n}\n\nconst TypeTable: React.FC<IProps> = ({\n  columnConfig,\n  selectable,\n  rows = [],\n  hasStatus = false,\n  hasThumbnail = false,\n  hasTypeIcon = false,\n  defaultAscending = false,\n  isLoading = false,\n  loadingText = 'Loading Data...',\n  emptyTableTitle = '',\n  emptyTableText = '',\n  hasHeaderGroups = false,\n  sortCallback = () => { },\n  selectCallback = () => { },\n  toggleAllCallback = () => { },\n}) => {\n\n  /* Note about Empty table\n  Currently IRowData Type enforces user to send columns\n  so rows length will always be at least 1\n  I wasn't sure if I should edit IRowData to have columns optional\n  If we allow columns to be optional, previous implementations\n  wont be able to have \"No data\" Message\n*/\n\n  const [allChecked, setAllChecked] = useState(false);\n  const isEmptyTable = (rows.length === 1) && (rows[0].columns.length === 0) && (!isLoading);\n\n  useEffect(() => {\n    let areAllChecked = false;\n    if (rows.every(isChecked) && (rows.length > 0) && !isEmptyTable) {\n      areAllChecked = true;\n    }\n    setAllChecked(areAllChecked);\n  }, [isEmptyTable, rows]);\n\n  return (\n    <Container>\n      <TableContainer>\n        <TypeTableHeader\n          {...{\n            selectable,\n            hasStatus,\n            hasThumbnail,\n            hasTypeIcon,\n            defaultAscending,\n            allChecked,\n            isEmptyTable,\n            isLoading,\n            hasHeaderGroups,\n            columnConfig,\n            toggleAllCallback,\n            sortCallback,\n          }}\n        />\n        {isLoading ? (\n          <LoadingBox>\n            <Spinner size='large' styling='primary' />\n            <LoadingText>{loadingText}</LoadingText>\n          </LoadingBox>\n        ) : null}\n        {isEmptyTable\n          ? (\n            <EmptyTableBox>\n              <h3>{emptyTableTitle}</h3>\n              <p>{emptyTableText}</p>\n            </EmptyTableBox>\n          )\n          : null}\n        {rows.map((rowData, key) => {\n          const isLastRow = (rows.length - 1 === key) ? true : false;\n          return (\n            <TypeTableRow\n              key={key} {...{\n                rowData,\n                isLastRow,\n                selectable,\n                selectCallback,\n                columnConfig,\n                hasStatus,\n                hasThumbnail,\n                hasTypeIcon\n              }}\n            />\n          );\n        })}\n      </TableContainer>\n    </Container>\n  );\n};\n\nexport default TypeTable;","import React, { InputHTMLAttributes, useState, useCallback, useRef } from 'react';\nimport styled, { css } from 'styled-components';\nimport SmallInput from '../../Form/atoms/SmallInput';\nimport Button from '../../Form/atoms/Button';\nimport ButtonWithLoading from '../../Form/atoms/ButtonWithLoading';\nimport { StyledLabel } from '../../Form/atoms/Label';\nimport IconButton from '../../Form/atoms/IconButton';\nimport { TypeCellAlignment } from '../';\nimport { useClickOutside } from '../../hooks/useClickOutside';\nimport { Link } from 'react-router-dom';\n\nconst Container = styled.div`\n  position: relative;\n  ${({ theme }) => css`\n    font-family: ${theme.fontFamily.ui};\n  `}\n`;\nconst StyledButton = styled(Button)`\n  flex-shrink: 0;\n`;\n\nconst StyledLoadingButton = styled(ButtonWithLoading)`\n  flex-shrink: 0;\n`;\n\nconst StyledLink = styled(Link)`\n  color: inherit;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst EditContainer = styled.div`\n  min-width: 320px;\n  background-color: hsl(0, 0%, 100%);\n  z-index: 99;\n  position: absolute;\n  bottom: -15px;\n  left: -11px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  ${StyledLabel} {\n    margin:0;\n    span {\n      margin: 0;\n    }\n  }\n  ${StyledButton} {\n    margin-left: 5px;\n  }\n  ${StyledLoadingButton} {\n    margin-left: 5px;\n  }\n`;\n\nconst StyledIconButton = styled(IconButton)``;\n\nconst TextContainer = styled.div<{ alignment: TypeCellAlignment }>`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-right: 18px;\n\n  ${({ alignment }) => alignment === 'center' && css`\n    justify-content: center;\n  `}\n\n  ${({ alignment }) => alignment === 'right' && css`\n    justify-content: flex-end;\n`}\n\n  ${StyledIconButton} {\n    opacity: 0;\n    position: absolute;\n    top: 7px;\n    right: 0;\n  };\n\n  &:hover {\n    ${StyledIconButton} {\n      opacity: 1;\n    };\n  }\n`;\n\nexport interface OwnProps {\n  defaultValue: string\n  rowKey: string\n  alignment?: TypeCellAlignment\n  toLink?: string\n  saveCallback?: (inputValue: string, rowKey: string) => void\n}\n\ntype IEditableCell = OwnProps & InputHTMLAttributes<HTMLInputElement>\n\nconst EditCell: React.FC<IEditableCell> = ({\n  type = 'text',\n  placeholder = '',\n  defaultValue,\n  rowKey,\n  alignment = 'left',\n  toLink = '',\n  saveCallback,\n  ...props\n}) => {\n  const [isEditMode, setIsEditMode] = useState(false);\n  const [updatedValue, setUpdatedValue] = useState(defaultValue);\n  const [loading, setLoading] = useState(false);\n\n  const handleSave = useCallback(async (value: string) => {\n    setLoading(true);\n    if (saveCallback) {\n      await saveCallback(value, rowKey);\n    }\n    setIsEditMode(false);\n    setLoading(false);\n  }, [rowKey, saveCallback]);\n\n  const verifyKeyPress = useCallback(async (eve: React.KeyboardEvent<HTMLInputElement>) => {\n\n    // var code = parseInt(eve.key, 10);\n    const code = eve.keyCode | eve.which | parseInt(eve.key, 10);\n\n    if (code === 13 && handleSave) {\n      await handleSave(updatedValue);\n      setIsEditMode(false);\n    }\n\n    if (code === 27) {\n      setUpdatedValue(defaultValue);\n      setIsEditMode(false);\n    }\n\n  }, [handleSave, updatedValue, defaultValue]);\n\n  const editContainerRef = useRef<HTMLDivElement>(null);\n\n  const onClickOutsideEdit = () => {\n    setUpdatedValue(defaultValue);\n    setIsEditMode(false);\n  };\n\n  useClickOutside(editContainerRef, onClickOutsideEdit);\n\n  return (\n    <Container>\n      {isEditMode\n        ? (\n          <EditContainer ref={editContainerRef}>\n            <SmallInput\n              {...props}\n              autoFocus\n              label=''\n              disabled={loading}\n              type={type}\n              placeholder={placeholder}\n              defaultValue={defaultValue}\n              onKeyUp={(eve: React.KeyboardEvent<HTMLInputElement>) => verifyKeyPress(eve)}\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) => { setUpdatedValue(e.target.value); }}\n            />\n            <StyledLoadingButton\n              onClick={() => {\n              handleSave(updatedValue);\n              }}\n              size='small'\n              loading={loading}\n            >\n              {loading ? 'Saving' : 'Save'}\n            </StyledLoadingButton>\n            {!loading && (\n              <StyledButton\n                onClick={() => setIsEditMode(false)}\n                design='secondary'\n                size='small'\n              >Cancel\n              </StyledButton>)}\n          </EditContainer>)\n        : (\n          <TextContainer alignment={alignment}>\n            {toLink ? <StyledLink to={toLink}>{updatedValue}</StyledLink> : updatedValue}\n            <StyledIconButton icon='Edit' weight='light' size={16} onClick={() => setIsEditMode(true)} />\n          </TextContainer>)}\n    </Container>\n  );\n};\n\nexport default EditCell;","export type PTZReducerActions =\n  | ConnectStartAction\n  | ConnectFailAction\n  | ConnectSuccessAction\n  // | DisconnectStartAction\n  // | DisconnectFailAction\n  | DisconnectSuccessAction\n  | MoveStart\n  | Stop\n  | ZoomStart\n  | Home\n  | SetImage\n  | PTZError\n;\n\ninterface ConnectStartAction {\n  type: 'CONNECTING';\n  address: string;\n}\ninterface ConnectFailAction {\n  type: 'CONNECTION_FAIL';\n  errorMessage: string;\n}\ninterface PTZError {\n  type: 'PTZ_ERROR';\n  errorMessage: string;\n}\ninterface ConnectSuccessAction {\n  type: 'CONNECTED';\n}\n// interface DisconnectStartAction {\n//   type: 'DISCONNECTING';\n// }\n// interface DisconnectFailAction {\n//   type: 'DISCONNECT_FAIL';\n// }\ninterface DisconnectSuccessAction {\n  type: 'DISCONNECTED';\n}\ninterface MoveStart {\n  type: 'MOVE_START';\n  direction: MoveDirections;\n}\n// interface MoveStop {\n//   type: 'MOVE_STOP';\n// }\ninterface ZoomStart {\n  type: 'ZOOM_START';\n  zooming: ZoomStates\n}\ninterface SetImage {\n  type: 'SET_IMAGE';\n  image: string;\n}\ninterface Stop {\n  type: 'STOP';\n}\ninterface Home {\n  type: 'HOME';\n}\n\n\nexport interface PTZCredentials {\n  host: string;\n  username: string;\n  password: string;\n}\ntype MoveDirections = 'left'|'right'|'up'|'down'|'home'|null;\ntype ZoomStates = 'in'|'out'|null;\nexport interface PTZState {\n  connection: 'connected'|'connecting'|'error'|'disconnecting'|'disconnected';\n  moving: MoveDirections;\n  zooming: ZoomStates;\n  loading: boolean;\n  image: string;\n  address?: string;\n  errorMessage?: string;\n  stateID: number;\n}\n\n\nexport default (state : PTZState, action: PTZReducerActions): PTZState => {\n\n  switch(action.type){\n    case 'CONNECTING': {\n      return {\n        ...state,\n        connection: 'connecting',\n        address: action.address,\n        loading: true,\n        errorMessage: ''\n      };\n    }\n    case 'CONNECTED': {\n      return {\n        ...state,\n        connection: 'connected',\n        loading: false\n      };\n    }\n    case 'CONNECTION_FAIL': {\n      return {\n        ...state,\n        loading: false,\n        connection: 'error',\n        errorMessage: action.errorMessage\n      };\n    }\n    case 'PTZ_ERROR': {\n      //UNHANDLED ERROR\n      return {\n        ...state,\n        loading: false,\n        errorMessage: action.errorMessage\n      };\n    }\n    // case 'DISCONNECTING': {\n    //   return {\n    //     ...state,\n    //     connection: 'disconnecting',\n    //   };\n    // }\n    case 'DISCONNECTED': {\n      return {\n        image: '',\n        connection: 'disconnected',\n        moving: null,\n        zooming: null,\n        loading: false,\n        stateID: state.stateID\n      };\n    }\n    // case 'DISCONNECT_FAIL': {\n    //   return {...state, connection: 'error'};\n    // }\n    case 'SET_IMAGE': {\n      return {\n        ...state,\n        image: action.image\n      };\n    }\n    case 'MOVE_START': {\n      return {\n        ...state,\n        moving: action.direction,\n      };\n    }\n    case 'STOP': {\n      return {\n        ...state,\n        moving: null,\n        zooming: null,\n      };\n    }\n    case 'ZOOM_START': {\n      return {\n        ...state,\n        zooming: action.zooming,\n      };\n    }\n    case 'HOME': {\n      return state;\n    }\n\n    default:\n      console.error(`Action ${action['type']} not registered.`);\n      return state;\n  }\n};\n\n\n\n\n\n","import React from 'react';\nimport { createContext } from 'react';\nimport { PTZReducerActions, PTZState } from \"./PTZReducer\";\nimport usePTZ from './usePTZ';\n\nexport interface IPTZContext {\n  state: PTZState,\n  dispatch: React.Dispatch<PTZReducerActions>\n  actions: PTZActions\n}\ninterface PTZActions {\n  move: ({direction}:{direction: 'up'|'down'|'left'|'right'}) => void;\n  zoom: ({zooming}: {zooming: 'in'|'out'}) => void;\n  stop: () => void;\n  connect: (params: {username: string, password: string, host: string, port?: number}) => void;\n  disconnect: () => void;\n}\n\nexport const PTZContext = createContext<IPTZContext>({state: {} as PTZState, dispatch: ()=>{}, actions: {} as PTZActions});\n\ninterface Props {\n  socketUrl?: string;\n  imageRefresh?: number\n}\n\nconst PTZProvider: React.FC<Props> = ({socketUrl ='ws://localhost/wsapp/', imageRefresh = 1000, children}) => {\n\n  const {state, dispatch, actions} = usePTZ({socketUrl, imageRefresh});\n  return (\n    <PTZContext.Provider value={{state, dispatch, actions}}>\n      {children}\n    </PTZContext.Provider>\n  );\n};\n\nexport default PTZProvider;","import { useCallback, useEffect, useReducer } from 'react';\nimport useWebSocket from 'react-use-websocket';\nimport reducer from './PTZReducer';\n\nconst usePTZ = ({socketUrl='', imageRefresh = 1000}) => {\n  const {\n    sendJsonMessage,\n    lastMessage\n  } = useWebSocket(socketUrl);\n\n  const [state, dispatch ] = useReducer(reducer, {\n    connection: 'disconnected',\n    moving: null,\n    zooming: null,\n    image: '',\n    loading: false,\n    stateID: Math.floor(Math.random() * 1000)\n  });\n  const {address=null} = state;\n\n  const connect = useCallback(async ({username: user, password: pass, host: address, port = 80}: {username: string, password: string, host: string, port?: number})=>{\n    dispatch({\n      type: 'CONNECTING',\n      address\n    });\n    await sendJsonMessage({\n      method: 'connect',\n      params: {\n        address,\n        port,\n        user,\n        pass\n      }\n    });\n  },[sendJsonMessage]);\n\n  const move = useCallback(({direction}: {direction: 'up'|'down'|'left'|'right'}) => {\n    console.debug('move', direction);\n    const speed = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n\n    dispatch({\n      type: 'MOVE_START',\n      direction\n    });\n\n    switch (direction){\n      case 'up':\n        speed.y = 1;\n        break;\n      case 'down':\n        speed.y = -1;\n        break;\n      case 'left':\n        speed.x = -1;\n        break;\n      case 'right':\n        speed.x = 1;\n        break;\n    }\n\n    sendJsonMessage({\n      method: 'ptzMove',\n      params: {\n        address,\n        speed,\n        timeout: 30\n      }\n    });\n  },[sendJsonMessage, address]);\n\n  const zoom = useCallback(({zooming}: {zooming: 'in'|'out'}) => {\n    console.debug('zoom', zooming);\n    const speed = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    dispatch({\n      type: 'ZOOM_START',\n      zooming\n    });\n    switch (zooming) {\n      case 'in':\n        speed.z = 1;\n        break;\n      case 'out':\n        speed.z = -1;\n        break;\n    }\n    sendJsonMessage({\n      method: 'ptzMove',\n      params: {\n        address,\n        speed,\n        timeout: 30\n      }\n    });\n  },[sendJsonMessage, address]);\n\n  const stop = useCallback(()=>{\n    sendJsonMessage({\n      method: 'ptzStop',\n      params: {\n        address\n      }\n    });\n  },[sendJsonMessage, address]);\n\n  const disconnect = useCallback(async () => {\n    dispatch({\n      type: 'DISCONNECTED',\n    });\n  },[]);\n\n  const getImage = useCallback(async ()=>{\n    if(!address) { return; }\n    sendJsonMessage({\n      method: 'fetchSnapshot',\n      params: {\n        address\n      }\n    });\n  },[address, sendJsonMessage]);\n\n  useEffect(()=>{\n    const intervalHandler = setInterval(getImage, imageRefresh);\n    return () => {\n      window.clearInterval(intervalHandler);\n    };\n  },[getImage, imageRefresh]);\n\n\n  useEffect(()=>{\n    if(!lastMessage){ return; }\n    const {id ='', result=null, error} = JSON.parse(lastMessage.data);\n    if(error && id !== 'fetchSnapshot'){\n      dispatch({\n        type: 'PTZ_ERROR',\n        errorMessage: error\n      });\n      return;\n    } else if(id === 'connect') {\n      getImage();\n      dispatch({\n        type: 'CONNECTED',\n      });\n    } else if(id === 'fetchSnapshot'){\n      dispatch({\n        type: 'SET_IMAGE',\n        image: result||''\n      });\n    } else if(id === 'ptzMove'){\n      console.debug('ptzMove');\n    } else if(id === 'ptzStop'){\n      console.debug('ptzStop');\n      dispatch({\n        type: 'STOP'\n      });\n    }\n  },[address, getImage, lastMessage]);\n\n  return {state, dispatch, actions: { connect, getImage, disconnect, zoom, stop, move} };\n};\n\nexport default usePTZ;","import React, { useState, useCallback, useContext } from 'react';\nimport styled, {css} from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\nconst Active = styled.g<{active:boolean}>`\n  opacity: 0;\n  ${({active}) => active && css`opacity: 1;`}\n\n`;\nconst Hover = styled.g<{hover:boolean}>`\n  opacity: 0;\n  ${({hover}) => hover && css`opacity: 1;`}\n`;\n\nconst Container = styled.g`\n`;\n\n\ninterface Props {\n\n}\n\nconst Up: React.FC<Props> = () => {\n  const [hover, setHover] = useState(false);\n  const { state: {moving}, actions: {move, stop} } = useContext(PTZContext);\n\n  const activeStart = useCallback(()=>{\n    setHover(false);\n    move({direction: 'up'});\n  },[move]);\n  const activeEnd = useCallback(()=>{\n    stop();\n    setHover(true);\n  },[stop]);\n  const hoverStart = useCallback(()=>{\n    setHover(true);\n  },[]);\n  const hoverEnd = useCallback(()=>{\n    setHover(false);\n  },[]);\n  return (\n    <Container onMouseEnter={hoverStart} onMouseLeave={hoverEnd} onMouseDown={activeStart} onMouseUp={activeEnd} onTouchStart={activeStart} onTouchEnd={activeEnd} transform='translate(138.146447, 137.146447) rotate(45.000000)'>\n      <Hover hover={hover} transform='translate(-138.146447, -137.146447) translate(41.146447, 40.646447)' fill='url(#linearGradient-11)' fillOpacity='0.56'>\n        <path d='M97.1695375,0.000553838433 L97.5,0.333477759 L97.5,96.5 L1.33347776,96.5 L1.00279053,96.1695538 L1.01292824,94.904196 C1.86331972,42.4545249 44.5585771,0.176923219 97.1695375,0.000553838433 Z' id='PTZ-Hover-Up' />\n      </Hover>\n\n      <Active active={moving === 'up'} transform='translate(-137.792893, -137.500000) translate(40.792893, 40.500000) translate(1.002791, 0.000554)'>\n        <path d='M96.1667469,-4.68958206e-13 L96.4972095,0.33292392 L96.4972095,96.4994462 L0.33068723,96.4994462 L2.98427949e-13,96.169 L0.0101377147,94.9036422 C0.860529194,42.4539711 43.5557866,0.176369381 96.1667469,-4.68958206e-13 Z' id='PTZ-Active-Up-Slice' fillOpacity='0.56' fill='url(#linearGradient-12)' />\n        <path d='M96.1667469,9.08073616e-12 L96.4972095,0.33292392 L96.1682095,0.658446162 L96.1835085,4.9999719 C46.8438228,5.16537489 6.62803783,44.4114895 5.04606009,93.4545769 L5.00997725,94.9436996 L4.99983954,96.2090574 L0.655209472,96.1734462 L0.33068723,96.4994462 L1.20792265e-12,96.169 L0.0101377147,94.9036422 C0.860529194,42.4539711 43.5557866,0.176369381 96.1667469,9.08073616e-12 Z' id='PTZ-Active-Up-Highlight' stroke='url(#linearGradient-18)' fill='url(#linearGradient-17)' />\n      </Active>\n\n      <g id='PTZ-Arrows-Icons' transform='rotate(-45.000000) translate(-138.146447, -137.146447) translate(68.000000, 68.000000)' fillRule='nonzero'>\n        <use fill='url(#linearGradient-19)' xlinkHref='#path-26' />\n        <use fill='black' fillOpacity='1' filter='url(#filter-27)' xlinkHref='#path-26' />\n      </g>\n    </Container>\n  );\n};\n\nexport default Up;","import React, { useState, useCallback, useContext } from 'react';\nimport styled, {css} from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\n\nconst Active = styled.g<{active:boolean}>`\n  opacity: 0;\n  ${({active}) => active && css`opacity: 1;`}\n\n`;\nconst Hover = styled.g<{hover:boolean}>`\n  opacity: 0;\n  ${({hover}) => hover && css`opacity: 1;`}\n`;\n\nconst Container = styled.g`\n`;\nconst Arrow = styled.g`\n\n`;\n\n\ninterface Props {\n\n}\n\n\n\nconst Down: React.FC<Props> = () => {\n  const [hover, setHover] = useState(false);\n  const { state: {moving}, actions: {move, stop} } = useContext(PTZContext);\n\n  const activeStart = useCallback(()=>{\n    move({direction: 'down'});\n    setHover(false);\n  },[move]);\n  const activeEnd = useCallback(()=>{\n    stop();\n    setHover(true);\n  },[stop]);\n  const hoverStart = useCallback(()=>{\n    setHover(true);\n  },[]);\n  const hoverEnd = useCallback(()=>{\n    setHover(false);\n  },[]);\n\n  return (\n    <Container onMouseEnter={hoverStart} onMouseLeave={hoverEnd} onMouseDown={activeStart} onMouseUp={activeEnd} onTouchStart={activeStart} onTouchEnd={activeEnd} transform='translate(138.146447, 137.146447) rotate(45.000000)'>\n      <Hover hover={hover} transform='translate(-138.146447, -137.146447) translate(41.146447, 40.646447)' fill='url(#linearGradient-11)' fillOpacity='0.56'>\n        <path d='M193.146668,96.3343288 L193.47713,96.6672527 L193.47713,192.833775 L97.3106078,192.833775 L96.9799206,192.503329 L96.9900583,191.237971 C97.8404498,138.7883 140.535707,96.5106982 193.146668,96.3343288 Z' id='PTZ-Hover-Down' transform='translate(145.228525, 144.584052) rotate(180.000000) translate(-145.228525, -144.584052) ' />\n      </Hover>\n\n      <Active active={moving === 'down'} transform='translate(-137.792893, -137.500000) translate(40.792893, 40.500000) translate(96.979921, 96.167076)' fill='url(#linearGradient-12)'>\n        <path d='M96.1667469,0.167252749 L96.4972095,0.50017667 L96.4972095,96.6666989 L0.33068723,96.6666989 L2.98427949e-13,96.3362527 L0.0101377147,95.070895 C0.860529194,42.6212238 43.5557866,0.34362213 96.1667469,0.167252749 Z' id='PTZ-Active-Down-Slice' fillOpacity='0.56' transform='translate(48.248605, 48.416976) rotate(180.000000) translate(-48.248605, -48.416976) ' />\n        <path d='M0.519854724,96.4994462 L0.189392188,96.1665222 L0.518392188,95.841 L0.50309316,91.4994743 C49.8427789,91.3340713 90.0585638,52.0879566 91.6405416,3.0448693 L91.6766244,1.55574655 L91.6867621,0.290388759 L96.0313922,0.326 L96.3559144,-4.8316906e-13 L96.6866017,0.330446162 L96.6764639,1.59580395 C95.8260725,54.0454751 53.1308151,96.3230768 0.519854724,96.4994462 Z' id='PTZ-Active-Down-Highlight' stroke='url(#linearGradient-15)' />\n      </Active>\n\n      <Arrow id='PTZ-Arrows-Icons' transform='rotate(-45) translate(-138.146447, -137.146447) translate(68.000000, 68.000000) translate(71.000000, 125.000000) rotate(180.000000) translate(-71.000000, -125.000000)' fillRule='nonzero'>\n        <use fill='url(#linearGradient-19)' xlinkHref='#path-22' />\n        <use fill='black' fillOpacity='1' filter='url(#filter-23)' xlinkHref='#path-22' />\n      </Arrow>\n    </Container>\n\n  );\n};\n\nexport default Down;","import React, { useState, useCallback, useContext } from 'react';\nimport styled, {css} from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\n\nconst Active = styled.g<{active:boolean}>`\n  opacity: 0;\n  ${({active}) => active && css`opacity: 1;`}\n\n`;\nconst Hover = styled.g<{hover:boolean}>`\n  opacity: 0;\n  ${({hover}) => hover && css`opacity: 1;`}\n`;\n\nconst Container = styled.g`\n`;\n\n\ninterface Props {\n\n}\n\n\nconst Left: React.FC<Props> = () => {\n  const [hover, setHover] = useState(false);\n  const { state: {moving}, actions: {move, stop} } = useContext(PTZContext);\n\n  const activeStart = useCallback(()=>{\n    setHover(false);\n    move({direction: 'left'});\n  },[move]);\n  const activeEnd = useCallback(()=>{\n    stop();\n    setHover(true);\n  },[stop]);\n  const hoverStart = useCallback(()=>{\n    setHover(true);\n  },[]);\n  const hoverEnd = useCallback(()=>{\n    setHover(false);\n  },[]);\n\n  return (\n    <Container onMouseEnter={hoverStart} onMouseLeave={hoverEnd} onMouseDown={activeStart} onMouseUp={activeEnd} onTouchStart={activeStart} onTouchEnd={activeEnd} transform='translate(138.146447, 137.146447) rotate(45.000000)'>\n      <Hover hover={hover} transform='translate(-138.146447, -137.146447) translate(41.146447, 40.646447)' fill='url(#linearGradient-11)' fillOpacity='0.56'>\n        <path d='M96.9801453,96.3343288 L97.3106078,96.6672527 L97.3106078,192.833775 L1.14408557,192.833775 L0.813398341,192.503329 L0.823536055,191.237971 C1.67392753,138.7883 44.3691849,96.5106982 96.9801453,96.3343288 Z' id='PTZ-Hover-Left' transform='translate(49.062003, 144.584052) rotate(-90.000000) translate(-49.062003, -144.584052) ' />\n      </Hover>\n\n      <Active active={moving === 'left'} transform='translate(-137.792893, -137.500000) translate(40.792893, 40.500000) translate(0.813398, 96.167076)'>\n        <path d='M96.1667469,0.167252749 L96.4972095,0.50017667 L96.4972095,96.6666989 L0.33068723,96.6666989 L2.98427949e-13,96.3362527 L0.0101377147,95.070895 C0.860529194,42.6212238 43.5557866,0.34362213 96.1667469,0.167252749 Z' id='PTZ-Active-Up-Slice' fillOpacity='0.56' fill='url(#linearGradient-12)' transform='translate(48.248605, 48.416976) rotate(-90.000000) translate(-48.248605, -48.416976) ' />\n        <path d='M0.188273843,0.331580881 L0.521197763,0.00111834491 L0.846720004,0.330118345 L5.18824575,0.314819318 C5.35364873,49.654505 44.5997634,89.87029 93.6428507,91.4522677 L95.1319735,91.4883506 L96.3973312,91.4984883 L96.36172,95.8431183 L96.68772,96.1676406 L96.3572738,96.4983278 L95.0919161,96.4881901 C42.6422449,95.6377986 0.364643223,52.9425412 0.188273843,0.331580881 Z' id='PTZ-Active-Left-Highlight' stroke='url(#linearGradient-14)' fill='url(#linearGradient-13)' />\n      </Active>\n\n      <g id='PTZ-Arrows-Icons' transform='rotate(-45.000000) translate(-138.146447, -137.146447)  translate(68.000000, 68.000000) translate(12.000000, 69.000000) rotate(-90.000000) translate(-12.000000, -69.000000)' fillRule='nonzero'>\n        <use fill='url(#linearGradient-19)' xlinkHref='#path-20' />\n        <use fill='black' fillOpacity='1' filter='url(#filter-21)' xlinkHref='#path-20' />\n      </g>\n    </Container>\n\n  );\n};\n\nexport default Left;","import React, { useState, useCallback, useContext } from 'react';\nimport styled, {css} from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\n\nconst Active = styled.g<{active:boolean}>`\n  opacity: 0;\n  ${({active}) => active && css`opacity: 1;`}\n\n`;\nconst Hover = styled.g<{hover:boolean}>`\n  opacity: 0;\n  ${({hover}) => hover && css`opacity: 1;`}\n`;\n\nconst Container = styled.g`\n`;\n\n\ninterface Props {\n\n}\n\nconst Right: React.FC<Props> = () => {\n  const [hover, setHover] = useState(false);\n  const { state: {moving}, actions: {move, stop} } = useContext(PTZContext);\n\n  const activeStart = useCallback(()=>{\n    setHover(false);\n    move({direction: 'right'});\n  },[move]);\n  const activeEnd = useCallback(()=>{\n    stop();\n    setHover(true);\n  },[stop]);\n  const hoverStart = useCallback(()=>{\n    setHover(true);\n  },[]);\n  const hoverEnd = useCallback(()=>{\n    setHover(false);\n  },[]);\n\n  return (\n    <Container onMouseEnter={hoverStart} onMouseLeave={hoverEnd} onMouseDown={activeStart} onMouseUp={activeEnd} onTouchStart={activeStart} onTouchEnd={activeEnd} transform='translate(138.146447, 137.146447) rotate(45.000000)'>\n      <Hover hover={hover} transform='translate(-138.146447, -137.146447) translate(41.146447, 40.646447)' fill='url(#linearGradient-11)' fillOpacity='0.56'>\n        <path d='M193.146668,0.167806588 L193.47713,0.500730508 L193.47713,96.6672527 L97.3106078,96.6672527 L96.9799206,96.3368066 L96.9900583,95.0714488 C97.8404498,42.6217777 140.535707,0.344175968 193.146668,0.167806588 Z' id='PTZ-Hover-Right' transform='translate(145.228525, 48.417530) rotate(90.000000) translate(-145.228525, -48.417530) ' />\n      </Hover>\n\n      <Active active={moving === 'right'} transform='translate(-137.792893, -137.500000) translate(40.792893, 40.500000) translate(96.979921, 0.000554)'>\n        <path d='M96.1667469,0.167252749 L96.4972095,0.50017667 L96.4972095,96.6666989 L0.33068723,96.6666989 L2.98427949e-13,96.3362527 L0.0101377147,95.070895 C0.860529194,42.6212238 43.5557866,0.34362213 96.1667469,0.167252749 Z' id='PTZ-Active-Right-Slice' fillOpacity='0.56' fill='url(#linearGradient-12)' transform='translate(48.248605, 48.416976) rotate(90.000000) translate(-48.248605, -48.416976) ' />\n        <path d='M96.68772,96.1678653 L96.3547961,96.4983278 L96.0292738,96.1693278 L91.6877481,96.1846268 C91.5223451,46.8449411 52.2762305,6.62915618 3.23314314,5.04717843 L1.74402039,5.0110956 L0.478662601,5.00095788 L0.514273843,0.656327817 L0.188273843,0.331805575 L0.518720004,0.00111834491 L1.78407779,0.0112560596 C54.2337489,0.861647539 96.5113506,43.5569049 96.68772,96.1678653 Z' id='PTZ-Active-Right-Highlight' stroke='url(#linearGradient-16)' fill='url(#linearGradient-13)' />\n      </Active>\n\n      <g id='PTZ-Arrows-Icons' transform='rotate(-45.000000) translate(-137.792893, -137.500000) translate(68.000000, 68.000000) translate(127.000000, 69.000000) rotate(90.000000) translate(-127.000000, -69.000000)' fillRule='nonzero'>\n        <use fill='url(#linearGradient-19)' xlinkHref='#path-24' />\n        <use fill='black' fillOpacity='1' filter='url(#filter-25)' xlinkHref='#path-24' />\n      </g>\n    </Container>\n\n  );\n};\n\nexport default Right;","import React from 'react';\n\ninterface Props {\n\n}\n\nconst PTZControl: React.FC<Props> = ({children}) => {\n  return (\n    <svg width='237px' height='245px' viewBox='0 0 237 245' version='1.1'>\n      <defs>\n        <linearGradient x1='50%' y1='0%' x2='50%' y2='100%' id='linearGradient-1'>\n          <stop stopColor='#2E3F4B' offset='0%' />\n          <stop stopColor='#273743' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50%' y1='0%' x2='50%' y2='100%' id='linearGradient-2'>\n          <stop stopColor='#2F4555' offset='0%' />\n          <stop stopColor='#1F2F3A' offset='100%' />\n        </linearGradient>\n        <circle id='path-3' cx='138.5' cy='137.5' r='106.5' />\n        <filter x='-9.9%' y='-12.2%' width='119.7%' height='124.4%' filterUnits='objectBoundingBox' id='filter-4'>\n          <feMorphology radius='1.5' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter1' />\n          <feOffset dx='0' dy='5' in='shadowSpreadOuter1' result='shadowOffsetOuter1' />\n          <feGaussianBlur stdDeviation='5' in='shadowOffsetOuter1' result='shadowBlurOuter1' />\n          <feComposite in='shadowBlurOuter1' in2='SourceAlpha' operator='out' result='shadowBlurOuter1' />\n          <feColorMatrix values='0 0 0 0 0.107227805   0 0 0 0 0.154449538   0 0 0 0 0.188179348  0 0 0 0.242706512 0' type='matrix' in='shadowBlurOuter1' result='shadowMatrixOuter1' />\n          <feMorphology radius='0.5' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2' />\n          <feOffset dx='0' dy='-5' in='shadowSpreadOuter2' result='shadowOffsetOuter2' />\n          <feGaussianBlur stdDeviation='5' in='shadowOffsetOuter2' result='shadowBlurOuter2' />\n          <feComposite in='shadowBlurOuter2' in2='SourceAlpha' operator='out' result='shadowBlurOuter2' />\n          <feColorMatrix values='0 0 0 0 0.225481289   0 0 0 0 0.324960407   0 0 0 0 0.399569746  0 0 0 0.400923295 0' type='matrix' in='shadowBlurOuter2' result='shadowMatrixOuter2' />\n          <feMerge>\n            <feMergeNode in='shadowMatrixOuter1' />\n            <feMergeNode in='shadowMatrixOuter2' />\n          </feMerge>\n        </filter>\n        <linearGradient x1='50%' y1='100%' x2='50%' y2='2.48363598%' id='linearGradient-5'>\n          <stop stopColor='#262E37' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#262E37' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <path d='M96.5,0 C149.795478,0 193,43.2045216 193,96.5 C193,149.795478 149.795478,193 96.5,193 C43.2045216,193 0,149.795478 0,96.5 C0,43.2045216 43.2045216,0 96.5,0 Z' id='path-6' />\n        <filter x='-0.8%' y='-0.8%' width='101.6%' height='101.6%' filterUnits='objectBoundingBox' id='filter-8'>\n          <feGaussianBlur stdDeviation='1' in='SourceAlpha' result='shadowBlurInner1' />\n          <feOffset dx='0' dy='1' in='shadowBlurInner1' result='shadowOffsetInner1' />\n          <feComposite in='shadowOffsetInner1' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner1' />\n          <feColorMatrix values='0 0 0 0 0.168627451   0 0 0 0 0.215686275   0 0 0 0 0.262745098  0 0 0 0.0113090035 0' type='matrix' in='shadowInnerInner1' result='shadowMatrixInner1' />\n          <feGaussianBlur stdDeviation='1' in='SourceAlpha' result='shadowBlurInner2' />\n          <feOffset dx='0' dy='-1' in='shadowBlurInner2' result='shadowOffsetInner2' />\n          <feComposite in='shadowOffsetInner2' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner2' />\n          <feColorMatrix values='0 0 0 0 0.162705208   0 0 0 0 0.231672463   0 0 0 0 0.300639719  0 0 0 1 0' type='matrix' in='shadowInnerInner2' result='shadowMatrixInner2' />\n          <feMerge>\n            <feMergeNode in='shadowMatrixInner1' />\n            <feMergeNode in='shadowMatrixInner2' />\n          </feMerge>\n        </filter>\n        <linearGradient x1='49.8274193%' y1='13.7528099%' x2='50.1815273%' y2='82.6324827%' id='linearGradient-9'>\n          <stop stopColor='#324659' offset='0%' />\n          <stop stopColor='#263647' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50.170103%' y1='15.6407997%' x2='49.8181984%' y2='84.5265853%' id='linearGradient-10'>\n          <stop stopColor='#324659' offset='0%' />\n          <stop stopColor='#263647' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='99.9976822%' y1='100%' x2='30.4274195%' y2='28.550434%' id='linearGradient-11'>\n          <stop stopColor='#46596D' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#577393' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='87.5668564%' y1='87.9295401%' x2='33.2810997%' y2='28.936849%' id='linearGradient-12'>\n          <stop stopColor='#508ED3' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#79AEEB' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='87.568598%' y1='87.9277819%' x2='33.2803247%' y2='28.9378254%' id='linearGradient-13'>\n          <stop stopColor='#508ED3' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#79AEEB' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='22.297939%' y1='79.0413218%' x2='39.761035%' y2='60.7027769%' id='linearGradient-14'>\n          <stop stopColor='#A2B9FF' offset='0%' />\n          <stop stopColor='#3393FF' stopOpacity='0' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='80.348219%' y1='76.4229599%' x2='62.8569051%' y2='60.0361013%' id='linearGradient-15'>\n          <stop stopColor='#A2B9FF' offset='0%' />\n          <stop stopColor='#3393FF' stopOpacity='0' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='77.520937%' y1='22.5831044%' x2='57.8137717%' y2='41.946341%' id='linearGradient-16'>\n          <stop stopColor='#A2B9FF' offset='0%' />\n          <stop stopColor='#3393FF' stopOpacity='0' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50%' y1='43.428843%' x2='25.1751595%' y2='28.0552504%' id='linearGradient-17'>\n          <stop stopColor='#508ED3' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#79AEEB' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='30.6678499%' y1='23.1406239%' x2='41.9194217%' y2='34.4210798%' id='linearGradient-18'>\n          <stop stopColor='#A2B9FF' offset='0%' />\n          <stop stopColor='#3393FF' stopOpacity='0' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50%' y1='0.918284083%' x2='50%' y2='98.6410535%' id='linearGradient-19'>\n          <stop stopColor='#F0F7FF' offset='0%' />\n          <stop stopColor='#B2C9D9' offset='100%' />\n        </linearGradient>\n        <path d='M25.6553811,77.370593 L14.0428746,58.1532717 C13.6102476,57.4373681 12.8355055,57 12,57 C11.1644945,57 10.3897524,57.4373681 9.95712537,58.1532717 L-1.65538114,77.370593 C-2.10132346,78.1091204 -2.11539958,79.0310048 -1.69221345,79.7828447 C-1.26902733,80.5346846 -0.474230758,81 0.387493489,81 L23.6125065,81 C24.4742308,81 25.2690273,80.5346846 25.6922135,79.7828447 C26.1153996,79.0310048 26.1013235,78.1091204 25.6553811,77.370593 Z' id='path-20' />\n        <filter x='-3.6%' y='-4.2%' width='107.1%' height='108.3%' filterUnits='objectBoundingBox' id='filter-21'>\n          <feGaussianBlur stdDeviation='0.5' in='SourceAlpha' result='shadowBlurInner1' />\n          <feOffset dx='0' dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1' />\n          <feComposite in='shadowOffsetInner1' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner1' />\n          <feColorMatrix values='0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 0.495629371 0' type='matrix' in='shadowInnerInner1' />\n        </filter>\n        <path d='M84.6553811,133.370593 L73.0428746,114.153272 C72.6102476,113.437368 71.8355055,113 71,113 C70.1644945,113 69.3897524,113.437368 68.9571254,114.153272 L57.3446189,133.370593 C56.8986765,134.10912 56.8846004,135.031005 57.3077865,135.782845 C57.7309727,136.534685 58.5257692,137 59.3874935,137 L82.6125065,137 C83.4742308,137 84.2690273,136.534685 84.6922135,135.782845 C85.1153996,135.031005 85.1013235,134.10912 84.6553811,133.370593 Z' id='path-22' />\n        <filter x='-3.6%' y='-4.2%' width='107.1%' height='108.3%' filterUnits='objectBoundingBox' id='filter-23'>\n          <feGaussianBlur stdDeviation='0.5' in='SourceAlpha' result='shadowBlurInner1' />\n          <feOffset dx='0' dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1' />\n          <feComposite in='shadowOffsetInner1' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner1' />\n          <feColorMatrix values='0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 0.495629371 0' type='matrix' in='shadowInnerInner1' />\n        </filter>\n        <path d='M140.655381,77.370593 L129.042875,58.1532717 C128.610248,57.4373681 127.835505,57 127,57 C126.164495,57 125.389752,57.4373681 124.957125,58.1532717 L113.344619,77.370593 C112.898677,78.1091204 112.8846,79.0310048 113.307787,79.7828447 C113.730973,80.5346846 114.525769,81 115.387493,81 L138.612507,81 C139.474231,81 140.269027,80.5346846 140.692213,79.7828447 C141.1154,79.0310048 141.101323,78.1091204 140.655381,77.370593 Z' id='path-24' />\n        <filter x='-3.6%' y='-4.2%' width='107.1%' height='108.3%' filterUnits='objectBoundingBox' id='filter-25'>\n          <feGaussianBlur stdDeviation='0.5' in='SourceAlpha' result='shadowBlurInner1' />\n          <feOffset dx='0' dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1' />\n          <feComposite in='shadowOffsetInner1' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner1' />\n          <feColorMatrix values='0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 0.495629371 0' type='matrix' in='shadowInnerInner1' />\n        </filter>\n        <path d='M84.6553811,20.370593 L73.0428746,1.15327173 C72.6102476,0.437368074 71.8355055,0 71,0 C70.1644945,0 69.3897524,0.437368074 68.9571254,1.15327173 L57.3446189,20.370593 C56.8986765,21.1091204 56.8846004,22.0310048 57.3077865,22.7828447 C57.7309727,23.5346846 58.5257692,24 59.3874935,24 L82.6125065,24 C83.4742308,24 84.2690273,23.5346846 84.6922135,22.7828447 C85.1153996,22.0310048 85.1013235,21.1091204 84.6553811,20.370593 Z' id='path-26' />\n        <filter x='-3.6%' y='-4.2%' width='107.1%' height='108.3%' filterUnits='objectBoundingBox' id='filter-27'>\n          <feGaussianBlur stdDeviation='0.5' in='SourceAlpha' result='shadowBlurInner1' />\n          <feOffset dx='0' dy='-1' in='shadowBlurInner1' result='shadowOffsetInner1' />\n          <feComposite in='shadowOffsetInner1' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner1' />\n          <feColorMatrix values='0 0 0 0 1   0 0 0 0 1   0 0 0 0 1  0 0 0 0.495629371 0' type='matrix' in='shadowInnerInner1' />\n        </filter>\n      </defs>\n      <g stroke='none' strokeWidth='1' fill='none' fillRule='evenodd' transform='translate(-20, -16)'>\n        <g id='PTZ-Base-Outer'>\n          <use fill='black' fillOpacity='1' filter='url(#filter-4)' xlinkHref='#path-3' />\n          <use stroke='url(#linearGradient-2)' strokeWidth='1' fill='url(#linearGradient-1)' fillRule='evenodd' xlinkHref='#path-3' />\n        </g>\n\n        <g id='PTZ-Base-Inner' transform='translate(138.500000, 137.500000) rotate(45.000000) translate(-138.500000, -137.500000) translate(42.000000, 41.000000)'>\n          <mask id='mask-7' fill='white'>\n            <use xlinkHref='#path-6' />\n          </mask>\n          <g>\n            <use fillOpacity='0.56' fill='url(#linearGradient-5)' fillRule='evenodd' xlinkHref='#path-6' />\n            <use fill='black' fillOpacity='1' filter='url(#filter-8)' xlinkHref='#path-6' />\n          </g>\n          <line x1='96.5' y1='0.333477759' x2='96.5' y2='192.666522' id='PTZ-Base-Division-B' stroke='url(#linearGradient-9)' strokeLinecap='square' mask='url(#mask-7)' />\n          <line x1='96.5' y1='0.333477759' x2='96.5' y2='192.666522' id='PTZ-Base-Division-A' stroke='url(#linearGradient-10)' strokeLinecap='square' mask='url(#mask-7)' transform='translate(96.500000, 96.500000) rotate(-90.000000) translate(-96.500000, -96.500000) ' />\n        </g>\n        {children}\n      </g>\n    </svg>\n  );\n};\n\nexport default PTZControl;","import React from 'react';\n\ninterface Props {\n\n}\n\nconst ZoomBase: React.FC<Props> = ({ children }) => {\n  return (\n    <svg width='239px' height='121px' viewBox='0 0 239 121'>\n      <defs>\n        <linearGradient x1='50%' y1='0%' x2='50%' y2='100%' id='linearGradient-zoom1'>\n          <stop stopColor='#2E3F4B' offset='0%' />\n          <stop stopColor='#273743' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50%' y1='0%' x2='50%' y2='100%' id='linearGradient-zoom2'>\n          <stop stopColor='#2F4555' offset='0%' />\n          <stop stopColor='#1F2F3A' offset='100%' />\n        </linearGradient>\n        <path\n          d='M42.6,0 L170.4,0 C193.92733,0 213,19.0278981 213,42.5 C213,65.9721019 193.92733,85 170.4,85 L42.6,85 C19.0726697,85 0,65.9721019 0,42.5 C0,19.0278981 19.0726697,0 42.6,0 Z'\n          id='path-zoom3'\n        />\n        <filter x='-9.9%' y='-30.6%' width='119.7%' height='161.2%' filterUnits='objectBoundingBox' id='filter-zoom4'>\n          <feMorphology radius='1.5' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter1' />\n          <feOffset dx='0' dy='5' in='shadowSpreadOuter1' result='shadowOffsetOuter1' />\n          <feGaussianBlur stdDeviation='5' in='shadowOffsetOuter1' result='shadowBlurOuter1' />\n          <feComposite in='shadowBlurOuter1' in2='SourceAlpha' operator='out' result='shadowBlurOuter1' />\n          <feColorMatrix values='0 0 0 0 0.107227805   0 0 0 0 0.154449538   0 0 0 0 0.188179348  0 0 0 0.242706512 0' type='matrix' in='shadowBlurOuter1' result='shadowMatrixOuter1' />\n          <feMorphology radius='0.5' operator='dilate' in='SourceAlpha' result='shadowSpreadOuter2' />\n          <feOffset dx='0' dy='-5' in='shadowSpreadOuter2' result='shadowOffsetOuter2' />\n          <feGaussianBlur stdDeviation='5' in='shadowOffsetOuter2' result='shadowBlurOuter2' />\n          <feComposite in='shadowBlurOuter2' in2='SourceAlpha' operator='out' result='shadowBlurOuter2' />\n          <feColorMatrix values='0 0 0 0 0.225481289   0 0 0 0 0.324960407   0 0 0 0 0.399569746  0 0 0 0.400923295 0' type='matrix' in='shadowBlurOuter2' result='shadowMatrixOuter2' />\n          <feMerge>\n            <feMergeNode in='shadowMatrixOuter1' />\n            <feMergeNode in='shadowMatrixOuter2' />\n          </feMerge>\n        </filter>\n        <linearGradient x1='50%' y1='100%' x2='50%' y2='2.48363598%' id='linearGradient-zoom5'>\n          <stop stopColor='#262E37' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#262E37' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <path\n          d='M32.1164062,0.625 L160.582031,0.625 C178.319433,0.625 192.698438,14.8959236 192.698438,32.5 C192.698438,50.1040764 178.319433,64.375 160.582031,64.375 L32.1164062,64.375 C14.3790049,64.375 0,50.1040764 0,32.5 C0,14.8959236 14.3790049,0.625 32.1164062,0.625 Z'\n          id='path-zoom6'\n        />\n        <filter x='-0.8%' y='-2.4%' width='101.6%' height='104.7%' filterUnits='objectBoundingBox' id='filter-zoom7'>\n          <feGaussianBlur stdDeviation='1' in='SourceAlpha' result='shadowBlurInner1' />\n          <feOffset dx='0' dy='1' in='shadowBlurInner1' result='shadowOffsetInner1' />\n          <feComposite in='shadowOffsetInner1' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner1' />\n          <feColorMatrix values='0 0 0 0 0.168627451   0 0 0 0 0.215686275   0 0 0 0 0.262745098  0 0 0 0.0113090035 0' type='matrix' in='shadowInnerInner1' result='shadowMatrixInner1' />\n          <feGaussianBlur stdDeviation='1' in='SourceAlpha' result='shadowBlurInner2' />\n          <feOffset dx='0' dy='-1' in='shadowBlurInner2' result='shadowOffsetInner2' />\n          <feComposite in='shadowOffsetInner2' in2='SourceAlpha' operator='arithmetic' k2='-1' k3='1' result='shadowInnerInner2' />\n          <feColorMatrix values='0 0 0 0 0.162705208   0 0 0 0 0.231672463   0 0 0 0 0.300639719  0 0 0 1 0' type='matrix' in='shadowInnerInner2' result='shadowMatrixInner2' />\n          <feMerge>\n            <feMergeNode in='shadowMatrixInner1' />\n            <feMergeNode in='shadowMatrixInner2' />\n          </feMerge>\n        </filter>\n        <linearGradient x1='-103.741879%' y1='13.7528099%' x2='211.711869%' y2='82.6324827%' id='linearGradient-zoom8'>\n          <stop stopColor='#324659' offset='0%' />\n          <stop stopColor='#263647' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='12.2402545%' y1='50%' x2='57.7520941%' y2='28.4033239%' id='linearGradient-zoom9'>\n          <stop stopColor='#46596D' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#577393' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='92.8257893%' y1='51.9201456%' x2='57.7520941%' y2='28.4033239%' id='linearGradient-zoom10'>\n          <stop stopColor='#46596D' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#577393' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='65.5323776%' y1='100%' x2='65.5323776%' y2='0%' id='linearGradient-zoom11'>\n          <stop stopColor='#508ED3' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#79AEEB' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='112.326836%' y1='50%' x2='-13.3174936%' y2='50%' id='linearGradient-zoom12'>\n          <stop stopColor='#508ED3' stopOpacity='0.65' offset='0%' />\n          <stop stopColor='#79AEEB' stopOpacity='0.66' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='-15.3833763%' y1='43.598779%' x2='72.9059278%' y2='57.6171557%' id='linearGradient-zoom13'>\n          <stop stopColor='#A2B9FF' offset='0%' />\n          <stop stopColor='#3393FF' stopOpacity='0' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50%' y1='0.918284083%' x2='50%' y2='98.6410535%' id='linearGradient-zoom14'>\n          <stop stopColor='#F0F7FF' offset='0%' />\n          <stop stopColor='#B2C9D9' offset='100%' />\n        </linearGradient>\n        <linearGradient x1='50%' y1='0.918284083%' x2='50%' y2='98.6410535%' id='linearGradient-zoom15'>\n          <stop stopColor='#F0F7FF' offset='0%' />\n          <stop stopColor='#B2C9D9' offset='100%' />\n        </linearGradient>\n      </defs>\n      <g stroke='none' strokeWidth='1' fill='none' fillRule='evenodd' transform='translate(-200.000000, -490.000000) translate(213.000000, 508.000000)'>\n        <g id='PTZ-Zoom-Base-Outer'>\n          <use fill='black' fillOpacity='1' filter='url(#filter-zoom4)' xlinkHref='#path-zoom3' />\n          <use stroke='url(#linearGradient-zoom2)' strokeWidth='1' fill='url(#linearGradient-zoom1)' fillRule='evenodd' xlinkHref='#path-zoom3' />\n        </g>\n\n        <g id='PTZ-Zoom-Divider-Section' transform='translate(10.000000, 10.000000)'>\n          <g id='PTZ-Zoom-Base-Inner'>\n            <use fillOpacity='0.56' fill='url(#linearGradient-zoom5)' fillRule='evenodd' xlinkHref='#path-zoom6' />\n            <use fill='black' fillOpacity='1' filter='url(#filter-zoom7)' xlinkHref='#path-zoom6' />\n          </g>\n          <path d='M105.820053,40.7088832 L99.6638296,34.5975949 C102.060022,31.621888 101.697137,27.3062591 98.8371361,24.766097 C95.9771351,22.2259349 91.6163355,22.346137 88.902734,25.0399314 C86.1891326,27.7337257 86.0680466,32.0626948 88.6268862,34.90182 C91.1857259,37.7409453 95.5330871,38.1011814 98.5306741,35.7224793 L104.686898,41.8337675 C105.002147,42.1387442 105.504804,42.1387442 105.820053,41.8337675 C106.132899,41.5231118 106.132899,41.0195389 105.820053,40.7088832 Z M88.425235,30.1282878 C88.425235,27.0527607 90.9367746,24.5595534 94.0349157,24.5595534 C97.1330568,24.5595534 99.6445964,27.0527607 99.6445964,30.1282878 C99.6445964,33.2038149 97.1330568,35.6970222 94.0349157,35.6970222 C90.9382392,35.693515 88.428768,33.202361 88.425235,30.1282878 Z' id='PTZ-Zoom-Divider-Section-Icon' fill='#6A839E' fillRule='nonzero' />\n          <line x1='95.3544271' y1='1.5' x2='95.3544271' y2='13.5' id='PTZ-Zoom-Divider-Section-Top-Line' stroke='url(#linearGradient-zoom8)' strokeLinecap='square' />\n          <line x1='95.3544271' y1='50.5' x2='95.3544271' y2='62.5' id='PTZ-Zoom-Divider-Section-Bottom-Line' stroke='url(#linearGradient-zoom8)' strokeLinecap='square' />\n        </g>\n        {children}\n      </g>\n\n    </svg>\n  );\n};\n\nexport default ZoomBase;","import React, { useState, useCallback, useContext } from 'react';\nimport styled, {css} from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\n\nconst Active = styled.g<{active:boolean}>`\n  opacity: 0;\n  ${({active}) => active && css`opacity: 1;`}\n\n`;\nconst Hover = styled.g<{hover:boolean}>`\n  opacity: 0;\n  ${({hover}) => hover && css`opacity: 1;`}\n`;\n\nconst Container = styled.g`\n`;\n\n\ninterface Props {\n\n}\n\nconst Up: React.FC<Props> = () => {\n  const [hover, setHover] = useState(false);\n  const { state: {zooming}, actions: {zoom, stop}} = useContext(PTZContext);\n\n  const activeStart = useCallback(()=>{\n    setHover(false);\n    zoom({zooming: 'in'});\n  },[zoom]);\n  const activeEnd = useCallback(()=>{\n    stop();\n    setHover(true);\n  },[stop]);\n  const hoverStart = useCallback(()=>{\n    setHover(true);\n  },[]);\n  const hoverEnd = useCallback(()=>{\n    setHover(false);\n  },[]);\n\n  return (\n    <Container onMouseEnter={hoverStart} onMouseLeave={hoverEnd} onMouseDown={activeStart} onMouseUp={activeEnd} onTouchStart={activeStart} onTouchEnd={activeEnd} transform='translate(10.000000, 10.625000)'>\n      <Hover hover={hover} fillOpacity='0.56'>\n        <path\n          d='M96,0 L96,63.75 L160.883594,63.75 C178.620995,63.75 193,49.4790764 193,31.875 C193,14.2709236 178.620995,0 160.883594,0 L96,0 Z'\n          id='PTZ-Zoom-Hover-Plus-Slice'\n          fill='url(#linearGradient-zoom9)'\n        />\n        {/* <path d=\"M97,0 L97,63.75 L32.1164062,63.75 C14.3790049,63.75 0,49.4790764 0,31.875 C0,14.2709236 14.3790049,0 32.1164062,0 L97,0 Z\" id=\"PTZ-Zoom-Hover-Minus-Slice\" fill=\"url(#linearGradient-zoom10)\"></path> */}\n      </Hover>\n      <Active active={zooming === 'in'} transform='translate(96.000000, 0.000000)'>\n        <path\n          d='M0,0 L0,63.75 L64.8835938,63.75 C82.6209951,63.75 97,49.4790764 97,31.875 C97,14.2709236 82.6209951,0 64.8835938,0 L0,0 Z' id='PTZ-Zoom-Active-Plus-Slice'\n          fillOpacity='0.61'\n          fill='url(#linearGradient-zoom11)'\n        />\n        <path\n          d='M96,0 L96,5 L32.1164062,5 C17.4302083,5 5.48398392,16.5663708 5.01434007,30.9927914 L5.00363033,31.4308221 L5,31.875 C5,46.5608308 16.8905918,58.5089041 31.6677396,58.746397 L32.1164062,58.75 L96,58.75 L96,63.75 L32.1164062,63.75 C14.3790049,63.75 0,49.4790764 0,31.875 C0,14.2709236 14.3790049,0 32.1164062,0 L96,0 Z'\n          stroke='url(#linearGradient-zoom13)'\n          fill='url(#linearGradient-zoom12)'\n          transform='translate(48.000000, 31.875000) scale(-1, 1) translate(-48.000000, -31.875000) '\n        />\n\n\n      </Active>\n      <g id='PTZ-Zoom-Icons-Section' transform='translate(-10.000000, -10.625000) translate(35.000000, 30.000000)' fillRule='nonzero'>\n        <path d='M117.149921,14.1184213 L124.420095,14.1184213 C124.657568,14.1184213 124.850079,14.3104799 124.850079,14.5473962 L124.850079,21.8005035 C124.850079,22.9850849 125.812631,23.9453779 127,23.9453779 C128.187369,23.9453779 129.149921,22.9850849 129.149921,21.8005035 L129.149921,14.5473962 C129.149921,14.3104799 129.342432,14.1184213 129.579905,14.1184213 L136.850079,14.1184213 C138.037448,14.1184213 139,13.1581283 139,11.9735469 C139,10.7889655 138.037448,9.82867248 136.850079,9.82867248 L129.579905,9.82867248 C129.342432,9.82867248 129.149921,9.63661388 129.149921,9.3996976 L129.149921,2.14487441 C129.149921,0.960292981 128.187369,-3.55271368e-15 127,-3.55271368e-15 C125.812631,-3.55271368e-15 124.850079,0.960292981 124.850079,2.14487441 L124.850079,9.3996976 C124.850079,9.63661388 124.657568,9.82867248 124.420095,9.82867248 L117.149921,9.82867248 C115.962552,9.82867248 115,10.7889655 115,11.9735469 C115,13.1581283 115.962552,14.1184213 117.149921,14.1184213 L117.149921,14.1184213 Z' id='PTZ-Zoom-Icon-Plus' fill='url(#linearGradient-zoom14)' />\n      </g>\n    </Container>\n  );\n};\n\nexport default Up;","import React, { useState, useCallback, useContext } from 'react';\nimport styled, {css} from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\n\nconst Active = styled.g<{active:boolean}>`\n  opacity: 0;\n  ${({active}) => active && css`opacity: 1;`}\n\n`;\nconst Hover = styled.g<{hover:boolean}>`\n  opacity: 0;\n  ${({hover}) => hover && css`opacity: 1;`}\n`;\n\nconst Container = styled.g`\n`;\n\n\ninterface Props {\n\n}\n\nconst Up: React.FC<Props> = () => {\n  const [hover, setHover] = useState(false);\n  const { state: {zooming}, actions: {zoom, stop}} = useContext(PTZContext);\n\n  const activeStart = useCallback(()=>{\n    setHover(false);\n    zoom({zooming: 'out'});\n  },[zoom]);\n  const activeEnd = useCallback(()=>{\n    stop();\n    setHover(true);\n  },[stop]);\n\n  const hoverStart = useCallback(()=>{\n    setHover(true);\n  },[]);\n  const hoverEnd = useCallback(()=>{\n    setHover(false);\n  },[]);\n  return (\n    <Container onMouseEnter={hoverStart} onMouseLeave={hoverEnd} onMouseDown={activeStart} onMouseUp={activeEnd} onTouchStart={activeStart} onTouchEnd={activeEnd} transform='translate(10.000000, 10.625000)'>\n      <Hover hover={hover} fillOpacity='0.56'>\n        <path\n          d='M97,0 L97,63.75 L32.1164062,63.75 C14.3790049,63.75 0,49.4790764 0,31.875 C0,14.2709236 14.3790049,0 32.1164062,0 L97,0 Z'\n          id='PTZ-Zoom-Hover-Minus-Slice'\n          fill='url(#linearGradient-zoom10)'\n        />\n      </Hover>\n      <Active active={zooming === 'out'}>\n        <path\n          d='M97,0 L97,63.75 L32.1164062,63.75 C14.3790049,63.75 0,49.4790764 0,31.875 C0,14.2709236 14.3790049,0 32.1164062,0 L97,0 Z'\n          fillOpacity='0.61'\n          fill='url(#linearGradient-zoom11)'\n        />\n\n        <path\n          d='M97,0 L97,5 L33.1164062,5 C18.4302083,5 6.48398392,16.5663708 6.01434007,30.9927914 L6.00363033,31.4308221 L6,31.875 C6,46.5608308 17.8905918,58.5089041 32.6677396,58.746397 L33.1164062,58.75 L97,58.75 L97,63.75 L33.1164062,63.75 C15.3790049,63.75 1,49.4790764 1,31.875 C1,14.2709236 15.3790049,0 33.1164062,0 L97,0 Z'\n          stroke='url(#linearGradient-zoom13)'\n          fill='url(#linearGradient-zoom12)'\n        />\n      </Active>\n      <g transform='translate(-10.000000, -10.625000) translate(35.000000, 30.000000)' fillRule='nonzero'>\n        <path\n          d='M2.14992117,10 C0.962552494,10 0,10.960293 0,12.1448744 C0,13.3294558 0.962552494,14.2897488 2.14992117,14.2897488 L21.8500788,14.2897488 C23.0374475,14.2897488 24,13.3294558 24,12.1448744 C24,10.960293 23.0374475,10 21.8500788,10 L2.14992117,10 Z'\n          id='PTZ-Zoom-Icon-Minus'\n          fill='url(#linearGradient-zoom15)'\n        />\n      </g>\n    </Container>\n  );\n};\n\nexport default Up;","import React, { useContext } from 'react';\n\nimport Up from '../atoms/Up';\nimport Down from '../atoms/Down';\nimport Left from '../atoms/Left';\nimport Right from '../atoms/Right';\nimport Base from '../molecules/Base';\n\nimport ZoomBase from '../molecules/ZoomBase';\nimport ZoomIn from '../atoms/ZoomIn';\nimport ZoomOut from '../atoms/ZoomOut';\nimport styled from 'styled-components';\nimport { PTZContext } from '../state/PTZProvider';\n\ninterface Props {\n  debug?: boolean;\n}\n\nconst Container = styled.div`\n  user-select: none;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Controls: React.FC<Props> = ({debug = false}) => {\n  const { state } = useContext(PTZContext);\n\n  return (\n    <Container>\n      <Base>\n        <Up />\n        <Down />\n        <Left />\n        <Right />\n      </Base>\n      <ZoomBase>\n        <ZoomOut />\n        <ZoomIn />\n      </ZoomBase>\n      {\n        debug &&\n          <pre>\n            {JSON.stringify(state, null, 2)}\n          </pre>\n      }\n    </Container>\n  );\n};\n\nexport default Controls;","import React from 'react';\nimport styled, {css} from 'styled-components';\nimport Icon, {IconProps, IconWrapper} from '../../Icons/Icon';\nimport { Link } from 'react-router-dom';\n\nconst TextContainer = styled.div`\n  user-select: none;\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n`;\n\nexport const TagWrapper = styled.div<{ hoverColor:ISvgIcons['color']; enableHover:boolean; size: number}>`\n  font-family: ${({theme}) => theme.fontFamily.ui };\n  font-size: ${({size}) => size}px;\n  font-weight: 500;\n  color: hsl(200, 3%, 39%);\n  padding: 4px 10px;\n  border: solid 1px hsl(120, 1%, 85%);\n  display: inline-flex;\n  align-items: center;\n  border-radius: 3px;\n  height: 26px;\n\n  ${IconWrapper} {\n    [stroke]{\n      ${({theme}) => theme.colors.icons['dimmed']};\n    }\n    margin-right: 8px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  ${({theme, hoverColor, enableHover}) => enableHover && css`\n    &:hover {\n      cursor: pointer;\n      border-color: ${theme.colors.icons[hoverColor]};\n      color: ${theme.colors.icons[hoverColor]};\n      ${IconWrapper} {\n        [stroke]{\n          stroke: ${theme.colors.icons[hoverColor]};\n        }\n      }\n    }\n  `};\n`;\n\ninterface OwnProps {\n  label?: string\n  linkTo?: string\n}\n\nexport type ITag = OwnProps & IconProps;\n\nconst Tag : React.FC<ITag> = ({\n  icon = '',\n  size = 14,\n  weight = 'regular',\n  label='',\n  linkTo,\n  ...props \n}) => {\n\n  const renderTag = () => (\n    <TagWrapper hoverColor='primary' enableHover={linkTo ? true : false} size={size}>\n      {icon && (\n        <Icon\n          icon={icon}\n          size={size}\n          weight={weight}\n          {...props}\n        />\n    )}\n      <TextContainer>{label}</TextContainer>\n    </TagWrapper>\n  );\n\n  return(\n    linkTo\n    ?  (\n      <StyledLink to={linkTo}>\n        {renderTag()}\n      </StyledLink>)\n    : renderTag()\n  );\n};\n\nexport default Tag;","import React from 'react';\nimport styled from 'styled-components';\nimport Tag, {ITag, TagWrapper} from '../atoms/Tag';\n\n\nexport const TagListWrapper = styled.div`\n  display: flex;\n  ${TagWrapper} {\n    margin-right: 10px;\n    margin-bottom: 6px;\n    flex-shrink: 0;\n  }\n  flex-wrap: wrap;\n`;\n\nexport interface ITagList {\n  tagsConfig: ITag[]\n}\n\nconst TagList : React.FC<ITagList> = ({tagsConfig}) => {\n  return(\n    <TagListWrapper>\n      {tagsConfig.map((tagProps, index) => {\n        return (\n          <Tag key={`tag-${index}`} {...tagProps} />\n        );\n      })}\n    </TagListWrapper>\n  );\n};\n\nexport default TagList;","import React, { useState, useCallback } from 'react';\nimport Notification, { INotificationProps } from '../Alerts/atom/Notification';\n\ntype NotificationContextType = {\n  sendNotification: (newNotification: INotificationProps) => void;\n};\n\nconst defaultContext: NotificationContextType = {\n  sendNotification: () => console.log(\"This is the context initialization should not appear\"),\n};\n\nconst NotificationContext = React.createContext<NotificationContextType>(defaultContext);\n\nconst notificationList: INotificationProps[] = [];\n\nconst NotificationProvider: React.FC = ({ children }) => {\n  const [activeNotification, setActiveNotification] = useState<INotificationProps | null>(null);\n\n  const showNotification = useCallback(() => {\n    const nextNotification = notificationList.shift();\n\n    if (!nextNotification) { return; }\n\n    const updateOnClose = () => {\n      if (nextNotification.closeCallback) {\n        nextNotification.closeCallback();\n      }\n      setActiveNotification(null);\n      showNotification();\n    };\n\n    const displayedNotification = { ...nextNotification, closeCallback: updateOnClose };\n\n    setActiveNotification(displayedNotification);\n  }, []);\n\n  const sendNotification = async (newNotification: INotificationProps) => {\n\n    const validNotification: INotificationProps = {\n      message: newNotification.message,\n      type: newNotification.type,\n    };\n\n    if (newNotification.actionTextButton) {\n      validNotification.actionTextButton = newNotification.actionTextButton;\n    }\n\n    if (newNotification.onTextButtonClick) {\n      validNotification.onTextButtonClick = newNotification.onTextButtonClick;\n    }\n\n    if (newNotification.closeCallback) {\n      validNotification.closeCallback = newNotification.closeCallback;\n    }\n\n    if (newNotification.isPinned) {\n      validNotification.isPinned = newNotification.isPinned;\n    }\n\n    notificationList.push(validNotification);\n\n    if (notificationList.length === 1 && activeNotification === null) {\n      showNotification();\n    }\n  };\n\n  return (\n    <NotificationContext.Provider value={{ sendNotification }}>\n      {activeNotification\n        ? <Notification {...activeNotification} />\n        : null}\n      {children}\n    </NotificationContext.Provider>\n  );\n};\n\nexport { NotificationContext };\nexport type  { NotificationContextType };\nexport default NotificationProvider;","import {useState, useLayoutEffect } from \"react\";\n\n/**\n * Custom hook that tells you whether a given media query is active.\n */\n\nexport default function useMediaQuery(query: string) {\n\n  const [matches, setMatches] = useState(false);\n  useLayoutEffect(\n    () => {\n\n      const mediaQuery = window.matchMedia(query);\n      setMatches(mediaQuery.matches);\n      const handler = (event: MediaQueryListEvent) => setMatches(event.matches);\n\n      mediaQuery.addEventListener(\"change\", handler);\n\n      return () => mediaQuery.removeEventListener(\"change\", handler);\n\n    },\n    // eslint-disable-next-line\n    [] // Empty array ensures effect is only run on mount and unmount\n  );\n  return matches;\n}","import useMediaQuery from \"./useMediaQuery\";\nimport {deviceMediaQuery} from '../themes/common';\n\n/**\n * Get a set of boolean representing which breakpoint is activeScreen\n * and which breakpoints are inactiveScreen.\n */\n\nexport type IBreakpoints = 'small'\n| 'medium'\n| 'large'\n| 'xlarge'\n| 'xxlarge';\n\ninterface OwnProps  {\n  isSmall: boolean\n  isMedium: boolean\n  isLarge: boolean\n  isXLarge: boolean\n  isXXLarge: boolean\n  activeScreen: IBreakpoints\n}\n\nexport default function useBreakpoints() {\n  const breakpoints : OwnProps= {\n    isSmall: useMediaQuery(deviceMediaQuery.small),\n    isMedium: useMediaQuery(deviceMediaQuery.medium),\n    isLarge: useMediaQuery(deviceMediaQuery.large),\n    isXLarge: useMediaQuery(deviceMediaQuery.xlarge),\n    isXXLarge: useMediaQuery(deviceMediaQuery.xxlarge),\n    activeScreen: \"small\"\n  };\n\n  if (breakpoints.isSmall) breakpoints.activeScreen = 'small';\n  if (breakpoints.isMedium) breakpoints.activeScreen = 'medium';\n  if (breakpoints.isLarge) breakpoints.activeScreen = 'large';\n  if (breakpoints.isXLarge) breakpoints.activeScreen = 'xlarge';\n  if (breakpoints.isXXLarge) breakpoints.activeScreen = 'xxlarge';\n\n  return breakpoints;\n}","import React from 'react';\nimport styled from 'styled-components';\nimport Button from '../Form/atoms/Button';\nimport { TypeButtonDesigns } from '../Form';\nimport { useModal } from '../hooks';\n\nconst Container = styled.div``;\n\nconst Title = styled.div`\n  text-shadow: 0 0 10px hsla(0, 0%, 100%, 0.8);\n  font-size: 20px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: hsl(210, 6%, 47%);\n`;\n\nconst MessageBox = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.79;\n  letter-spacing: normal;\n  color: hsl(200, 1%, 49%);\n  margin: 28px 0;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-left: 10px;\n`;\n\nconst ButtonsGroup = styled.div`\n  text-align: right;\n`;\n\n\ntype IConfirmationModal = {\n  title?: string,\n  message: string,\n  leftButtonText?: string,\n  leftButtonDesign?: TypeButtonDesigns,\n  leftButtonCallback?: () => void,\n  rightButtonText?: string,\n  rightButtonDesign?: TypeButtonDesigns,\n  rightButtonCallback?: () => void,\n}\n\nconst ConfirmationModal: React.FC<IConfirmationModal> = ({\n  title = '',\n  message = '',\n  leftButtonText = 'submit',\n  leftButtonDesign = 'primary',\n  leftButtonCallback = () => { },\n  rightButtonDesign = 'secondary',\n  rightButtonText = 'cancel',\n  rightButtonCallback = () => { },\n}) => {\n\n  const { setModalOpen } = useModal();\n\n  const handlePrimaryBtn = () => {\n    leftButtonCallback();\n    setModalOpen(false);\n  };\n\n  const handleSecondaryBtn = () => {\n    rightButtonCallback();\n    setModalOpen(false);\n  };\n\n  return (\n    <Container>\n      <Title>{title}</Title>\n      <MessageBox>{message}</MessageBox>\n      <ButtonsGroup>\n        <StyledButton\n          design={leftButtonDesign}\n          onClick={handlePrimaryBtn}\n        >\n          {leftButtonText}\n        </StyledButton>\n        <StyledButton\n          design={rightButtonDesign}\n          onClick={handleSecondaryBtn}\n        >\n          {rightButtonText}\n        </StyledButton>\n      </ButtonsGroup>\n    </Container>\n  );\n};\n\nexport default ConfirmationModal;","import styled, {css} from 'styled-components';\nimport {deviceMediaQuery} from '../../themes/common';\n\nexport const MOBILE_CLOSE_HEIGHT = 50;\nexport const MOBILE_NAVBAR_HEIGHT = 68;\n\nexport const Layout = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n`;\n\nexport const MobileLayout = styled.div``;\n\n\nexport const Content = styled.div<{ maxWidth?: string, padBottom?: boolean }>`\n  padding: ${({padBottom = true}) => padBottom ? '70px 90px' : '70px 90px 0'};\n  flex: 1;\n  overflow: auto;\n\n  & > div {\n    max-width: 1400px;\n  }\n\n  ${\n    ({ maxWidth }) =>\n    maxWidth && css`\n      & > div {\n        max-width: ${maxWidth};\n      }\n    `\n  }\n`;\nexport const MainContainer = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const ContentArea = styled.div<{ maxWidth?: string, paddingOverride?: string}>`\n  flex: 1;\n  width: 100%;\n  padding: ${({paddingOverride}) => paddingOverride ? paddingOverride : '40px 20px'};\n  margin-left: auto;\n  margin-right: auto;\n\n  @media ${deviceMediaQuery.medium} {\n    padding: ${({paddingOverride}) => paddingOverride ? paddingOverride : '40px'};\n  }\n\n  @media ${deviceMediaQuery.large} {\n    max-width: ${({maxWidth}) => maxWidth ? maxWidth : `1200px`};\n    padding: ${({paddingOverride}) => paddingOverride ? paddingOverride : '70px 90px'};\n  }\n`;","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\n\nconst ContextTitle = styled.div<{ compact?: boolean }>`\n  opacity: 0;\n\n  ${({ theme }) => css`\n    transition: opacity ${theme.animation.speed.fast} ${theme.animation.easing.primary.easeInOut};\n  `}\n\n  ${({ compact }) => compact && css`\n    font-size:14px;\n  `}\n`;\n\nconst ContextIcon = styled.div<{ compact?: boolean }>`\n  ${({ theme }) => css`\n    ${theme.styles.global.mainMenu.iconBackground.default};\n    transition: background ${theme.animation.speed.fast} ${theme.animation.easing.primary.easeInOut};\n  `};\n\n  flex: 0 0 40px;\n  width: 40px;\n  height: 40px;\n  margin: 0 20px;\n\n  border-radius: 7px;\n  display:flex;\n  justify-content:center;\n  align-items:center;\n\n  svg {\n    display: block;\n  }\n`;\n\nconst ContextIndicator = styled.div`\n  width: 12px;\n  height: 12px;\n  flex: 0 0 14px;\n  margin: 0 20px 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    display: block;\n    height: 12px;\n    width: 12px;\n  }\n\n  opacity: 0;\n\n  ${({ theme }) => css`\n    transition: opacity 0 ${theme.animation.easing.primary.easeInOut};\n  `}\n\n`;\nconst ContextActionBaseCSS = css`\n  -webkit-tap-highlight-color: transparent;\n  border: none;\n  background: none;\n  display: flex;\n  justify-content:left;\n  align-items:center;\n  flex-wrap: wrap;\n  cursor: pointer;\n  width: 100%;\n  outline: none;\n  padding: 0;\n  text-decoration: none;\n`;\n\nconst StyledAnchor = styled.a`\n  display: flex;\n  text-decoration: none;\n`;\n\nconst ExternalIconWrapper = styled.div`\n  margin-left: 15px;\n`;\n\nconst ContextWrapper = styled.div<{$menuOpen?: boolean}>`\n  ${ContextActionBaseCSS}\n  ${({ theme }) => theme && css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.global.mainMenu.menuItem.default};\n  `}\n\n  ${({ $menuOpen }) => $menuOpen && css`\n  ${ContextTitle}{\n    opacity: 1;\n  }\n`}\n\n  &:hover ${ContextIcon}{\n    opacity: 1;\n    ${({ theme }) => theme.styles.global.mainMenu.iconBackground.hover};\n    ${IconWrapper}{\n      [stroke]{\n        stroke: ${({ theme }) => theme.colors.icons['inverse']};\n      }\n    }\n  }\n`;\n\nconst ContextActionA = styled(Link) <{ $menuOpen?: boolean, $isActive: boolean }>`\n  ${ContextActionBaseCSS}\n  ${({ theme }) => theme && css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.global.mainMenu.menuItem.default};\n  `}\n\n  ${({ $menuOpen }) => $menuOpen && css`\n    ${ContextTitle}{\n      opacity: 1;\n    }\n  `}\n\n  &:hover ${ContextIcon}{\n    opacity: 1;\n    ${({ theme }) => theme.styles.global.mainMenu.iconBackground.hover};\n    ${IconWrapper}{\n      [stroke]{\n        stroke: ${({ theme }) => theme.colors.icons['inverse']};\n      }\n    }\n  }\n\n  ${({ $isActive }) => $isActive && css`\n    ${ContextIcon},\n    &:hover ${ContextIcon}{\n      ${({ theme }) => theme.styles.global.mainMenu.iconBackground.active};\n    }\n  `}\n`;\nconst ContextActionButton = styled.button<{ menuOpen?: boolean, isActive: boolean }>`\n  ${ContextActionBaseCSS}\n\n  ${({ theme }) => theme && css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.global.mainMenu.menuItem.default};\n  `}\n\n  ${({ menuOpen, theme }) => menuOpen && css`\n    ${ContextTitle}{\n      opacity: 1;\n    }\n\n    ${ContextIndicator}{\n      opacity: 1;\n      transition: opacity ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut} ${theme.animation.speed.fast};\n    }\n  `}\n\n  &:hover ${ContextIcon}{\n    opacity: 1;\n    ${({ theme }) => theme.styles.global.mainMenu.iconBackground.hover};\n    ${IconWrapper}{\n      [stroke]{\n        stroke: ${({ theme }) => theme.colors.icons['inverse']};\n      }\n    }\n  }\n\n  ${({ isActive }) => isActive && css`\n    ${ContextIcon},\n    &:hover ${ContextIcon}{\n      ${({ theme }) => theme.styles.global.mainMenu.iconBackground.active};\n    }\n  `}\n`;\n\ninterface IProps {\n  title: string\n  icon: string\n  isActive: boolean\n  menuOpen?: boolean\n  submenuOpen?: boolean\n  hasSubmenu?: boolean\n  contextKey?: number\n  href?: string\n  compact?: boolean\n  isExternalLink?: boolean\n  onClickCallback?: (...args: any[]) => void\n}\n\nconst ContextItem: React.FC<IProps> = ({\n  hasSubmenu = false,\n  contextKey = -1,\n  submenuOpen,\n  menuOpen,\n  title,\n  href,\n  icon,\n  compact,\n  isActive,\n  isExternalLink,\n  onClickCallback }) => {\n\n  const internal = (\n    <React.Fragment>\n      <ContextIcon {...{ compact }}>\n        <Icon icon={icon} color={isActive ? 'inverse' : 'dimmed'} size={20} />\n      </ContextIcon>\n      <ContextTitle {...{ compact }}>{title}</ContextTitle>\n      {hasSubmenu ? <ContextIndicator><Icon icon={submenuOpen ? 'Up' : 'Down'} color='dimmed' /></ContextIndicator> : null}\n    </React.Fragment>);\n\n  if (hasSubmenu) {\n    return (\n      <ContextActionButton menuOpen={menuOpen} isActive={isActive} onClick={() => onClickCallback && onClickCallback(contextKey)}>\n        {internal}\n      </ContextActionButton>\n    );\n  } else {\n    return (\n      isExternalLink\n        ? (\n          <StyledAnchor href={href} target='_blank'>\n            <ContextWrapper $menuOpen={menuOpen}>\n              {internal}\n              <ExternalIconWrapper>\n                <Icon icon='ExternalLink' color='dimmed' size={12} />\n              </ExternalIconWrapper>\n            </ContextWrapper>\n          </StyledAnchor>\n        )\n        : (\n          <ContextActionA\n            $menuOpen={menuOpen}\n            to={href ? href : '#'}\n            $isActive={isActive}\n            onClick={() => onClickCallback && onClickCallback(contextKey)}\n          >\n            {internal}\n          </ContextActionA>)\n    );\n  }\n\n};\n\nexport default ContextItem;","import { useReducer, useCallback, useLayoutEffect } from 'react';\n\nimport useBreakpoints, { IBreakpoints } from './useBreakpoints';\n\ninterface IMenuState {\n  desktopSize: IBreakpoints\n  isMenuPinned: boolean\n  isMenuOpen: boolean\n  canPin: boolean\n}\n\ninterface SET_MENU {\n  type: 'SET_MENU'\n  data: {\n    desktopSize: IBreakpoints\n    defaultMenuOpen: boolean\n    canAlwaysPin?: boolean\n  }\n}\n\ninterface SET_OPEN {\n  type: 'SET_OPEN'\n}\n\ninterface SET_CLOSE {\n  type: 'SET_CLOSE'\n}\n\ninterface TOGGLE_PIN {\n  type: 'TOGGLE_PIN'\n}\n\ntype IMenuActions = SET_MENU | SET_OPEN | SET_CLOSE | TOGGLE_PIN\n\n\nconst menuReducer = (state: IMenuState, action: IMenuActions) => {\n\n  switch (action.type) {\n\n    // initial State based in props and desktop size\n    case 'SET_MENU': {\n      const openMenu = localStorage.getItem(window.location.hostname + '_isMenuOpen');\n      let isMenuOpen = openMenu === 'true';\n      let isMenuPinned = openMenu === 'true';\n      let canPin = false;\n\n      if (action.data.canAlwaysPin || (action.data.defaultMenuOpen && action.data.desktopSize === 'xlarge')) {\n        canPin = true;\n      }\n\n      if (action.data.desktopSize === 'xxlarge' && action.data.canAlwaysPin === false) {\n        isMenuOpen = true;\n        isMenuPinned = true;\n      } else if (action.data.desktopSize === 'xxlarge') {\n        isMenuOpen = action.data.defaultMenuOpen;\n        isMenuPinned = false;\n      }\n\n      return {\n        ...state,\n        desktopSize: action.data.desktopSize,\n        isMenuOpen,\n        isMenuPinned,\n        canPin,\n      };\n    }\n\n    // handle autoOpen based on desktop\n    case 'SET_OPEN': {\n      if (state.isMenuOpen === true) { return state; }\n      if (state.desktopSize === 'xxlarge' && !state.canPin) { return state; }\n\n      return {\n        ...state,\n        isMenuOpen: true\n      };\n    }\n\n    // handle auto close based on desktop\n    case 'SET_CLOSE': {\n      if (state.isMenuOpen === false) { return state; }\n      if (state.desktopSize === 'xxlarge' && !state.canPin) { return state; }\n      if (state.isMenuPinned === true) { return state; }\n\n      return {\n        ...state,\n        isMenuOpen: false,\n      };\n    }\n\n    case 'TOGGLE_PIN': {\n      if (!state.canPin) { return state; }\n\n      let isMenuOpen = true;\n\n      if (state.isMenuPinned) {\n        localStorage.setItem(window.location.hostname + '_isMenuOpen', 'false');\n        isMenuOpen = false;\n      } else {\n        localStorage.setItem(window.location.hostname + '_isMenuOpen', 'true');\n      }\n\n      return {\n        ...state,\n        isMenuOpen,\n        isMenuPinned: !state.isMenuPinned,\n      };\n    }\n\n    default:\n      console.error(`Action ${action['type']} not registered.`);\n      return state;\n  }\n};\n\nconst menuState: IMenuState = {\n  desktopSize: 'large',\n  isMenuPinned: false,\n  isMenuOpen: false,\n  canPin: false\n};\n\nconst useMenu = (defaultMenuOpen: boolean, canAlwaysPin: boolean) => {\n\n  const { activeScreen } = useBreakpoints();\n  const [state, dispatch] = useReducer(menuReducer, menuState);\n\n  const setMenu = useCallback((defaultMenuOpen: boolean, canAlwaysPin: boolean, desktopSize: IBreakpoints,) => {\n    dispatch({ type: 'SET_MENU', data: { defaultMenuOpen, desktopSize, canAlwaysPin } });\n  }, []);\n\n  const setMenuOpen = useCallback(() => {\n    dispatch({ type: 'SET_OPEN' });\n  }, []);\n\n  const setMenuClose = useCallback(() => {\n    dispatch({ type: 'SET_CLOSE' });\n  }, []);\n\n  const togglePinned = useCallback(() => {\n    dispatch({ type: 'TOGGLE_PIN' });\n  }, []);\n\n  useLayoutEffect(() => {\n    setMenu(defaultMenuOpen, canAlwaysPin, activeScreen);\n  }, [activeScreen, defaultMenuOpen, canAlwaysPin, setMenu]);\n\n  return {\n    menuState: state,\n    setMenuOpen,\n    setMenuClose,\n    togglePinned\n  };\n};\n\nexport default useMenu;","import React, { useRef, useEffect, useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport {Link} from 'react-router-dom';\nimport ContextItem from './ContextItem';\nimport { IMenuItemTop, IMenuItemSubmenu } from '..';\nimport {resetButtonStyles} from '../../common/index';\nimport Icon from '../../Icons/Icon';\n\nconst Submenu = styled.ul`\n  display: block;\n  position: relative;\n  margin-left: 40px;\n  padding: 0;\n\n`;\nconst SubmenuHeader = styled.div`\n  display: block;\n  height: 40px;\n  margin-left: 40px;\n`;\n\nconst SubmenuItemTitle = styled.span`\n  display: block;\n  ${({theme}) => theme && css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.global.mainMenu.subheader}\n  `};\n\n`;\n\nconst SubmenuItemLink = styled(Link)`\n  ${resetButtonStyles};\n  display: block;\n`;\n\nconst ExternalIconWrapper = styled.div`\n  margin-left: 15px;\n`;\n\nconst SubmenuItemAnchor = styled.a`\n  ${resetButtonStyles};\n  display: flex;\n  align-items: center;\n`;\n\nconst SubmenuItem = styled.li<{isActive?: boolean}>`\n  display: block;\n  height: 30px;\n  padding-left: 40px;\n  position: relative;\n\n  &::after {\n    display: block;\n    content: '';\n    height: 1px;\n    width: 14px;\n    position: absolute;\n    left: 0;\n    top: 10px;\n    background: ${({theme: {colors}}) => colors.divider};\n  }\n\n  ${SubmenuItemLink}, ${SubmenuItemAnchor}{\n\n    ${({theme, isActive}) => theme && css`\n      font-family: ${theme.fontFamily.ui};\n      ${theme.typography.global.mainMenu.subItem.default};\n\n      &:hover {\n        ${theme.typography.global.mainMenu.subItem.hover};\n      }\n\n      ${isActive && css`\n        &, &:hover {\n          ${theme.typography.global.mainMenu.subItem.active};\n        }\n      `}\n\n    `};\n\n\n\n  }\n`;\n\nconst SubmenuContainer = styled.div`\n  ${({theme}) => theme && css`\n    transition:\n      max-height ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut},\n      opacity ${theme.animation.speed.fast} ${theme.animation.easing.primary.easeOut};\n  `};\n\n  position: relative;\n  overflow: hidden;\n\n  &::after {\n    display: block;\n    content: '';\n    width: 1px;\n    position: absolute;\n    left: 40px;\n    top: 0;\n    bottom: 35px;\n    background: ${({theme: {colors}}) => colors.divider};\n  }\n\n`;\n\nconst ContextContainer = styled.div<{ open: boolean, maxHeight: number, minHeight?: number, loading: 'true'|'false' }>`\n  min-height: ${({minHeight}) => minHeight ? `${minHeight}px` : `70px`};\n  width: inherit;\n\n  ${SubmenuContainer}{\n    max-height: 0;\n    opacity: 0;\n  }\n  ${({open, maxHeight, theme}) => open && css`\n    ${SubmenuContainer}{\n      transition:\n        max-height ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut},\n        opacity ${theme.animation.speed.fast} ${theme.animation.easing.primary.easeOut};\n      max-height: ${maxHeight}px !important;\n      opacity: 1;\n    }\n  `};\n\n  ${({loading}) => loading === 'true' && css`\n    ${SubmenuContainer}{\n      max-height: none !important;\n      opacity: 1;\n    }\n  `};\n\n`;\n\ninterface IProps {\n  item: IMenuItemTop\n  contextKey: number\n  submenuOpen: boolean\n  loading: boolean\n  menuOpen?: boolean\n  topLevelPath: string\n  minHeight?: number\n  onClickCallback?: (...args: any[]) => void\n  readyCallback?: (...args: any[]) => void\n}\n\nconst NavigationItem : React.FC<IProps> = ({item, menuOpen, submenuOpen, contextKey, loading, topLevelPath, minHeight, onClickCallback, readyCallback}) => {\n  const { icon, title, href, submenu, isExternalLink } = item;\n  const isActive = topLevelPath === href;\n\n  const refSubmenu = useRef<any>(null);\n  const [submenuHeight, setSubmenuHeight] = useState<number>(0);\n\n  const submenus : any[] = generateSubmenus(submenu, onClickCallback ) || [];\n  const hasSubmenu : boolean = submenus.length > 0;\n\n  useEffect(() => {\n    if(refSubmenu && refSubmenu.current && refSubmenu.current.clientHeight !== 0){\n      setSubmenuHeight(refSubmenu.current.clientHeight);\n    }\n\n    if(readyCallback){ readyCallback(contextKey); }\n\n  }, [refSubmenu, setSubmenuHeight, readyCallback, contextKey]);\n\n  return (\n    <ContextContainer open={submenuOpen} loading={loading ? 'true': 'false'} maxHeight={submenuHeight} minHeight={minHeight}>\n      <ContextItem {...{title, href, isActive, icon, hasSubmenu, isExternalLink, submenuOpen, menuOpen, onClickCallback, contextKey}} />\n      {hasSubmenu ? <SubmenuContainer ref={refSubmenu}>{submenus}</SubmenuContainer> : null}\n    </ContextContainer>\n  );\n\n};\n\n/**\n * Generate the submenu component structure.\n * @param submenu JSON Object with the menu structure\n */\nconst generateSubmenus = (\n  submenu? : IMenuItemSubmenu[],\n  onClickCallback?: (...args: any[]) => void,\n  ) => {\n\n  if(!submenu){ return; }\n\n  let grouping : any[] = [];\n  let output : any = [];\n\n  // First submenu\n  grouping.push([]);\n\n  submenu.forEach((item, key) => {\n    const {title, href, isExternalLink} = item;\n    if(href){\n      // Treat as menu item/\n      if(isExternalLink) {\n        grouping[grouping.length - 1].push(\n          <SubmenuItem key={key} isActive={false}>\n            <SubmenuItemAnchor href={href} target='_blank'>\n              {title}\n              <ExternalIconWrapper>\n                <Icon icon='ExternalLink' color='dimmed' size={10} />\n              </ExternalIconWrapper>\n            </SubmenuItemAnchor>\n          </SubmenuItem>);\n      }else {\n        grouping[grouping.length - 1].push(<SubmenuItem key={key} isActive={false}><SubmenuItemLink to={href} onClick={() => onClickCallback && onClickCallback(-1)}>{title}</SubmenuItemLink></SubmenuItem>);\n      }\n    } else {\n      // Assume this is a grouping header.\n      if(grouping[grouping.length - 1].length > 1){ grouping.push([]); }\n      grouping[grouping.length - 1].push(<SubmenuHeader key={key}><SubmenuItemTitle>{title}</SubmenuItemTitle></SubmenuHeader>);\n    }\n  });\n\n  grouping.forEach((group, key) => {\n    output.push(<Submenu key={key}>{group}</Submenu>);\n  });\n\n  return output;\n\n};\n\nexport default NavigationItem;\n\n","import React, { useState, useCallback } from 'react';\nimport ReactDom from 'react-dom';\nimport styled, { css } from 'styled-components';\n\nimport { Link, useLocation } from 'react-router-dom';\nimport ContextItem from '../atoms/ContextItem';\nimport useMenu from '../../hooks/useMenu';\n\nimport { IBreakpoints } from '../../hooks/useBreakpoints';\n\nimport SvgLogoMark from '../../svg/LogoMark';\nimport SvgLogoText from '../../svg/LogoText';\nimport NavigationItem from '../atoms/NavigationItem';\nimport { IMenu } from '..';\nimport { getTopLevelPath } from '../../helpers/index';\n\nconst Logo = styled(Link)`\n  height: 50px;\n  margin: 0 20px 55px 15px;\n  display: flex;\n\n  object {\n    pointer-events: none;\n  }\n`;\nconst LogoMark = styled.div`\n  height: 50px;\n  flex: 0 0 50px;\n  margin-right: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n`;\nconst LogoType = styled.div`\n  opacity: 0;\n  flex: 1;\n  height: 50px;\n  display: flex;\n  justify-content: left;\n  align-items: center;\n`;\n\nconst SVGObject = styled.object``;\nconst SVGObjectText = styled.object`\n  max-width: 180px;\n`;\n\nconst NavigationContainer = styled.div``;\n\nconst MenuFooter = styled.div`\n  ${({ theme }) => theme && css`\n    ${theme.styles.global.mainMenu.footerBackground}\n  `};\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  justify-content: flex-end;\n`;\n\nconst FooterItemContainer = styled.div`\n  min-height: 70px;\n`;\n\nconst PushContainer = styled.div<{ isPinned: boolean; }>`\n  position: relative;\n  height: 100%;\n  ${({ theme, isPinned }) => theme && css`\n    width: ${isPinned ? theme.dimensions.global.mainMenu.width.open : theme.dimensions.global.mainMenu.width.closed};\n  `};\n`;\n\nconst Container = styled.div<{ open: boolean; desktopSize: IBreakpoints }>`\n  z-index: 99;\n  position: fixed;\n  top: 0;\n  left: 0;\n  ${({ theme, open, desktopSize }) => theme && css`\n    ${theme.styles.global.mainMenu.background}\n    ${desktopSize === 'xxlarge' ? `` : css`\n      transition: width ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeOut}\n      `\n    };\n    width: ${open ? theme.dimensions.global.mainMenu.width.open : theme.dimensions.global.mainMenu.width.closed};\n    border-right: 1px solid ${theme.styles.global.mainMenu.lines.backgroundColor};\n\n    ${LogoType}{\n      transition: opacity ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut};\n      opacity: ${open ? 1 : 0};\n    }\n  `}\n\n  box-sizing: border-box;\n  height: 100%;\n  padding: 20px 0 0 0;\n  overflow: hidden;\n`;\n\nconst ContainerInner = styled.div`\n  width: ${({ theme }) => theme.dimensions.global.mainMenu.width.open};\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\n\nconst MainMenu: React.FC<IMenu> = ({ content, home = \"/\", logoMark, logoText, keepOpenText = \"Keep Open\", autoHideText = \"Auto-Hide\", supportUrl, defaultMenuOpen = true, canAlwaysPin = false }) => {\n\n  const { menuState, setMenuOpen, setMenuClose, togglePinned } = useMenu(defaultMenuOpen, canAlwaysPin);\n\n  const [focusedContext, setFocusedContext] = useState<number>(0);\n  const [loading, setLoading] = useState<boolean>(true);\n  const location = useLocation();\n  let checkedInItems: number = 0;\n\n  /* Handling of menu open, closing and pinning. */\n  const autoMenuOpen = useCallback((e: any) => {\n    if (e.pointerType === 'touch') { return; }\n    setMenuOpen();\n  }, [setMenuOpen]);\n\n  const autoMenuClose = useCallback(() => {\n    // TODO: Move the focused back to the active view so it re-opens on current context.\n    setMenuClose();\n  }, [setMenuClose]);\n\n  const toggleMenuPin = useCallback((e: any) => {\n    if (e.pointerType === 'touch') { return; }\n    togglePinned();\n  }, [togglePinned]);\n\n  /** Manage which context is open. */\n  /** Submenu sends -1 because context only is for the parent\n    * The -1 value is important in the mobile version of this menu\n  */\n  const setFocusedContextCb = useCallback(contextKey => {\n    if(contextKey === -1) { return; }\n\n    setFocusedContext(focusedContext !== contextKey ? contextKey : -1);\n  }, [setFocusedContext, focusedContext]);\n\n  /** Manage the loading cycle. */\n  const readyCallback = useCallback(() => {\n    // Basic count of menu items (that need to measure height) that have checked in.\n    checkedInItems++;\n    if (checkedInItems === content.items.length) {\n      setLoading(false);\n    }\n  }, [checkedInItems, content]);\n\n  return (\n    <PushContainer isPinned={menuState.isMenuPinned}>\n      {ReactDom.createPortal(\n        <Container\n          open={menuState.isMenuOpen}\n          desktopSize={menuState.desktopSize}\n          onPointerEnter={menuState.isMenuPinned ? () => {} : autoMenuOpen}\n          onTouchStart={() => console.log('touch')}\n          onMouseLeave={menuState.isMenuPinned ? () => {} : autoMenuClose}\n        >\n          <ContainerInner>\n            <Logo to={home}>\n              <LogoMark>{logoMark ? <SVGObject type='image/svg+xml' data={logoMark} /> : <SvgLogoMark />}</LogoMark>\n              <LogoType>{logoText ? <SVGObjectText type='image/svg+xml' data={logoText} /> : <SvgLogoText />}</LogoType>\n            </Logo>\n\n            <NavigationContainer>\n              {content.items.map((item, key) => {\n              return (\n                <NavigationItem\n                  topLevelPath={getTopLevelPath(location.pathname)}\n                  key={key}\n                  contextKey={key}\n                  menuOpen={menuState.isMenuOpen}\n                  submenuOpen={key === focusedContext && menuState.isMenuOpen}\n                  onClickCallback={setFocusedContextCb}\n                  {...{ item, loading, focusedContext, readyCallback }}\n                />\n              );\n              })}\n            </NavigationContainer>\n\n            <MenuFooter>\n\n              {supportUrl && (\n                <FooterItemContainer>\n                  <ContextItem compact isActive={false} icon='Question' title='Help &amp; Support' href={supportUrl} menuOpen={menuState.isMenuOpen} />\n                </FooterItemContainer>\n              )}\n\n              {(menuState.canPin)\n              ? (\n                <FooterItemContainer>\n                  <ContextItem\n                    compact\n                    isActive={false}\n                    icon={menuState.isMenuOpen && menuState.isMenuPinned ? 'Left' : 'Menu'}\n                    title={menuState.isMenuPinned ? keepOpenText : autoHideText}\n                    onClickCallback={toggleMenuPin}\n                    menuOpen={menuState.isMenuOpen}\n                  />\n                </FooterItemContainer>\n              )\n              : null}\n            </MenuFooter>\n          </ContainerInner>\n        </Container>,\n      document.body)}\n    </PushContainer>\n  );\n};\n\nexport default MainMenu;\n","import React, { useCallback, Fragment } from 'react';\nimport styled, { css } from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nimport Icon from '../../Icons/Icon';\nimport { ITopBar } from '../index';\nimport { resetButtonStyles } from '../../common/index';\n\nconst DrawerTop = styled.div``;\nconst DrawerBottom = styled.div`\n  ${({ theme }) => css`\n    width: 100%;\n    position: fixed;\n    bottom: 50px;\n\n    @media ${theme.deviceMediaQuery.large} {\n      position: static;\n      bottom: 0;\n    }\n  `};\n`;\n\nconst DrawerHeader = styled.h2`\n  ${({ theme }) => theme.typography.global.mainMenu.subheader};\n  padding: 0;\n  margin: 0 0 5px;\n`;\nconst CurrentUser = styled.div`\n  padding: 20px 20px 15px;\n\n  ${({ theme }) => css`\n    border-bottom: ${theme.colors.divider} 1px solid;\n    ${theme.typography.global.mainMenu.identity};\n  `};\n`;\n\nconst UserOptions = styled.div`\n  padding: 20px 20px 10px 20px;\n  border-bottom: ${({ theme: { colors } }) => colors.divider} 1px solid;\n`;\n\nconst Logout = styled.div`\n    padding: 0 20px;\n`;\n\nconst LinkMenu = styled.ul`\n  padding: 0;\n  margin: 12px 0 0 0;\n  list-style: none;\n`;\n\nconst LinkMenuItem = styled.li`\n  padding: 10px 0;\n`;\n\nconst IconWrapper = styled.div`\n  flex: 0 40px;\n  width: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  > div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n`;\n\nconst LinkMenuItemA = styled(Link) <{ isActive?: boolean }>`\n  ${resetButtonStyles};\n  display: block;\n  width: 100%;\n\n  ${({ theme }) => css`\n    ${theme.typography.global.mainMenu.subItem.default};\n\n    &:hover {\n      ${theme.typography.global.mainMenu.subItem.hover};\n    }\n  `};\n\n  ${({ theme, isActive }) => isActive && css`\n    &, &:hover {\n      ${theme.typography.global.mainMenu.subItem.active};\n    }\n  `};\n`;\n\nconst LanguageMenu = styled.button`\n  ${resetButtonStyles};\n\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  margin-top: auto;\n  display: flex;\n  flex-direction: row;\n\n  border-top: ${({ theme: { colors } }) => colors.divider} 1px solid;\n  ${({ theme }) => css`\n    ${theme.typography.global.mainMenu.subItem.default};\n    &:hover { ${theme.typography.global.mainMenu.subItem.hover}; }\n    &:active { ${theme.typography.global.mainMenu.subItem.active}; }\n  `};\n\n  padding: 20px 10px 15px;\n  align-items: center;\n  width: 100%;\n`;\n\ninterface IUserMenu extends ITopBar {\n  closeOnClick?: () => void\n}\n\nconst UserMenu: React.FC<IUserMenu> = ({\n  hasLanguage = false,\n  hasLogout = true,\n  logoutLink = '/logout',\n  logoutText = 'Logout',\n  hasCurrentUser = true,\n  currentUserText = 'Current User',\n  accountOptionText = \"Account Options\",\n  userSubmenu = [],\n  userDrawerBespoke,\n  loggedInUser,\n  onLogout = () => { },\n  onLanguageToggle = () => { },\n  closeOnClick,\n}) => {\n\n  const logoutHandler = useCallback(async (e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n    e.preventDefault();\n    await onLogout();\n    window.location.assign(logoutLink);\n    if(closeOnClick) {\n      closeOnClick();\n    }\n  }, [closeOnClick, logoutLink, onLogout]);\n\n  const handleCloseWhenClick = useCallback(() => {\n    if(closeOnClick) {\n      closeOnClick();\n    }\n  },[closeOnClick]);\n\n  return (\n    <Fragment>\n      <DrawerTop>\n        {hasCurrentUser ?\n          <CurrentUser>\n            <DrawerHeader>{currentUserText}</DrawerHeader>\n            {loggedInUser}\n          </CurrentUser>\n          : null}\n\n        {userSubmenu.length > 0 ?\n          <UserOptions>\n            <DrawerHeader>{accountOptionText}</DrawerHeader>\n            <LinkMenu>\n              {userSubmenu.map(({ text, href }, index) => {\n                return (\n                  <LinkMenuItem key={index}>\n                    <LinkMenuItemA to={href} onClick={handleCloseWhenClick}>{text}</LinkMenuItemA>\n                  </LinkMenuItem>\n                );\n              })}\n            </LinkMenu>\n          </UserOptions>\n          : null}\n\n        {userDrawerBespoke ? userDrawerBespoke : null}\n\n        {hasLogout ?\n          <Logout>\n            <LinkMenu>\n              <LinkMenuItem><LinkMenuItemA onClick={logoutHandler} to={logoutLink}>{logoutText}</LinkMenuItemA></LinkMenuItem>\n            </LinkMenu>\n          </Logout>\n          : null}\n      </DrawerTop>\n      <DrawerBottom>\n        {\n          hasLanguage &&\n            <LanguageMenu onClick={onLanguageToggle}>\n              <IconWrapper>\n                <Icon icon='Language' size={18} color='dimmed' />\n              </IconWrapper>\n              Language / \n            </LanguageMenu>\n        }\n      </DrawerBottom>\n    </Fragment>\n  );\n};\n\nexport default UserMenu;","import React from 'react';\nimport styled from 'styled-components';\nimport { INotificationItem } from '../index';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 18px 20px 12px 20px;\n  height: 122px;\n`;\n\nconst ImgWrapper = styled.div`\n  border-radius: 5px;\n  overflow: hidden;\n  height: 40px;\n  width: 40px;\n  flex-shrink: 0;\n`;\n\nconst EmptyImg = styled.div`\n  background-color: hsl(210, 22%, 91%);\n  width: 100%;\n  height: 100%;\n`;\n\nconst Image = styled.div<{ image?: string }>`\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background-image: url(${p => p.image});\n  background-position: center center;\n  background-size: cover;\n  background-repeat: no-repeat; \n  display: ${p => p.image ? 'block' : 'none'};\n`;\n\nconst InfoContainer = styled.div`\n  margin-left: 20px;\n`;\n\nconst Title = styled.div`\n  font-size: 16px;\n  font-weight: 500;\n  color: hsl(0, 0%, 34%);\n`;\n\nconst Message = styled.div`\n  font-size: 13px;\n  font-weight: 500;\n  overflow: hidden;\n  color: hsl(0, 0%, 34%);\n  margin: 4px 0;\n  height: 30px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n  vertical-align: middle;\n`;\n\nconst TimeMsg = styled.div`\n  font-size: 13px;\n  font-weight: 500;\n  color: hsl(0, 0%, 67%);\n  margin-top: 15px;\n`;\n\n\nconst NotificationItem: React.FC<INotificationItem> = ({ imgUrl, title, message, time }) => {\n  return (\n    <Container>\n      <ImgWrapper>\n        {imgUrl\n          ? <Image image={imgUrl} />\n          : <EmptyImg />}\n      </ImgWrapper>\n      <InfoContainer>\n        <Title>{title}</Title>\n        <Message>{message}</Message>\n        <TimeMsg>{time}</TimeMsg>\n      </InfoContainer>\n    </Container>\n  );\n};\n\nexport default NotificationItem;","import React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport { INotificationsHistory, INotificationItem } from '../index';\nimport NotificationItem from '../atoms/NotificationItem';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StatusContainer = styled.h2`\n    text-transform: uppercase;\n    padding: 10px 0 10px 20px;\n    font-size: 14px;\n    font-weight: 500;\n    color: hsl(0, 0%, 34%);\n    border-bottom: ${({ theme }) => theme.colors.divider} 1px solid;\n    margin: 0;\n`;\n\nconst NotificationWrapper = styled.div`\n  border-bottom: ${({ theme: { colors } }) => colors.divider} 1px solid;\n`;\n\nconst renderNotifications = (items: INotificationItem[], type: string) => (\n  items.map((item, index) => {\n    return (\n      <NotificationWrapper key={`alert-${type}-${index}`}>\n        <NotificationItem {...item} />\n      </NotificationWrapper>);\n  })\n);\n\nconst NotificationsHistory: React.FC<INotificationsHistory> = ({\n  read,\n  unread,\n  noNotificationsText = 'No new notifications',\n  readNotificationsText = 'New',\n  unreadNotificationsText = 'Read',\n\n}) => {\n\n  if ((read.length === 0) && (unread.length === 0)) {\n    return (\n      <Container>\n        <StatusContainer>{noNotificationsText}</StatusContainer>\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      {unread && (\n        <Fragment>\n          <StatusContainer>{readNotificationsText}</StatusContainer>\n          {renderNotifications(unread, 'unread')}\n        </Fragment>\n      )}\n      {read && (\n        <Fragment>\n          <StatusContainer>{unreadNotificationsText}</StatusContainer>\n          {renderNotifications(read, 'read')}\n        </Fragment>\n      )}\n    </Container>\n  );\n};\n\nexport default NotificationsHistory;","import React, { useState } from 'react';\nimport ReactDom from 'react-dom';\nimport styled, { css } from 'styled-components';\n\nimport Icon from '../../Icons/Icon';\nimport StatusIcon from '../../Icons/StatusIcon';\nimport UserMenu from '../molecules/UserMenu';\nimport { ITopBar } from '../index';\nimport NotificationsHistory from './NotificationsHistory';\n\nconst Container = styled.div`\n  z-index: 9;\n  position: sticky;\n  top: 0;\n  align-self: flex-start;\n  height: 65px;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n\n  ${({ theme, theme: { colors } }) => colors && css`\n    border-bottom: ${colors.divider} 1px solid;\n    box-shadow: 5px 7px 10px 0 hsla(205, 16%, 77%, 0.1);\n    background-color:${theme.styles.global.mainMenu.background.backgroundColor};\n  `}\n`;\n\nconst SearchBar = styled.div`\n  margin-left: 25px;\n  flex: 0 1 500px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst IconWrapper = styled.div`\n  flex: 0 40px;\n  width: 5px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  > div {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n`;\n\nconst SearchInput = styled.input`\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  flex: 1;\n  height: 35px;\n  line-height: 35px;\n  border: none;\n  outline: none;\n\n  ${({ theme: { typography } }) => typography.global.topBar.search.value};\n\n  &::placeholder {\n    font-style: italic;\n    ${({ theme: { typography } }) => typography.global.topBar.search.placeholder};\n  }\n`;\n\nconst ButtonArea = styled.div`\n  height: inherit;\n  padding-right: 10px;\n  display: flex;\n`;\n\nconst DrawerToggle = styled.button.attrs({ type: 'button' }) <{ isActive: boolean }>`\n  width: 60px;\n  margin: 0 5px;\n  height: inherit;\n  background: none;\n  border: none;\n  outline: none;\n  cursor: pointer;\n\n  ${({ theme }) => css`\n    border-bottom: 5px solid ${theme.colors.menu.indicator};\n\n    &:hover {\n      border-bottom-color: ${theme.colors.menu.hover};\n    }\n\n    transition: border ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut};\n  `};\n\n  ${({ isActive, theme }) => isActive && css`\n    &, &:hover {\n      border-bottom-color: ${theme.colors.menu.active};\n    }\n  `}\n`;\n\nconst DrawerPortalWrapper = styled.div``;\n\nconst Drawer = styled.div<{ isOpen: boolean, baseWidth?: string }>`\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n\n  position: fixed;\n  right: -10px;\n  top: 65px;\n  bottom: 0;\n  background: ${({ theme }) => theme.styles.global.mainMenu.background};\n  border-left: ${({ theme: { colors } }) => colors.divider} 1px solid;\n  width: ${({ baseWidth }) => baseWidth ? baseWidth : `200px`};\n  opacity: 0;\n  visibility: hidden;\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  ${({ theme }) => css`\n    transition:\n      opacity ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut},\n      right ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut};\n  `};\n\n  ${({ isOpen }) => isOpen && css`\n    right: 0;\n    opacity: 1;\n    visibility: visible;\n  `}\n`;\n\n/**\n * Negative margin hides the scroll;\n * Reviewed on Chrome an Firefox\n */\nconst NotificationsContainer = styled.div`\n    overflow-y: scroll;\n    margin-right: -17px;\n`;\n\ntype IDrawerKeys = 'user' | 'notifications' | 'custom' | null;\n\n\nconst TopBar: React.FC<ITopBar> = ({\n  hasNotifications = false,\n  hasLanguage = false,\n  hasLogout = true,\n  logoutLink = '/logout',\n  logoutText = 'Logout',\n  hasSearch = false,\n  hasCurrentUser = true,\n  currentUserText = 'Current User',\n  accountOptionText = 'Account Options',\n  searchPlaceholder = 'Search for devices, analysis tasks, etc.',\n  userSubmenu = [],\n  userDrawerBespoke,\n  loggedInUser,\n  notificationsHistory,\n  customDrawer,\n  onLogout = () => { },\n  onLanguageToggle = () => { }\n}) => {\n\n  const [openDrawer, setOpenDrawer] = useState<IDrawerKeys>(null);\n\n  const toggleDrawers = (drawerKey: IDrawerKeys) => {\n    setOpenDrawer(\n      prevDrawer => {\n        // if prevDrawer is open, just update to null to close\n        if (prevDrawer === drawerKey) {\n          return null;\n        }\n\n        return drawerKey;\n      }\n    );\n  };\n\n  return (\n    <Container>\n      {hasSearch ?\n        <SearchBar>\n          <IconWrapper>\n            <Icon icon='Search' size={18} color='dimmed' />\n          </IconWrapper>\n          <SearchInput placeholder={searchPlaceholder} />\n        </SearchBar> : <div />}\n\n      <ButtonArea>\n        {customDrawer && (\n          <DrawerToggle isActive={openDrawer === 'custom'} onClick={() => toggleDrawers('custom')}>\n            <StatusIcon {...customDrawer} />\n          </DrawerToggle>\n        )}\n        {hasNotifications && (\n          <DrawerToggle isActive={openDrawer === 'notifications'} onClick={() => toggleDrawers('notifications')}>\n            <Icon icon='Notifications' size={18} color='dimmed' />\n          </DrawerToggle>\n        )}\n        <DrawerToggle isActive={openDrawer === 'user'} onClick={() => toggleDrawers('user')}>\n          <Icon icon='UserProfile' size={18} color='dimmed' />\n        </DrawerToggle>\n      </ButtonArea>\n\n      {ReactDom.createPortal(\n        <DrawerPortalWrapper>\n          {/* User Menu */}\n          <Drawer isOpen={openDrawer === 'user'}>\n            <UserMenu {...{\n              hasLanguage,\n              hasLogout,\n              logoutLink,\n              logoutText,\n              hasCurrentUser,\n              currentUserText,\n              accountOptionText,\n              userSubmenu,\n              userDrawerBespoke,\n              loggedInUser,\n              onLogout,\n              onLanguageToggle\n            }}\n            />\n          </Drawer>\n\n          {/* Notifications */}\n          {hasNotifications ?\n            <Drawer isOpen={openDrawer === 'notifications'} baseWidth='300px'>\n              <NotificationsContainer>\n                {notificationsHistory ? <NotificationsHistory {...notificationsHistory} /> : null}\n              </NotificationsContainer>\n            </Drawer> : null}\n\n          {customDrawer && (\n            <Drawer isOpen={openDrawer === 'custom'} baseWidth={customDrawer.width ? customDrawer.width : \"200px\"}>\n              {customDrawer.customComponent}\n            </Drawer>\n          )}\n        </DrawerPortalWrapper>, document.body)}\n    </Container>\n  );\n\n};\n\nexport default TopBar;","import React, { useState, HTMLAttributes } from 'react';\n\nexport interface ContextProps {\n  selected: string,\n  setSelected: (value: string) => void\n}\nexport const TabContext = React.createContext<ContextProps>({\n  selected: '',\n  setSelected: () => { }\n});\n\ntype Props = HTMLAttributes<HTMLDivElement>\n\nconst Tabs: React.FC<Props> = ({ children }) => {\n  const [selected, setSelected] = useState('');\n\n  return (\n    <TabContext.Provider value={{ selected, setSelected }}>\n      {children}\n    </TabContext.Provider>\n  );\n};\n\nexport { Tabs };","import React, { useContext, useEffect, HTMLAttributes } from 'react';\nimport styled from 'styled-components';\nimport { TabContext, ContextProps } from './Tabs';\n\nexport const TabListWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\ninterface OwnProps {\n  defaultTabId: string\n}\n\ntype Props = OwnProps & HTMLAttributes<HTMLDivElement>\n\nconst TabList: React.FC<Props> = ({ children, defaultTabId}) => {\n  const { setSelected }: ContextProps = useContext(TabContext);\n\n  useEffect(() => {\n    setSelected(defaultTabId);\n  }, [defaultTabId, setSelected]);\n\n  return (\n    <TabListWrapper>\n      {children}\n    </TabListWrapper>\n  );\n};\n\nexport { TabList };","import React, { useContext, HTMLAttributes, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport { TabContext, ContextProps } from '../Tabs';\n\nconst TabComponent = styled.div`\n  margin-right: 39px;\n  display: flex;\n  align-items: center;\n  line-height: 20px;\n`;\n\nconst TabLabel = styled.label<{ active: boolean }>`\n  height: 40px;\n  ${({theme}) => css`\n    font-family: ${theme.fontFamily.ui};\n  `}\n  font-size: 15px;\n  font-weight: ${({ active }) => active ? '600' : '500'};\n  letter-spacing: 0.09px;\n  color: ${({ active }) => active ? '#0097ce' : '#787878'};\n  cursor: pointer;\n  border-bottom: ${({ active }) => active ? '2px solid #0097ce' : '2px solid transparent'};\n  padding-top: 6px;\n  padding-bottom: 14px;\n  flex-shrink: 0;\n`;\n\ninterface OwnProps {\n  tabFor: string\n}\n\ntype Props = OwnProps & HTMLAttributes<HTMLDivElement>\n\nconst Tab: React.FC<Props> = ({ children, tabFor, onClick, ...props }) => {\n  const { selected, setSelected }: ContextProps = useContext(TabContext);\n\n  const onChangeTab = useCallback((event:React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    onClick && onClick(event);\n    setSelected(tabFor);\n  }, [onClick, setSelected, tabFor]);\n\n  return (\n    <TabComponent {...props} onClick={onChangeTab}>\n      <TabLabel active={selected === tabFor}>\n        {children}\n      </TabLabel>\n    </TabComponent>\n  );\n};\n\nexport { Tab };","import React, { useContext, HTMLAttributes } from 'react';\nimport styled from 'styled-components';\nimport { TabContext, ContextProps } from './Tabs';\n\nconst Container = styled.div`\n`;\n\ninterface OwnProps {\n  tabId: string\n}\n\ntype Props = OwnProps & HTMLAttributes<HTMLDivElement>\n\nconst TabContent: React.FC<Props> = ({ children, tabId, ...props }) => {\n  const { selected }: ContextProps = useContext(TabContext);\n\n  return (\n    selected === tabId ?\n      <Container {...props}>\n        {children}\n      </Container> :\n      null\n  );\n};\n\nexport { TabContent };","import React, { useContext, useCallback } from 'react';\nimport styled, { css } from 'styled-components';\nimport { TabContext, ContextProps } from '../Tabs';\nimport { IconWrapper } from '../../Icons/Icon';\nimport StatusIcon from '../../Icons/StatusIcon';\nimport { resetButtonStyles } from '../../common/index';\nimport { IStatusDot } from '../..';\n\nconst Container = styled.button`\n  ${resetButtonStyles}\n  flex-basis: auto;\n  flex-grow: 1;\n`;\n\nconst LinkTab = styled.div<{ isActive: boolean }>`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100%;\n\n  ${({ theme }) => css`\n    transition: border ${theme.animation.speed.normal} ${theme.animation.easing.primary.easeInOut};\n    border-bottom: 5px solid ${theme.colors.menu.indicator};\n\n    ${IconWrapper} {\n      [stroke]{\n        stroke: ${theme.colors.icons['dimmed']};\n      }\n    }\n\n    &:hover {\n      border-bottom-color: ${theme.colors.menu.hover};\n      ${IconWrapper} {\n        [stroke]{\n          stroke: ${theme.colors.menu.hover};\n        }\n      }\n    }\n  `};\n\n  ${({ isActive, theme }) => isActive && css`\n    &, &:hover {\n      border-bottom-color: ${theme.colors.menu.active};\n      ${IconWrapper} {\n        [stroke]{\n          stroke: ${theme.colors.menu.active};\n        }\n      }\n    }\n  `}\n`;\n\ninterface IMobileTab {\n  tabFor: string\n  icon: string\n  closeId: string\n  counter?: number\n  status?: IStatusDot\n}\n\nconst MobileTab: React.FC<IMobileTab> = ({ tabFor, icon, closeId, counter, status, ...props }) => {\n  const { selected, setSelected }: ContextProps = useContext(TabContext);\n\n  const onChangeTab = useCallback((tabId: string) => {\n    const newValue = (selected === tabId) ? closeId : tabId;\n    setSelected(newValue);\n  }, [closeId, selected, setSelected]);\n\n  return (\n    <Container {...props} onClick={() => onChangeTab(tabFor)}>\n      <LinkTab isActive={selected === tabFor}>\n        <StatusIcon {...{icon, status, counter}} />\n      </LinkTab>\n    </Container>\n  );\n};\n\nexport { MobileTab };","import React, { useContext, useCallback } from 'react';\nimport { TabContext, ContextProps } from '../Tabs';\nimport styled, { css } from 'styled-components';\nimport Icon, { IconWrapper } from '../../Icons/Icon';\n\nconst Container = styled.div<{ active: boolean }>`\n  display: flex;\n  align-items: center;\n  margin-right: 22px;\n  padding-bottom: 7px;\n  height: 60px;\n  cursor: pointer;\n\n  ${({ active }) => active ? css`\n    border-bottom: 3px solid hsl(196, 100%, 40%);\n    `\n    : css`\n    border-bottom: 3px solid transparent;\n  `};\n  ${IconWrapper} {\n    margin-left: 2px;\n    flex-shrink: 0;\n  }\n`;\n\nconst Title = styled.div<{ active: boolean }>`\n  font-size: 14px;\n  font-family: ${({ theme }) => theme.fontFamily.ui};\n  letter-spacing: 0.09px;\n  font-weight: 500;\n  color: ${({ active }) => active ? 'hsl(196, 100%, 40%)' : 'hsl(0, 0%, 46%)'};\n  margin-bottom: 5px;\n  flex-shrink: 0;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\n\nconst SubTitle = styled.div`\n  font-size: 12px;\n  font-family: ${({ theme }) => theme.fontFamily.data};\n  font-style: italic;\n  color: hsla(195, 10%, 52%, 0.72);\n  flex-shrink: 0;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\n\nconst TextGroup = styled.div`\n  margin-left: 12px;\n  margin-right: 20px;\n`;\n\nexport interface ITabWithIcon {\n  icon: string\n  title: string\n  subtitle?: string\n  tabFor: string\n}\n\nconst TabWithIcon: React.FC<ITabWithIcon> = ({ icon, title, subtitle, tabFor, ...props }) => {\n\n  const { selected, setSelected }: ContextProps = useContext(TabContext);\n\n  const onChangeTab = useCallback((tabId: string) => {\n    setSelected(tabId);\n  }, [setSelected]);\n\n  const active = selected === tabFor;\n\n  return (\n    <Container {...{ active }} {...props} onClick={() => onChangeTab(tabFor)}>\n      <Icon {...{ icon }} weight='regular' size={15} color={active ? 'primary' : 'dimmed'} />\n      <TextGroup>\n        <Title {...{ active }}>{title}</Title>\n        {subtitle && <SubTitle>{subtitle}</SubTitle>}\n      </TextGroup>\n    </Container>\n  );\n};\n\nexport { TabWithIcon };","import React, { ReactElement } from 'react';\nimport styled from 'styled-components';\nimport { Tabs } from '../Tabs';\nimport { TabList } from '../TabList';\nimport { TabContent } from '../TabContent';\nimport { TabWithIcon, ITabWithIcon } from '../atoms/TabWithIcon';\n\nconst Container = styled.div``;\n\nconst TabListWrapper = styled.div<{ paddingLeft?: string }>`\n  padding-top: 10px;\n  padding-left: ${({ paddingLeft }) => paddingLeft ? paddingLeft : '87px'};\n  box-shadow: 0 -5px 5px 0 hsla(0, 0%, 0%, 0.01);\n  border-bottom: 1px solid hsl(0, 0%, 89%);\n  overflow-y: auto;\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none;  /* Internet Explorer 10+ */\n    &::-webkit-scrollbar { /* WebKit */\n    width: 0;\n    height: 0;\n  }\n`;\n\nexport interface ITabIcon extends ITabWithIcon {\n  customComponent?: ReactElement\n}\n\nexport interface ITabsWithIconBar {\n  defaultTabId: string\n  tabList: ITabIcon[]\n  paddingLeft?: string\n}\n\nconst TabsWithIconBar: React.FC<ITabsWithIconBar> = ({ defaultTabId, tabList, paddingLeft }) => {\n\n  return (\n    <Container>\n      <Tabs>\n        <TabListWrapper {...{ paddingLeft }}>\n          <TabList {...{ defaultTabId }}>\n            {tabList.map(({ icon, title, subtitle, tabFor }) => {\n              return (\n                <TabWithIcon key={`tabWithIcon-${tabFor}`} {...{ icon, title, subtitle, tabFor }} />\n              );\n            })}\n          </TabList>\n        </TabListWrapper>\n\n        {tabList.map(({ tabFor, customComponent }) => {\n          return (\n            <TabContent key={`TabContent-${tabFor}`} tabId={tabFor}>{customComponent}</TabContent>\n          );\n        }\n        )}\n      </Tabs>\n    </Container>\n  );\n};\n\nexport { TabsWithIconBar };","import React, { ButtonHTMLAttributes, useContext } from 'react';\nimport { TabContext, ContextProps } from '../../Tabs/Tabs';\nimport styled, {css} from 'styled-components';\nimport { resetButtonStyles } from '../../common/index';\nimport Icon from '../../Icons/Icon';\nimport { MOBILE_CLOSE_HEIGHT } from './Layout';\n\nconst StyledButton = styled.button`\n  ${resetButtonStyles}\n\n  ${({theme}) => css`\n    font-family: ${theme.fontFamily.ui};\n    ${theme.typography.global.mainMenu.menuItem.default};\n    ${theme.styles.global.mainMenu.background};\n    border-top: 1px solid ${theme.colors.divider};\n  `};\n  \n  height: ${MOBILE_CLOSE_HEIGHT}px;\n  position: fixed;\n  bottom: 0;\n  font-size: 14px;\n  outline: none;\n\n  width: 100%;\n  text-align: center;\n  white-space: nowrap;\n  padding: 0 40px;\n\n`;\n\nconst IconContainer = styled.div`\n  height: inherit;\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  overflow: hidden;\n  margin: 0 20px;\n\n  svg {\n    display:block;\n  }\n`;\n\nconst TextWrapper = styled.div`\n  text-transform: uppercase;\n`;\n\ninterface ICloseProps {\n  closeId: string\n  closeText?: string\n}\n\ntype IClose = ICloseProps & ButtonHTMLAttributes<HTMLButtonElement>\n\nconst CloseButton: React.FC<IClose> = ({\n  closeId,\n  closeText = 'CLOSE MENU',\n  ...props }) => {\n  const { setSelected }: ContextProps = useContext(TabContext);\n\n  return (\n    <StyledButton\n      onClick={() => setSelected(closeId)}\n      {...props}\n    >\n      <IconContainer>\n        <Icon icon='CloseCompact' color='dimmed' size={16} />\n      </IconContainer>\n      <TextWrapper>{closeText}</TextWrapper>\n    </StyledButton>\n  );\n};\n\nexport default CloseButton;","import React, {useContext} from 'react';\nimport styled from 'styled-components';\nimport { TabContext, ContextProps } from '../../Tabs/Tabs';\n\nimport { MOBILE_NAVBAR_HEIGHT, MOBILE_CLOSE_HEIGHT } from '../atoms/Layout';\n\n//\n// Containers height is full height but header and close button\n//\n\nconst Container = styled.div`\n  position: relative;\n  min-height: calc(100vh - ${MOBILE_NAVBAR_HEIGHT + MOBILE_CLOSE_HEIGHT }px);\n  width: 100%;\n  overflow-y: scroll;\n`;\n\nconst ContentWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n`;\n\ninterface OwnProps {\n  closeId: string\n}\n\nconst MobileNavbarContent: React.FC<OwnProps> = ({ closeId, children }) => {\n  const { selected }: ContextProps = useContext(TabContext);\n\n  return (\n    selected === closeId\n      ? null\n      : (\n        <Container>\n          <ContentWrapper>\n            {children}\n          </ContentWrapper>\n        </Container>\n        )\n  );\n};\n\nexport default MobileNavbarContent;","import React, { useCallback, useState, useContext } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useLocation } from 'react-router-dom';\nimport { TabContext, ContextProps } from '../../Tabs/Tabs';\n\nimport { IMenu } from '..';\nimport NavigationItem from '../atoms/NavigationItem';\nimport ContextItem from '../atoms/ContextItem';\nimport { getTopLevelPath } from '../../helpers/index';\n\nconst Container = styled.div``;\n\nconst ItemWrapper = styled.div`\n  padding: 14px 0;\n  ${({ theme }) => css`\n    border-bottom: 1px solid ${theme.colors.divider}\n  `};\n`;\n\ninterface IMobileMenu extends IMenu {\n  closeId: string\n}\n\nconst MobileMenu: React.FC<IMobileMenu> = ({\n  content,\n  supportUrl,\n  closeId\n}) => {\n\n  const [loading, setLoading] = useState<boolean>(true);\n  const [focusedContext, setFocusedContext] = useState<number>(0);\n  const location = useLocation();\n  let checkedInItems: number = 0;\n  const { setSelected }: ContextProps = useContext(TabContext);\n\n\n  /** Manage which context is open. \n   * -1 is the value of a sub menu\n   * In this mobile version of the menu will close after selecting an option\n   * It will not close if the menu has a submenu to allow it to display the options\n  */\n  const setFocusedContextCb = useCallback(contextKey => {\n    if((contextKey === -1) || (!content.items[contextKey].submenu) ){\n      setSelected(closeId);\n    }\n\n    if(contextKey === -1) { return; }\n\n    setFocusedContext(focusedContext !== contextKey ? contextKey : -1);\n\n  }, [closeId, content.items, focusedContext, setSelected]);\n\n  /** Manage the loading cycle. */\n  const readyCallback = useCallback(() => {\n    // Basic count of menu items (that need to measure height) that have checked in.\n    checkedInItems++;\n    if (checkedInItems === content.items.length) {\n      setLoading(false);\n    }\n  }, [checkedInItems, content.items.length]);\n\n  const handleCloseMenu = useCallback(() => {\n    setSelected(closeId);\n  },[closeId, setSelected]);\n\n  return (\n    <Container>\n      {content.items.map((item, key) => {\n        return (\n          <ItemWrapper key={key} data-key={key}>\n            <NavigationItem\n              minHeight={30}\n              topLevelPath={getTopLevelPath(location.pathname)}\n              contextKey={key}\n              menuOpen\n              submenuOpen={key === focusedContext}\n              onClickCallback={setFocusedContextCb}\n              {...{ item, loading, focusedContext, readyCallback }}\n            />\n          </ItemWrapper>\n\n        );\n      })}\n      {supportUrl && (\n        <ItemWrapper>\n          <ContextItem\n            compact\n            isActive={false}\n            icon='Question'\n            title='Help &amp; Support'\n            href={supportUrl}\n            menuOpen\n            onClickCallback={handleCloseMenu}\n          />\n        </ItemWrapper>)}\n    </Container>\n  );\n};\n\nexport default MobileMenu;","import React, { useContext } from 'react';\nimport styled from 'styled-components';\nimport { TabContext, ContextProps } from '../../Tabs/Tabs';\n\nimport SvgLogoMark from '../../svg/LogoMark';\nimport {resetButtonStyles} from '../../common/index';\nimport { Link } from 'react-router-dom';\n\nconst Logo = styled(Link)`\n  ${resetButtonStyles};\n  display: flex;\n  flex-basis: 0;\n  flex-grow: 1;\n  justify-content: center;\n  align-items: center;\n  object {\n    pointer-events: none;\n    height: 25px;\n  }\n`;\nconst LogoMark = styled.div`\n  margin-right: 15px;\n`;\n\nconst SVGObject = styled.object``;\n\ninterface ILogoLink {\n  closeId: string\n  logoMark?: string,\n  home?: string,\n}\n\nconst MobileLogoLink:  React.FC<ILogoLink> = ({\n  home = \"/\",\n  logoMark,\n  closeId,\n}) => {\n  const { setSelected }: ContextProps = useContext(TabContext);\n\n  return(\n    <Logo to={home} onClick={() => setSelected(closeId)}>\n      <LogoMark>{logoMark ? <SVGObject type='image/svg+xml' data={logoMark} /> : <SvgLogoMark />}</LogoMark>\n    </Logo>\n  );\n};\n\nexport default MobileLogoLink;","import React, { useCallback, useContext } from 'react';\nimport styled from 'styled-components';\nimport UserMenu from '../molecules/UserMenu';\nimport { ITopBar } from '../index';\nimport { TabContext, ContextProps } from '../../Tabs/Tabs';\n\nconst Container = styled.div`\n  background: ${({ theme }) => theme.styles.global.mainMenu.background};\n  z-index: 100;\n  display: flex;\n  flex-direction: column;\n`;\n\ninterface IMobileUserMenu extends ITopBar {\n  closeId: string\n}\n\nconst MobileUserMenu: React.FC<IMobileUserMenu> = ({\n  closeId,\n  hasLanguage,\n  hasLogout,\n  logoutLink,\n  hasCurrentUser,\n  userSubmenu,\n  userDrawerBespoke,\n  loggedInUser,\n  onLogout,\n  onLanguageToggle\n}) => {\n  const { setSelected }: ContextProps = useContext(TabContext);\n\n  const handleCloseMenu = useCallback(() => {\n    setSelected(closeId);\n  },[closeId, setSelected]);\n\n  return (\n    <Container>\n      <UserMenu\n        {...{\n        hasLanguage,\n        hasLogout,\n        logoutLink,\n        hasCurrentUser,\n        userSubmenu,\n        userDrawerBespoke,\n        loggedInUser,\n        onLogout,\n        onLanguageToggle,\n      }}\n        closeOnClick={handleCloseMenu}\n      />\n    </Container>\n  );\n};\n\nexport default MobileUserMenu;","import React from 'react';\nimport styled from 'styled-components';\nimport { Tabs, TabContent, MobileTab } from '../../Tabs/index';\nimport { TabListWrapper, TabList } from '../../Tabs/TabList';\nimport { IMenu, ITopBar, INotificationsHistory } from '..';\nimport CloseButton from '../atoms/CloseButton';\nimport MobileNavbarContainer from '../atoms/MobileNavbarContent';\nimport MobileMenu from './MobileMenu';\nimport MobileLogoLink from '../atoms/MobileLogoLink';\nimport MobileUserMenu from '../molecules/MobileUserMenu';\nimport NotificationsHistory from '../molecules/NotificationsHistory';\nimport { MOBILE_NAVBAR_HEIGHT } from '../atoms/Layout';\n\nconst CLOSE_ID = 'closeMenu';\nconst NOTI_TAB = 'notifications';\nconst USER_TAB= 'user';\nconst MENU_TAB = 'menu';\nconst CUSTOM_TAB = 'custom';\n\nconst Container = styled.nav`\n  background-color: ${({theme}) => theme.styles.global.mainMenu.background.backgroundColor};\n  position: sticky;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 99;\n`;\n\nconst HeaderContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: ${MOBILE_NAVBAR_HEIGHT}px;\n  border-bottom: ${({theme}) => theme.colors.divider} 1px solid;\n\n  ${TabListWrapper} {\n    flex-basis: 0;\n    flex-grow: 3;\n  }\n`;\n\ninterface OwnProps {\n  closeText?: string\n  notificationsHistory?: INotificationsHistory\n}\n\ntype IMobileNavbar = OwnProps & IMenu & ITopBar;\n\nconst MobileNavbar: React.FC<IMobileNavbar> = ({\n  content,\n  home,\n  logoMark,\n  supportUrl,\n  defaultMenuOpen = true,\n  closeText,\n  hasLanguage,\n  hasLogout,\n  logoutLink,\n  hasCurrentUser,\n  hasNotifications,\n  userSubmenu,\n  userDrawerBespoke,\n  loggedInUser,\n  notificationsHistory,\n  customDrawer,\n  onLogout,\n  onLanguageToggle,\n}) => {\n\n  return (\n    <Container>\n      <Tabs>\n        <HeaderContainer>\n          <MobileLogoLink {...{ home, logoMark }} closeId={CLOSE_ID} />\n          <TabList defaultTabId={CLOSE_ID}>\n            {customDrawer && <MobileTab {...customDrawer} tabFor={CUSTOM_TAB} closeId={CLOSE_ID} />}\n            {hasNotifications? <MobileTab tabFor={NOTI_TAB} icon='Notifications' closeId={CLOSE_ID} /> : null}\n            <MobileTab tabFor={USER_TAB} icon='UserProfile' closeId={CLOSE_ID} />\n            <MobileTab tabFor={MENU_TAB} icon='Menu' closeId={CLOSE_ID} />\n          </TabList>\n        </HeaderContainer>\n        <MobileNavbarContainer closeId={CLOSE_ID}>\n          <TabContent tabId={CUSTOM_TAB}>\n            {customDrawer && customDrawer.customComponent}\n          </TabContent>\n          <TabContent tabId={NOTI_TAB}>\n            {notificationsHistory && hasNotifications ? <NotificationsHistory {...notificationsHistory} /> : null}\n          </TabContent>\n          <TabContent tabId={USER_TAB}>\n            <MobileUserMenu\n              {...{\n              hasLanguage,\n              hasLogout,\n              logoutLink,\n              hasCurrentUser,\n              userSubmenu,\n              userDrawerBespoke,\n              loggedInUser,\n              onLogout,\n              onLanguageToggle\n            }}\n              closeId={CLOSE_ID}\n            />\n\n          </TabContent>\n          <TabContent tabId={MENU_TAB}>\n            <MobileMenu {...{ content, supportUrl, defaultMenuOpen }} closeId={CLOSE_ID} />\n          </TabContent>\n          <CloseButton {...{ closeText }} closeId={CLOSE_ID} />\n        </MobileNavbarContainer>\n      </Tabs>\n    </Container>\n  );\n};\n\nexport default MobileNavbar;","import React from 'react';\nimport { IMenu, ITopBar} from '..';\nimport { Layout, MainContainer, ContentArea, MobileLayout } from '../atoms/Layout';\nimport MainMenu from '../organisms/MainMenu';\nimport TopBar from '../molecules/TopBar';\nimport MobileNavbar from '../organisms/MobileNavbar';\nimport useBreakpoints from '../../hooks/useBreakpoints';\n\n\ninterface OwnProps {\n  maxWidth?: string,\n  paddingOverride?: string\n}\n\ntype INavigation = OwnProps & IMenu & ITopBar;\n\nconst GlobalUI: React.FC<INavigation> = ({\n  content,\n  home,\n  openWidth,\n  logoMark,\n  logoText,\n  supportUrl,\n  defaultMenuOpen,\n  canAlwaysPin,\n  paddingOverride,\n  maxWidth,\n  children,\n  ...props\n}) => {\n\n  const { isLarge } = useBreakpoints();\n\n  return (\n    isLarge\n    ? (\n      <Layout>\n        <MainMenu {...{\n            content,\n            home,\n            openWidth,\n            logoMark,\n            logoText,\n            supportUrl,\n            defaultMenuOpen,\n            canAlwaysPin}\n          }\n        />\n        <MainContainer>\n          <TopBar\n            {...{...props}}\n          />\n          <ContentArea {...{maxWidth, paddingOverride}}>\n            {children}\n          </ContentArea>\n        </MainContainer>\n      </Layout>\n    )\n    : (\n      <MobileLayout>\n        <MobileNavbar\n          {...{\n            content,\n            home,\n            logoMark,\n            supportUrl,\n            defaultMenuOpen,\n            ...props\n            }\n          }\n        />\n        <ContentArea>\n          {children}\n        </ContentArea>\n      </MobileLayout>\n    )\n  );\n};\n\nexport default GlobalUI;","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nconst Container = styled.div`\n  width: 286px;\n  border-right: 1px solid hsla(0, 0%, 84%, 50%);\n  height: 100%;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n`;\nconst LogoContainer = styled.div`\n  height: 84px;\n  color: hsl(205, 7%, 35%);\n  border-bottom: 1px solid hsla(0, 0%, 84%, 50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-top: 18px;\n  padding-bottom: 15px;\n`;\nconst LogoTopText = styled.div`\n  height: 31px;\n  font-family: Monorale;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 1.72;\n  letter-spacing: 4.5px;\n  text-align: center;\n`;\nconst LogoBottomText = styled.div`\n  height: 19px;\n  font-family: Monorale;\n  font-size: 16px;\n  font-weight: 300;\n  line-height: normal;\n  letter-spacing: 14.11px;\n  text-align: center;\n`;\n\nexport const SidebarBox = styled.div`\n  position: relative;\n  border-bottom: 1px solid hsla(0, 0%, 84%, 50%);\n  padding: 22px 20px 21px 20px;\n`;\nexport const SidebarHeading = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.35px;\n  color: hsl(0, 0%, 50%);\n  margin-bottom: 18px;\n`;\n\nexport const SidebarLinkHeading = styled.div`\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.35px;\n  color: hsl(0, 0%, 50%);\n`;\n\nexport const BackLink = styled(Link)`\n  font-size: 14px;\n  font-weight: 500;\n  letter-spacing: 0.35px;\n  color: hsl(0, 0%, 50%);\n`;\n\nconst SLink = styled(Link)`\n  position: absolute;\n  right: 30px;\n  top: 15px;\n  /* width: 80px; */\n  /* height: 30px; */\n  font-size: 14px;\n  font-weight: 600;\n  text-align: center;\n  color: hsl(0, 0%, 55%);\n  border-radius: 3px;\n  background-color: hsl(206, 70%, 96%);\n  text-decoration: none;\n  padding: 7px 20px;\n`;\n\nexport const SidebarLink : React.FC<{title: string; to: string}> = ({title,to}) => {\n  return (\n    <SidebarBox>\n      <SidebarLinkHeading>{title}</SidebarLinkHeading>\n      <SLink to={to}>Setup</SLink>\n    </SidebarBox>\n  );\n};\n\ninterface LogoProps{\n  logoTextTop: string;\n  logoTextBottom: string;\n}\n\nexport const Logo: React.FC<LogoProps> = ({logoTextTop,logoTextBottom}) => (\n  <LogoContainer>\n    <LogoTopText>{logoTextTop}</LogoTopText>\n    <LogoBottomText>{logoTextBottom}</LogoBottomText>\n  </LogoContainer>\n);\n\n\nconst Sidebar: React.FC = ({children,...props}) => {\n  return (\n    <Container {...props}>\n      {children}\n    </Container>\n  );\n};\n\nexport default Sidebar;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Form, TextField, PasswordField, PageHeader } from 'scorer-ui-kit';\n\nconst Container = styled.div`\n    margin: 100px 200px;\n`\n\nconst FormPage : React.FC = () => {\n  return <Container>\n    <PageHeader title={\"Input State Examples\"} areaTitle={'Forms'} areaHref={'/'} />\n    <Form>\n      <TextField name={'my_field'} label={'Basic'} placeholder={'Placeholder...'} fieldState={ 'default' } />\n      <TextField name={'my_field'} label={'Required'} placeholder={''} fieldState={ 'required' } />\n      <TextField name={'my_field'} label={'Loading'} placeholder={''} fieldState={ 'processing' } />\n      <TextField name={'my_field'} label={'Valid'} placeholder={''} fieldState={ 'valid' } />\n      <TextField name={'my_field'} label={'Error'} placeholder={''} fieldState={ 'invalid' } />\n      <TextField name={'my_field'} label={'Error'} placeholder={''} fieldState={ 'invalid' } feedbackMessage={'Error: Oh noes!!!'}/>\n      <PasswordField name={'my_field'} label={'My Field'} placeholder={''} fieldState={ 'default' } />\n    </Form>\n  </Container>\n};\n\nexport default FormPage;","import React, { useReducer, useCallback, useEffect, useState } from 'react';\n// import styled from 'styled-components';\nimport {\n  LineReducer,\n  LineSetContext,\n  Sidebar,\n  SidebarBox,\n  Layout,\n  Content,\n  LineUI,\n  Logo,\n  Button,\n  TextField,\n  Label,\n  Input\n} from 'scorer-ui-kit';\nimport { IPointSet, LineUIOptions } from '../../../dist/LineUI';\n\nconst Line: React.FC<{}> = () => {\n  const [state, dispatch] = useReducer(LineReducer, []);\n  const [error] = useState<string | null>('');\n\n  const [options, setOptions] = useState<LineUIOptions>({\n    showSetIndex: true,\n    pointIndexOffset: 1,\n    showPointLabel: true,\n    setIndexOffset: 1,\n    showMoveHandle: true,\n    fixedImgDimensions: {\n      x: 2310,\n      y: 1535\n    },\n    boundaryOffset: 0,\n    showDirectionMark: true\n  });\n\n  const fetchLine = useCallback(async () => {\n\n    const state: IPointSet[] = [{\n      name: 'Line 1',\n      points: [\n          {\n            x: 600,\n            y: 200\n          },\n          {\n            x: 1100,\n            y: 450\n          }\n        ],\n        readOnly: false,\n        styling: 'primary'\n      }\n    ];\n\n    dispatch({\n      type: 'LOAD',\n      state\n    });\n  }, []);\n\n  const fetchDirectionLine = useCallback(async () => {\n\n    const state: IPointSet[] = [{\n      name: 'UP',\n      points: [\n          {\n            x: 343,\n            y: 281\n          },\n          {\n            x: 898,\n            y: 389\n          }\n        ],\n        readOnly: false,\n        styling: 'primary'\n      },\n      {\n        name: 'DOWN',\n        points: [\n          {\n            x: 841,\n            y: 700\n          },\n          {\n            x: 256,\n            y: 576\n          }\n          ],\n          readOnly: false,\n          styling: 'primary'\n        }\n    ];\n\n    dispatch({\n      type: 'LOAD',\n      state\n    });\n  }, []);\n\n  const renameLine = useCallback( ({target: {value}}: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({\n      type: 'RENAME_SET',\n      index: 0,\n      data: {\n        name: value\n      }\n    });\n  }, []);\n\n  const renamePointLine = useCallback( (lineIndex: number, {target: {value}}: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch({\n      type: 'RENAME_SET',\n      index: lineIndex,\n      data: {\n        name: value\n      }\n    });\n  }, []);\n\n  const toggleReadOnly = useCallback((index=0) => () => {\n    dispatch({\n      type: 'UPDATE_SET_OPTIONS',\n      index,\n      data: {\n        readOnly: !(state[0]?.readOnly)\n      }\n    });\n  }, [state]);\n\n  const toggleOptions = useCallback((option: keyof LineUIOptions) => () => {\n    setOptions({...options, [option]: !options[option]});\n  }, [options]);\n\n  // const saveLine = useCallback(async () => {\n  // }, []);\n\n  useEffect(() => {\n    options.showDirectionMark ? fetchDirectionLine() : fetchLine();\n  }, [fetchLine, fetchDirectionLine, options])\n\n  const updateBoudaryOffset =  useCallback( ({target: {value}}: React.ChangeEvent<HTMLInputElement>) => {\n    setOptions({...options, boundaryOffset: parseInt(value) });\n  }, [options]);\n\n  return (\n    <Layout >\n      <Sidebar>\n        <Logo logoTextTop={'SCORER'} logoTextBottom={'UI Kit'} />\n        <SidebarBox style={{ flex: '1' }} >\n          <pre>\n            {JSON.stringify(state, null, 2)}\n          </pre>\n        </SidebarBox>\n        <SidebarBox>\n          <Label labelText='Show Point Handle' htmlFor='showPointHandle' >\n            <input type='checkbox' name='showPointHandle' checked={options.showPointHandle} onChange={toggleOptions('showPointHandle')}/>\n          </Label>\n          <Label labelText='Show Move Handle' htmlFor='showMoveHandle' >\n            <input type='checkbox' name='showMoveHandle' checked={options.showMoveHandle} onChange={toggleOptions('showMoveHandle')}/>\n          </Label>\n          <Label labelText='Show Point' htmlFor='showPoint' >\n            <input type='checkbox' name='showPoint' checked={options.showPoint} onChange={toggleOptions('showPoint')}/>\n          </Label>\n          <Label labelText='Show Direction Mark' htmlFor='showDirectionMark' >\n            <input type='checkbox' name='showDirectionMark' checked={options.showDirectionMark} onChange={toggleOptions('showDirectionMark')}/>\n          </Label>\n        </SidebarBox>\n        <SidebarBox>\n          { options.showDirectionMark ?\n            <>\n              <TextField label='Rename UP Line' fieldState='default' name='renameLine1' value={state[0]?.name ||''} onChange={(e) => renamePointLine(0, e)} />\n              <TextField label='Rename DOWN Line' fieldState='default' name='renameLine2' value={state[1]?.name ||''} onChange={(e) => renamePointLine(1, e)} />\n            </>\n            :\n            <TextField label='Rename Line' fieldState='default' name='rename' value={state[0]?.name ||''} onChange={renameLine}/>\n          }\n          <Label labelText='Boundary Offset' htmlFor='boundaryOffset' >\n            <Input type='number' name='boundaryOffset' min={0} value={options.boundaryOffset} onChange={updateBoudaryOffset}/>\n          </Label>\n        </SidebarBox>\n        <SidebarBox>\n          <Button design=\"secondary\" onClick={toggleReadOnly()} >Toggle Read Only</Button>\n          {/* <Button style={{ marginLeft: '10px' }} onClick={saveLine}>Save</Button> */}\n        </SidebarBox>\n      </Sidebar>\n      <Content padBottom={false}>\n        {error && <div>{error}</div>}\n        <LineSetContext.Provider value={{ state, dispatch }}>\n          <LineUI options={options} src=\"https://i.picsum.photos/id/1026/4621/3070.jpg?hmac=OJ880cIneqAKIwHbYgkRZxQcuMgFZ4IZKJasZ5c5Wcw\" />\n        </LineSetContext.Provider>\n      </Content>\n    </Layout>\n  );\n}\n\nexport default Line;\n","import React, { useReducer, useCallback, useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport {\n  LineReducer,\n  LineSetContext,\n  Sidebar,\n  SidebarBox,\n  Layout,\n  Content,\n  TextField,\n  LineUIRTC,\n  Logo,\n  Button,\n  AlertBar,\n  Switch,\n  useMediaModal\n} from 'scorer-ui-kit';\nimport { LineUIOptions, LineUIVideoOptions } from '../../../dist/LineUI';\n\nconst SwitchBox = styled.div`\n  margin-bottom: 15px;\n`;\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin: 20px 0;\n  justify-content: flex-end;\n`;\n\nconst Line: React.FC<{}> = () => {\n  const [state, dispatch] = useReducer(LineReducer, []);\n  const [error] = useState<string | null>('');\n  const [ws, setWS] = useState('localhost/wsapp');\n  const [wsURL, setWsURL] = useState('');\n  const [isShowDirection, setShowDirection] = useState<boolean>(false);\n  const {createMediaModal} = useMediaModal();\n\n  const [videoOptions, setVideoOptions]= useState<LineUIVideoOptions>({\n    loop: true,\n    autoPlay: true\n  });\n\n  const options : LineUIOptions = {\n    showSetIndex: true,\n    setIndexOffset: 1,\n    showDirectionMark: isShowDirection\n  }\n\n  const fetchLine = useCallback(async () => {\n    const state = [{\n      name: \"Line 1\",\n      points: [\n          {\n            x: 1407,\n            y: 869\n          },\n          {\n            x: 2293,\n            y: 531\n          }\n        ],\n        readOnly: false,\n        styling: \"primary\"\n      },\n      {\n        name: \"Line 2\",\n        points: [\n          {\n            x: 1426,\n            y: 254\n          },\n          {\n            x: 2260,\n            y: 283\n          }\n        ],\n        \"readOnly\": false,\n        \"styling\": \"secondary\"\n      },\n      {\n        name: \"Yikes!\",\n        points: [\n          {\n            x: 500,\n            y: 500\n          },\n          {\n            x: 1000,\n            y: 1000\n          }\n        ],\n        readOnly: false,\n        styling: \"danger\"\n      }\n    ];\n\n    dispatch({\n      type: 'LOAD',\n      state\n    });\n  }, []);\n\n  const saveLine = useCallback(async () => {\n  }, []);\n\n  useEffect(() => {\n    fetchLine();\n  }, [fetchLine]);\n\n  const connect = useCallback(()=>{\n    if(!ws){return;}\n    setWsURL(ws);\n  },[ws]);\n\n  const showDirection = useCallback((isChecked: boolean) => {\n    setShowDirection(isChecked);\n  }, []);\n\n  const handleModalClose = useCallback(() => {\n    setVideoOptions({\n      loop: true,\n      autoPlay: true\n    })\n  }, []);\n\n  const handleMediaModal = useCallback(() => {\n    setVideoOptions({\n      loop: false,\n      autoPlay: false,\n      muted: true,\n    })\n\n    createMediaModal({ mediaType: 'video', src: `ws://${wsURL}/`, dismissCallback: handleModalClose })\n  }, [createMediaModal, handleModalClose, wsURL])\n\n  return (\n    <Layout >\n      <Sidebar>\n        <Logo logoTextTop={'SCORER'} logoTextBottom={'UI Kit'} />\n        <SidebarBox style={{ flex: '1' }} >\n          <pre>\n            {JSON.stringify(state, null, 2)}\n          </pre>\n        </SidebarBox>\n        <SidebarBox>\n          <SwitchBox>\n            <Switch checked={isShowDirection} labelText='Show Direction Mark' leftTheme='off' onChangeCallback={showDirection} rightTheme='on' state='default' />\n          </SwitchBox>\n          <Button design=\"secondary\" onClick={fetchLine} >Cancel</Button>\n          <Button style={{ marginLeft: '10px' }} onClick={saveLine}>Save</Button>\n        </SidebarBox>\n      </Sidebar>\n      <Content>\n        {error && <AlertBar message={error} type='error' /> }\n        <TextField label='Host' name='host' fieldState='default' value={ws} onChange={({target:{value}})=> setWS(value)} ></TextField>\n        <Button onClick={connect}>Connect</Button>\n        {\n          wsURL && <>\n            <LineSetContext.Provider value={{ state, dispatch }}>\n              <LineUIRTC ws={`ws://${wsURL}/`} {...{videoOptions, options}}/>\n            </LineSetContext.Provider>\n            <ButtonWrapper>\n              <Button onClick={handleMediaModal}>Open Video Modal</Button>\n            </ButtonWrapper>\n          </>\n\n        }\n      </Content>\n    </Layout>\n  );\n}\n\nexport default Line;\n","import React, { useReducer, useCallback, useEffect, useState } from 'react';\n// import styled from 'styled-components';\n\nimport {\n  LineReducer,\n  LineSetContext,\n  Sidebar,\n  SidebarBox,\n  Layout,\n  LineUIVideo,\n  Content,\n  Logo,\n  ButtonWithIcon,\n  Switch,\n  Button,\n  useMediaModal,\n} from 'scorer-ui-kit';\nimport styled from 'styled-components';\nimport {LineUIOptions} from '../../../dist/LineUI';\nimport {LineUIVideoOptions} from '../../../dist/LineUI';\n\nconst StyledButton = styled(ButtonWithIcon)`\n  width: 100%;\n  margin-bottom: 15px;\n`\n\nconst ButtonWrapper = styled.div`\n  display: flex;\n  margin: 20px 0;\n  justify-content: flex-end;\n`;\n\nconst Line: React.FC<{}> = () => {\n  const [state, dispatch] = useReducer(LineReducer, []);\n  const [error] = useState<string | null>('');\n  const {createMediaModal} = useMediaModal();\n\n  const [options, setOptions] = useState<LineUIOptions>({\n    showSetIndex: true,\n    pointIndexOffset: 1,\n    showPointLabel: true,\n    setIndexOffset: 1,\n    showDirectionMark: false\n  });\n\n  const [videoOptions, setVideoOptions]= useState<LineUIVideoOptions>({\n    loop: true,\n    autoPlay: true\n  });\n\n  const fetchLine = useCallback(async () => {\n    const state = [\n      {\n        name: 'Line 1',\n        points: [\n          {\n            x: 968,\n            y: 1297\n          },\n          {\n            x: 1849,\n            y: 1393\n          }\n        ],\n        styling: 'primary'\n      },\n      {\n        name: 'Shape 1',\n        areaName: 'Traffic Area',\n        points: [\n          {\n            x: 502,\n            y: 453\n          },\n          {\n            x: 1067,\n            y: 581\n          },\n          {\n            x: 776,\n            y: 982\n          },\n          {\n            x: 376,\n            y: 782\n          }\n        ],\n        readOnly: false,\n        styling: 'secondary'\n      }\n    ];\n\n    dispatch({\n      type: 'LOAD',\n      state\n    });\n  }, []);\n\n  const addSet = useCallback( () => {\n    dispatch({\n      type: 'ADD_SET',\n      data: {\n        points: [\n          {\n            x: 0,\n            y: 0\n          },\n          {\n            x: 500,\n            y: 0\n          },\n          {\n            x: 500,\n            y: 500\n          },\n          {\n            x: 0,\n            y: 500\n          }\n        ]\n      }\n    });\n  }, []);\n\n  const removeSet = useCallback( (index = 0) => {\n    dispatch({\n      type: 'REMOVE_SET',\n      index\n    });\n  }, []);\n\n  const removePoint = useCallback( (index = 0) => {\n    dispatch({\n      type: 'REMOVE_POINT',\n      index\n    });\n  }, []);\n\n  const addPoint = useCallback( (index = 0) => {\n    dispatch({\n      type: 'ADD_POINT',\n      index\n    });\n  }, []);\n\n  useEffect(() => {\n    fetchLine();\n  }, [fetchLine])\n\n  const showDirection = useCallback((isChecked: boolean) => {\n    setOptions(previous => ({...previous, showDirectionMark: isChecked}));\n  }, []);\n\n  const handleModalClose = useCallback(() => {\n    setVideoOptions({\n      loop: true,\n      autoPlay: true\n    })\n  }, []);\n\n  const handleMediaModal = useCallback(() => {\n    setVideoOptions({\n      loop: false,\n      autoPlay: false,\n      muted: true,\n    })\n\n    createMediaModal({ mediaType: 'video', src: '/scorer-ui-kit/traffic.mp4', dismissCallback: handleModalClose })\n  }, [createMediaModal, handleModalClose])\n\n  return (\n    <Layout >\n      <Sidebar>\n        <Logo logoTextTop={'SCORER'} logoTextBottom={'UI Kit'} />\n\n        <SidebarBox>\n          <StyledButton icon={'Add'} design='primary' onClick={addSet} >Add Shape</StyledButton>\n\n          <StyledButton icon={'Add'} design='primary' onClick={()=>addPoint(state.length-1)} >Add Point</StyledButton>\n\n          <StyledButton icon={'Delete'} design='danger' onClick={()=>removePoint(state.length-1)} >Remove Point</StyledButton>\n\n          <StyledButton  icon={'Delete'}  design='danger' onClick={()=>removeSet(state.length-1)} >Remove Shape</StyledButton>\n\n          <Switch checked={options.showDirectionMark} labelText='Show Direction Mark' leftTheme='off' onChangeCallback={showDirection} rightTheme='on' state='default' />\n\n        </SidebarBox>\n        <SidebarBox style={{ flex: '1' }} >\n          <pre>\n            {JSON.stringify(state, null, 2)}\n          </pre>\n        </SidebarBox>\n      </Sidebar>\n      <Content padBottom={false}>\n        {error && <div>{error}</div>}\n        <LineSetContext.Provider value={{ state, dispatch }}>\n          <LineUIVideo options={options} videoOptions={videoOptions} src='/scorer-ui-kit/traffic.mp4' />\n        </LineSetContext.Provider>\n        <ButtonWrapper>\n          <Button onClick={handleMediaModal}>Open Video Modal</Button>\n        </ButtonWrapper>\n      </Content>\n    </Layout>\n  );\n}\n\nexport default Line;\n","import React from 'react';\nimport styled from 'styled-components';\nimport {Link} from 'react-router-dom';\nconst Container = styled.div`\n    margin: 100px 200px;\n`\n\nconst LinksPage : React.FC = () => {\n  return <Container>\n    <div><Link to={`/line`}>Line</Link></div>\n    <div><Link to={`/linertc`}>Line WebRTC</Link></div>\n    <div><Link to={`/linevideo`}>Line Video</Link></div>\n    <div><Link to={`/forms`}>Forms</Link></div>\n    <div><Link to={`/table`}>Table Example</Link></div>\n    <div><Link to={`/customdrawer`}>Custom User Drawer</Link></div>\n    <div><Link to={`/ptz`}>PTZ</Link></div>\n    <div><Link to={`/login`}>Login</Link></div>\n    <div><Link to={`/tabs`}>Tabs Example</Link></div>\n    <div><Link to='/globalUI'>Global UI</Link></div>\n    <div><a href='/scorer-ui-kit/storybook'>Storybook</a></div>\n  </Container>\n};\n\nexport default LinksPage;\n","import React, { useContext, useState, useCallback } from 'react';\nimport { Controls, PTZContext, Sidebar, SidebarHeading, AlertBar, Form, ButtonWithLoading, TextField, PasswordField, BackLink, Layout, Logo, SidebarBox } from 'scorer-ui-kit';\nimport styled from 'styled-components';\n\n\ninterface DeviceConnectionInfo {\n  host: string ,\n  username: string,\n  password: string\n}\n\nconst Content = styled.div`\n  flex: 1;\n  padding: 70px 70px 0 70px;\n  overflow-y: scroll;\n  form {\n    max-width: 600px;\n  }\n`\nconst Img = styled.img`\n  width: 100%;\n`\ninterface Props {\n}\nconst PTZ: React.FC<Props> = () => {\n\n  const {state: {image, connection, errorMessage, loading}, actions:{connect}} = useContext(PTZContext);\n\n  const [formData, setFormData] = useState<DeviceConnectionInfo>({\n    host: '',\n    username: '',\n    password: ''\n  });\n\n  const onChange = useCallback(({ target }: React.FormEvent<HTMLFormElement>) => {\n    //@ts-ignore;\n    setFormData({ ...formData, [target.id]: target.value })\n  },[formData]);\n\n  const onSubmit = useCallback((event: React.FormEvent<HTMLFormElement>)=>{\n    event.preventDefault();\n    connect(formData);\n  },[connect, formData]);\n\n  return (\n    <Layout>\n      <Sidebar>\n        <Logo logoTextTop={'SCORER'} logoTextBottom={'UI Kit'} />\n        <SidebarBox>\n          <BackLink to=\"/\" >Back</BackLink>\n          <SidebarHeading>Camera Controls</SidebarHeading>\n        </SidebarBox>\n        {connection === 'connected' && <Controls debug={true} ></Controls>}\n      </Sidebar>\n      <Content>\n        { errorMessage && <AlertBar message={errorMessage} type='error' ></AlertBar> }\n        {\n          connection === 'connected'\n          ?\n            <Img src={image||''} alt='PTZ Camera' />\n          :\n            <Form onChange={onChange} onSubmit={onSubmit}>\n              <TextField required label='PTZ Camera Hostname' fieldState='default' name='host' id='host' value={formData.host} />\n              <TextField required label='Username' fieldState='default' name='username' id='username' value={formData.username} />\n              <PasswordField required label='Password' fieldState='default' name='password' id='password' value={formData.password} />\n              <ButtonWithLoading loading={loading} type='submit' >Connect</ButtonWithLoading>\n            </Form>\n        }\n      </Content>\n    </Layout>\n  );\n}\n\nexport default PTZ;\n","var _defs, _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgLogoMark = function SvgLogoMark(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 35,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    x1: \"0%\",\n    y1: \"0%\",\n    x2: \"100%\",\n    y2: \"100%\",\n    id: \"prefix__a\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#7DB8DB\",\n    offset: \"0%\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#5CA0D1\",\n    offset: \"100%\"\n  })), /*#__PURE__*/React.createElement(\"style\", null, \"\\n            @font-face {\\n                font-family: Monorale;\\n                font-weight: 700;\\n                font-style: normal;\\n                src: url('/fonts/Monorale-Bold.woff') format('woff');\\n                font-display: fallback;\\n            }\\n        \"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"url(#prefix__a)\",\n    width: 35,\n    height: 35,\n    rx: 5\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    fontFamily: \"Monorale\",\n    fontSize: 26,\n    fontWeight: \"bold\",\n    letterSpacing: 2.167,\n    fill: \"#FFF\"\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 8.604,\n    y: 27\n  }, \"S\")))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogoMark, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo-mark.f6d05a3c.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgLogoText = function SvgLogoText(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 138,\n    height: 35,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            @font-face{font-family:Monorale;font-weight:400;font-style:normal;src:url(/fonts/Monorale-Regular.woff) format(&apos;woff&apos;);font-display:fallback}@font-face{font-family:Monorale;font-weight:500;font-style:normal;src:url(/fonts/Monorale-Medium.woff) format(&apos;woff&apos;);font-display:fallback}\\n        \"))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#93A5B2\",\n    fillRule: \"evenodd\",\n    fontFamily: \"Monorale\"\n  }, /*#__PURE__*/React.createElement(\"text\", {\n    fontSize: 16,\n    fontWeight: 400,\n    letterSpacing: 1.333\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 0,\n    y: 16\n  }, \"SCORER\")), /*#__PURE__*/React.createElement(\"text\", {\n    fontSize: 10,\n    letterSpacing: 0.833\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 0,\n    y: 31\n  }, \"UI KIT\")))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogoText, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo-text.02fd7cf3.svg\";\nexport { ForwardRef as ReactComponent };","var _defs, _g, _g2;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgLoginScreen = function SvgLoginScreen(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 170,\n    height: 35,\n    viewBox: \"0 0 170 35\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            @font-face {\\n              font-family: Monorale;\\n              font-weight: 400;\\n              font-style: normal;\\n              src: url('/fonts/Monorale-Regular.woff') format('woff');\\n              font-display: fallback;\\n            }\\n            @font-face {\\n                font-family: Monorale;\\n                font-weight: 500;\\n                font-style: normal;\\n                src: url('/fonts/Monorale-Medium.woff') format('woff');\\n                font-display: fallback;\\n            }\\n            @font-face {\\n                font-family: Monorale;\\n                font-weight: 700;\\n                font-style: normal;\\n                src: url('/fonts/Monorale-Bold.woff') format('woff');\\n                font-display: fallback;\\n            }\\n        \"), /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"logo_mask\",\n    x: 0,\n    y: 0,\n    width: \"100%\",\n    height: \"100%\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    fill: \"#fff\",\n    id: \"overlay\",\n    x: 0,\n    y: 0,\n    width: \"100%\",\n    height: \"100%\"\n  }), /*#__PURE__*/React.createElement(\"text\", {\n    fontFamily: \"Monorale\",\n    fontSize: 26,\n    fontWeight: \"bold\",\n    letterSpacing: 2.167\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 8.604,\n    y: 27\n  }, \"S\"))))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    mask: \"url(#logo_mask)\",\n    width: 35,\n    height: 35,\n    rx: 5\n  }))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"text\", {\n    fontFamily: \"Monorale\",\n    fontSize: 16,\n    fontWeight: 400,\n    letterSpacing: 1.333,\n    transform: \"translate(52 1)\"\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 0,\n    y: 15\n  }, \"SCORER\")), /*#__PURE__*/React.createElement(\"text\", {\n    fontFamily: \"Monorale\",\n    fontSize: 10,\n    letterSpacing: 0.833,\n    transform: \"translate(52 1)\"\n  }, /*#__PURE__*/React.createElement(\"tspan\", {\n    x: 0,\n    y: 30\n  }, \"UI KIT\")))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLoginScreen, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/login-screen.9c61d69f.svg\";\nexport { ForwardRef as ReactComponent };","import styled, { css, keyframes } from 'styled-components';\nimport React, { useState, useCallback, ChangeEvent } from 'react';\nimport { ButtonWithLoading, TextField, PasswordField, Form, AlertBar, AlertWrapper } from 'scorer-ui-kit';\nimport GhostLogo from '../svg/ghost-logo.svg';\nimport {LoginScreen} from '../svg';\nimport {Link} from 'react-router-dom';\n\nconst widthDesk = 480;\n\nconst gradients = {\n  \"primary\" : 'linear-gradient(-45deg, hsl(205,56%,59%), hsl(202,57%,67%))',\n  \"secondary\" : 'linear-gradient(139deg, hsl(250, 60%, 62%), hsl(0, 46%, 54%))',\n}\n\nconst RowCss = css`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst fadeInAnimation = keyframes`\n  0% {\n    opacity:0;\n  }\n  100% {\n    opacity:1;\n  }\n`;\n\nconst Box = styled.div<{ margin?: string; flex?: string;}>`\n  button{\n    width: 100%;\n  }\n  ${({ margin }) => margin && css`margin:${margin};`}\n  ${({ flex }) => flex && css`\n    flex:${flex};\n    justify-content: flex-end;\n    display: flex;\n    flex-direction: column;\n  `}\n`;\n\nconst LoginForm = styled(Form)`\n    max-width: 320px;\n    margin: auto;\n    padding: 44px 0;\n    min-height: calc(100vh - 126px);\n\n  ${({theme}) => css`\n    animation: ${fadeInAnimation} ${theme.animation.speed.normal} ${theme.animation.easing.primary.in};\n\n    ${AlertWrapper} {\n      margin-bottom: 20px;\n    }\n\n    @media ${theme.deviceMediaQuery.medium} {\n      min-height: auto;\n    }\n\n    @media ${theme.deviceMediaQuery.large} {\n      max-width: ${widthDesk}px;\n      padding: 70px;\n      margin: initial;\n    }\n  `};\n`;\n\nconst Title = styled.div`\n  font-size: 20px;\n  font-weight: 500;\n  text-align: center;\n  color: hsl(208, 8%, 38%);\n  position:relative;\n`;\n\nconst SubTitle = styled.div`\n  ${({theme}) => theme && css`\n    ${theme.typography.content.actionParagraph};\n  `};\n  margin: 23px 0 40px 0;\n`;\n\nconst ForgotLink = styled(Link)`\n  ${({theme}) => theme && css`\n    ${theme.typography.content.hyperlink.base};\n    &:hover {\n      ${theme.typography.content.hyperlink.hover};\n    }\n  `};\n`;\n\nconst ForgotLinkWrapper = styled.div`\n    text-align: center;\n    margin: 10px auto; \n`;\n\nconst CopyRightStyle = css`\n  opacity: 0.65;\n  font-size: 14px;\n  font-style: italic;\n  line-height: 1.79;\n  text-align: center;\n  color: hsl(207, 5%, 57%);\n  margin-top:49px;\n`;\n\n\nconst CopyRight = styled.div`\n  ${CopyRightStyle};\n  margin-right: 17px;\n`;\n\nconst CopyRightLink = styled(Link)`\n  ${CopyRightStyle};\n  margin: 49px 4px 0 4px;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst CopyRightDot = styled.div`\n  ${CopyRightStyle};\n  font-weight: 700;\n`;\n\nconst CopyRightGroup = styled.div`\n    ${RowCss}\n    justify-content: center;\n`;\n\nconst Container = styled.div`\n  ${CopyRightGroup}{\n    display:none;\n  }\n\n  ${({theme}) => css`\n\n    @media ${theme.deviceMediaQuery.medium} {\n      position: absolute;\n      transform: translate(-50%,-50%);\n      left: 50%;\n      top: 50%;\n      height: auto;\n\n      ${CopyRightGroup}{\n        display: flex;\n      }\n    }\n  `};\n`;\n\nconst Logo = styled(LoginScreen)`\n    height: 54px;\n    width: auto;\n`;\n\nconst LogoBackground = styled.img<{design: gradientDesign}>`\n  height: 1080px;\n  background-image: ${({design}) => gradients[design]};\n  position: absolute;\n  bottom: -360px;\n  left: -600px;\n  min-width: ${widthDesk}px;\n  object-fit: contain;\n  mix-blend-mode: overlay;\n  opacity:0.87;\n  svg {\n    width: 100%;\n  }\n\n  ${({theme}) => css`\n    @media ${theme.deviceMediaQuery.large} {\n      height: 1080px;\n      width: auto;\n      bottom: 0;\n      left: -300px;\n    }\n  `};\n`;\n\nexport const LogoContainer = styled.div`\n  height: 126px;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  align-items: center;\n  position: relative;\n  justify-content: center;\n  overflow: hidden;\n  \n  ${({theme}) => css`\n    @media ${theme.deviceMediaQuery.large} {\n      height: auto;\n      max-width: ${widthDesk}px;\n    }\n  `};\n`;\n\nconst LoginBox = styled.div`\n  border: solid 1px hsl(0, 0%, 91%);\n  max-width: ${widthDesk}px;\n  margin: auto;\n  height: 100%;\n\n  ${({theme}) => css`\n\n    @media ${theme.deviceMediaQuery.medium} {\n      box-shadow: 0 20px 30px 0 hsla(205, 24%, 26%, 0.15);\n      border-radius: 5px;\n    }\n\n    @media ${theme.deviceMediaQuery.large} {\n      ${RowCss}\n      overflow: hidden;\n      position:relative;\n      max-width: none;\n      min-width: ${widthDesk * 2}px;\n      min-height: 560px;\n\n      input{\n        min-width: 296px;\n      }\n    }\n  `};\n`;\n\ninterface AuthProps {\n  authState?: string;\n  onStateChange?: (authState: string, data?: any) => void;\n}\n\ninterface Props {\n  onLogin: (params: {username: string; password: string}) => void;\n  design?: gradientDesign\n}\ntype OwnProps = AuthProps & Props;\n\ninterface Alert {\n  type: 'error'|'warning'|'info'|'success';\n  message: string;\n}\n\ntype gradientDesign = 'primary' | 'secondary';\n\nconst Login: React.FC<OwnProps> = ({\n  onLogin,\n  design='primary',\n}) => {\n  const [loading, setLoading] = useState(false);\n  const [alert, setAlert] = useState<Alert|null>(null);\n  const [form, setForm] = useState({username:'', password:''});\n\n  const onFieldChange = useCallback((key: 'username'|'password') => ({ target: { value } }: ChangeEvent<HTMLInputElement>) => {\n    setForm({...form, [key]: value});\n  }, [form]);\n\n\n  const onSubmit = useCallback(async(e: React.FormEvent<HTMLFormElement|HTMLButtonElement>)=>{\n    e.preventDefault();\n    setLoading(true);\n    setAlert(null);\n    try {\n      const response = await onLogin(form);\n      console.log(response, 'login');\n    } catch (error) {\n      setAlert({\n        message: error.message,\n        type: 'error'\n      });\n    }\n    setLoading(false);\n  },[form, onLogin]);\n\n  return (\n    <Container>\n      <LoginBox>\n        <LogoContainer>\n          <Logo />\n          <LogoBackground src={GhostLogo} {...{design}} />\n        </LogoContainer>\n        <LoginForm onSubmit={onSubmit} spacing='25px'>\n          <Title>Sign In To Your Account</Title>\n          <SubTitle>This service requires an account to login. If you do not have one, please make one first.</SubTitle>\n          <TextField\n            fieldState='default'\n            required\n            label='Username'\n            onChange={onFieldChange('username')}\n            value={form.username}\n            name='username'\n          />\n\n          <PasswordField\n            fieldState='default'\n            required\n            label='Password'\n            onChange={onFieldChange('password')}\n            value={form.password}\n            name='password'\n          />\n          {alert && <AlertBar type={alert.type} message={alert.message} />}\n\n          <Box flex='1'>\n            <ButtonWithLoading loading={loading} type='submit' onClick={onSubmit}>Login</ButtonWithLoading>\n          </Box>\n          <ForgotLinkWrapper>\n            <ForgotLink to='#'>Forgotten Password</ForgotLink>\n          </ForgotLinkWrapper>\n\n        </LoginForm>\n      </LoginBox>\n      <CopyRightGroup>\n        <CopyRight>Copyright {new Date().getFullYear()} - Future Standard Co. Ltd. All Rights Reserved. </CopyRight>\n        <CopyRightLink to='#'>Terms</CopyRightLink>\n        <CopyRightDot>&middot;</CopyRightDot>\n        <CopyRightLink to='#'>Privacy</CopyRightLink>\n      </CopyRightGroup>\n\n\n    </Container>\n  );\n};\n\nexport default Login;","import React, {useCallback, useState} from 'react';\nimport styled from 'styled-components';\nimport { TypeTable, PageHeader, Content } from 'scorer-ui-kit';\nimport { ITableColumnConfig, ITypeTableData } from 'scorer-ui-kit/dist/Tables';\n\n\nconst Container = styled.div`\n  margin: 100px 200px;\n`\n\nconst SelectRows = styled.pre`\n  color: #666;\n  margin-top: 75px;\n  background: #eee;\n  padding: 10px;\n  white-space: normal;\n`\n\nconst columnConfig : ITableColumnConfig[] = [\n  {\n    header: 'Device Name',\n    sortable: true,\n    cellStyle: 'firstColumn',\n  },\n  {\n    header: 'Created',\n    sortable: false,\n    cellStyle: 'lowImportance',\n    alignment: 'center',\n    hasCopyButton: true\n  },\n  {\n    header: 'Usage',\n    sortable: false,\n    cellStyle: 'normalImportance',\n    alignment: 'right',\n    showUnit: true\n  },\n  {\n    header: 'Cost',\n    sortable: true,\n    cellStyle: 'highImportance',\n    alignment: 'right',\n    hasCopyButton: true\n  }\n];\n\nconst initialRows : ITypeTableData = [\n  {\n    id: 'device-id-1',\n    header: {\n      image: \"https://i.picsum.photos/id/348/3872/2592.jpg?hmac=I51bqSjuTk6zKHgtJDpMLY3kSSfAXdB8AHGmWf-Eq1Q\",\n      mediaUrl: \"/scorer-ui-kit/traffic.mp4\",\n      mediaType: 'video',\n    },\n    columns:\n    [\n      { text: 'Device Name', href: '#' },\n      { text: 'Just Now' },\n      { text: '242', unit: 'mb' },\n      { text: '20,000'}\n    ]\n  },\n  {\n    _checked: true,\n    id: 'device-id-2',\n    header: {\n      image: \"https://i.picsum.photos/id/1026/4621/3070.jpg?hmac=OJ880cIneqAKIwHbYgkRZxQcuMgFZ4IZKJasZ5c5Wcw\",\n      mediaUrl: \"https://i.picsum.photos/id/1026/4621/3070.jpg?hmac=OJ880cIneqAKIwHbYgkRZxQcuMgFZ4IZKJasZ5c5Wcw\",\n      mediaType: 'img',\n    },\n    columns:\n    [\n      { text: 'Another Device', href: '#' },\n      { text: '1st October 2019' },\n      { text: '2.1', unit: 'gb' },\n      { text: '4,000' }\n    ],\n  },\n  {\n    id: 'device-id-3',\n    header: {\n      image: \"http://placekitten.com/1934/3102\",\n      mediaUrl:\"http://placekitten.com/1934/3102\",\n      mediaType: 'img'\n    },\n    columns:\n    [\n      { text: 'Old Device', href: '#' },\n      { text: '22nd March 2020' },\n      { text: '2.1', unit: 'tb' },\n      { text: '7,000'}\n    ],\n  },\n  {\n    id: 'device-id-4',\n    header: {\n      image: \"http://placekitten.com/2934/3102\",\n      mediaUrl:\"http://wrong-url-placekitten.com/2934/3102\",\n      mediaType: 'img'\n    },\n    columns:\n    [\n      { text: 'Magic Edge Cloud', href: '#' },\n      { text: '2nd April 2020' },\n      { text: '153', unit: 'mb' },\n      { text: '25,000' }\n    ]\n  },\n  {\n    id: 'device-id-5',\n    columns:\n    [\n      { text: 'Special Camera', href: '#' },\n      { text: '16th June 2020' },\n      { text: '153', unit: 'mb' },\n      { text: '25,000' }\n    ]\n  }\n];\n\n\nconst TablePage : React.FC = () => {\n\n  const [rows, setRows] = useState<ITypeTableData>(initialRows)\n\n  // Sent to checkbox in TableRow via Table component.\n  const selectCallback = useCallback((checked:boolean, id?: string | number) => {\n\n    const newRows = [...rows];\n    const targetRowIndex = newRows.findIndex(row => row.id === id)\n    newRows[targetRowIndex]._checked = checked;\n\n    setRows(newRows);\n\n  }, [rows, setRows]);\n\n\n  const toggleAllCallback = useCallback((checked:boolean) => {\n    const newRows = [...rows];\n\n    newRows.forEach((row) => {\n      row._checked = checked;\n    });\n\n    setRows(newRows);\n  }, [rows, setRows]);\n\n\n  return <Container>\n    <Content>\n      <PageHeader title=\"Table Example\" areaTitle=\"Examples\" areaHref={'/'} />\n      <TypeTable selectable={true} {...{columnConfig, rows, selectCallback, toggleAllCallback, hasThumbnail:true}} />\n      <SelectRows>Selected IDs: [{checkedRowIDs(rows).toString()}]</SelectRows>\n    </Content>\n  </Container>\n};\n\nconst checkedRowIDs = (rows : ITypeTableData) => {\n  const ids : number|string[] = [];\n\n  rows.forEach((row) => {\n    if(row._checked && row.id){\n      ids.push(row.id.toString());\n    }\n  });\n\n  return ids;\n\n}\n\nexport default TablePage;","import React from 'react';\nimport styled from 'styled-components';\nimport { TopBar } from 'scorer-ui-kit';\n\n\nconst Container = styled.div`\n  margin: 0;\n`\n\nconst CustomContentContainer = styled.div`\n  padding: 10px 20px;\n  border-bottom: ${({theme: {colors}}) => colors.divider} 1px solid;\n`\n\nconst ExampleText = styled.div`\n  font-size: 14px;\n  font-style: italic;\n  line-height: 20px;\n  color: #999999;\n`\n\nconst loggedInUser = \"full.name@example.com\";\nconst userSubmenu = [\n  {\n    text: 'Accounts',\n    href: '#'\n  },\n  {\n    text: 'Billing',\n    href: '#'\n  },\n  {\n    text: 'Payments',\n    href: '#'\n  }\n]\n\nconst hasSearch = true;\nconst useNotifications = true;\nconst hasLanguage = true;\nconst logoutLink = \"#\"\nconst searchPlaceholder = \"Search area names, etc.\";\n\n\n\nconst CustomUserDrawerPage : React.FC = () => {\n\n\n  const userDrawerBespoke = <CustomContentContainer>\n    <ExampleText>\n      <p>Custom content can be injected under the user menu like this.</p>\n      <p>The styling for this is left to you to include, keeping it flexible.</p>\n    </ExampleText>\n  </CustomContentContainer>\n\n  // userDrawerBespoke: See examples for implementation of this prop.\n\n  return <Container><TopBar {...{userDrawerBespoke, loggedInUser, userSubmenu, hasSearch, useNotifications, logoutLink, searchPlaceholder, hasLanguage}}/></Container>;\n};\n\nexport default CustomUserDrawerPage;","import React from 'react';\nimport styled from 'styled-components';\nimport { PageHeader, Content, Button, Label, TextField, Tabs, Tab, TabList, TabContent } from 'scorer-ui-kit';\n\nconst Container = styled.div`\n  margin: 100px 200px;\n`\n\nconst Divider = styled.div`\n  height: 1px;\n  border-radius: 3px;\n  background-color: #efefef;\n  margin-left: 0px;\n`;\n\nconst Tab1Container = styled.div`\n  margin-top: 20px;\n`\n\nconst Tab2Container = styled.div`\n  margin-top: 20px;\n`\n\nconst TabsPage: React.FC = () => {\n\n  return <Container>\n    <Content>\n      <PageHeader title=\"Tabs Example\" areaTitle=\"Examples\" areaHref={'/'} />\n      <Tabs>\n        <TabList defaultTabId='tab1'>\n          <Tab tabFor='tab1'>Tab 1</Tab>\n          <Tab tabFor='tab2'>Tab 2</Tab>\n        </TabList>\n        <Divider />\n        <TabContent tabId='tab1'>\n          <Tab1Container>\n            <Label htmlFor='' labelText='Content of tab 1' />\n            <TextField fieldState='default' required label='Full Name' name='fullname' />\n            <TextField fieldState='default' required label='Department' name='department' />\n            <Button design='primary' size='small'> Save </Button>\n          </Tab1Container>\n        </TabContent>\n        <TabContent tabId='tab2'>\n          <Tab2Container>\n            <Label htmlFor='' labelText='Content of tab 2' />\n            <Label htmlFor='' labelText='Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet erat et sapien pulvinar efficitur. Quisque tristique massa at auctor rhoncus. Ut venenatis sem id gravida volutpat. Phasellus faucibus accumsan sapien, id pellentesque dolor consectetur quis. Duis non rhoncus nunc. Suspendisse et rhoncus tortor.' /> \n            <Button design='primary' size='small'> OK </Button>\n          </Tab2Container>\n        </TabContent>\n      </Tabs>\n    </Content>\n  </Container>\n};\n\nexport default TabsPage;","import React, { FC } from \"react\";\nimport { GlobalUI } from \"scorer-ui-kit\";\n\nconst GlobalUIPage: FC = () => {\n  return (\n    <GlobalUI\n      accountOptionText=\"Account Options\"\n      canAlwaysPin\n      content={{\n        items: [\n          {\n            href: \"/welcome\",\n            icon: \"Home\",\n            title: \"Welcome\",\n          },\n          {\n            href: \"/company\",\n            icon: \"Detection\",\n            submenu: [\n              {\n                href: \"/company/about\",\n                title: \"About us\",\n              },\n              {\n                href: \"/company/team\",\n                title: \"Team\",\n              },\n              {\n                href: \"/company/contact\",\n                title: \"Contact\",\n              },\n              {\n                href: \"/company/table-example\",\n                title: \"Table Example\",\n              },\n              {\n                href: \"https://www.google.com/\",\n                isExternalLink: true,\n                title: \"External link\",\n              },\n            ],\n            title: \"Company\",\n          },\n          {\n            href: \"/services\",\n            icon: \"Usage\",\n            submenu: [\n              {\n                title: \"Online Services\",\n              },\n              {\n                href: \"/services/custom\",\n                title: \"Service custom\",\n              },\n              {\n                href: \"/services/special\",\n                title: \"Service special\",\n              },\n              {\n                href: \"/services/extra-special\",\n                title: \"Service extra special\",\n              },\n              {\n                title: \"On site Services\",\n              },\n              {\n                href: \"/services/special\",\n                title: \"Service special\",\n              },\n              {\n                href: \"/services/extra-special\",\n                title: \"Service extra special\",\n              },\n            ],\n            title: \"Services\",\n          },\n          {\n            href: \"https://www.google.com/maps\",\n            icon: \"Zone\",\n            isExternalLink: true,\n            title: \"External link\",\n          },\n        ],\n      }}\n      currentUserText=\"Current User\"\n      customDrawer={{\n        customComponent: <h1>Hello Drawer</h1>,\n        icon: \"Add\",\n        status: \"danger\",\n        width: \"280px;\",\n      }}\n      hasCurrentUser\n      hasLanguage\n      hasLogout\n      hasNotifications\n      hasSearch\n      home=\"#\"\n      loggedInUser=\"full.name@example.com\"\n      logoutLink=\"#\"\n      logoutText=\"Logout\"\n      maxWidth=\"1200px\"\n      notificationsHistory={{\n        noNotificationsText: \"No new notifications\",\n        read: [\n          {\n            imgUrl: \"\",\n            message: \"The device has correctly turn off\",\n            time: \"3 days ago\",\n            title: \"Device is off\",\n          },\n          {\n            imgUrl: \"\",\n            message: \"The device has correctly turn on\",\n            time: \"3 days ago\",\n            title: \"Device is on\",\n          },\n          {\n            imgUrl: \"\",\n            message: \"The device has bean correctly added\",\n            time: \"3 days ago\",\n            title: \"A new device was added\",\n          },\n        ],\n        readNotificationsText: \"New\",\n        unread: [\n          {\n            imgUrl: \"\",\n            message:\n              \"A short message limited to two lines. Extra text will just truncat...\",\n            time: \"Just Now\",\n            title: \"Event Type\",\n          },\n          {\n            imgUrl: \"\",\n            message: \"The device has correctly turn off\",\n            time: \"1 min ago\",\n            title: \"Device is off\",\n          },\n          {\n            imgUrl: \"\",\n            message: \"The device has correctly turn on\",\n            time: \"6 mins ago\",\n            title: \"Device is on\",\n          },\n          {\n            imgUrl: \"\",\n            message:\n              \"The connections is not working properly. Please verify your connection or contact your personal support.\",\n            time: \"1 hour ago\",\n            title: \"Connection was interrupted\",\n          },\n          {\n            imgUrl: \"\",\n            message: \"The device has correctly turn off\",\n            time: \"3 hour ago\",\n            title: \"Device is off\",\n          },\n        ],\n        unreadNotificationsText: \"Read\",\n      }}\n      paddingOverride=\"70px 90px\"\n      searchPlaceholder=\"Search area names, etc.\"\n      supportUrl=\"/support\"\n      userSubmenu={[\n        {\n          href: \"/user/accounts\",\n          text: \"Accounts\",\n        },\n        {\n          href: \"/user/billing\",\n          text: \"Billing\",\n        },\n        {\n          href: \"/user/payments\",\n          text: \"Payments\",\n        },\n      ]}\n    >\n    </GlobalUI>\n  );\n};\n\nexport default GlobalUIPage;\n","import React from 'react';\n\nimport {\n  HashRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport { PTZProvider } from 'scorer-ui-kit';\n//pages\nimport FormPage from './pages/FormPage';\nimport LinePage from './pages/LinePage';\nimport LineRTCPage from './pages/LineRTCPage';\nimport LineVideoPage from './pages/LineVideoPage';\nimport LinksPage from './pages/LinksPage';\nimport PTZPage from './pages/PTZPage';\nimport LoginPage from './pages/Login';\nimport TablePage from './pages/TablePage';\nimport CustomUserDrawerPage from './pages/CustomUserDrawerPage';\nimport TabsPage from './pages/TabsPage';\nimport GlobalUIPage from './pages/GlobalUIPage';\n\nconst App: React.FC<{}> = () => {\n  return (\n\n    <Router>\n      <Switch>\n        <Route path={`/`} exact={true} component={LinksPage} />\n        <Route path={`/line`} exact={true} component={LinePage} />\n        <Route path={`/linevideo`} exact={true} component={LineVideoPage} />\n        <Route path={`/linertc`} exact={true} component={LineRTCPage} />\n        <Route path={`/login`} exact={true} component={LoginPage} />\n        <Route path={`/forms`} exact={true} component={FormPage} />\n        <Route path={`/table`} exact={true} component={TablePage} />\n        <Route path={`/customdrawer`} exact={true} component={CustomUserDrawerPage} />\n        <Route path={`/ptz`} exact={true}>\n          <PTZProvider socketUrl='ws://localhost/wsapp/' imageRefresh={2000}>\n            <PTZPage />\n          </PTZProvider>\n        </Route>\n        <Route path={`/tabs`} exact={true} component={TabsPage} />\n        <Route path='/globalUI' exact component={GlobalUIPage} />\n      </Switch>\n    </Router>\n  )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Common_en from './locales/en/Common.json';\nimport Common_ja from './locales/ja/Common.json';\n\nimport LanguageDetector from 'i18next-browser-languagedetector';\nconst resources = {\n  en: {\n    Common: Common_en\n  },\n  ja: {\n    Common: Common_ja\n  }\n};\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    fallbackLng: 'ja',\n    // lng: 'en',\n    keySeparator: '.', // we do not use keys in form messages.welcome\n    interpolation: {\n      escapeValue: false, // react already safes from xss\n    },\n    // caches: ['localStorage', 'cookie'],\n  });\n\nexport default i18n;\n","import { createGlobalStyle } from 'styled-components';\n\nimport LatoThin from './Lato-Thin.ttf';\nimport LatoLight from './Lato-Light.ttf';\nimport LatoRegular from './Lato-Regular.ttf';\nimport LatoBold from './Lato-Bold.ttf';\nimport MonoraleThin from './Monorale-Thin.woff'\nimport MonoraleThinItalic from './Monorale-ThinItalic.woff';\nimport MonoraleExtraLight from './Monorale-ExtraLight.woff';\nimport MonoraleExtraLightItalic from './Monorale-ExtraLightItalic.woff';\nimport MonoraleLight from './Monorale-Light.woff';\nimport MonoraleLightItalic from './Monorale-LightItalic.woff';\nimport MonoraleRegular from './Monorale-Regular.woff';\nimport MonoraleItalic from './Monorale-Italic.woff';\nimport MonoraleMedium from './Monorale-Medium.woff';\nimport MonoraleMediumItalic from './Monorale-MediumItalic.woff';\nimport MonoraleSemiBold from './Monorale-SemiBold.woff';\nimport MonoraleSemiBoldItalic from './Monorale-SemiBoldItalic.woff';\nimport MonoraleBold from './Monorale-Bold.woff';\nimport MonoraleBoldItalic from './Monorale-BoldItalic.woff';\nimport MonoraleExtraBold from './Monorale-ExtraBold.woff';\nimport MonoraleExtraBoldItalic from './Monorale-ExtraBoldItalic.woff';\nimport MonoraleBlack from './Monorale-Black.woff';\nimport MonoraleBlackItalic from './Monorale-BlackItalic.woff';\n\n\nconst GlobalStyle = createGlobalStyle`\n  @font-face {\n    font-family: 'Lato';\n    font-style: normal;\n    font-weight: 100;\n    src: url(${LatoThin}) format('truetype');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: 'Lato';\n    font-style: light;\n    font-weight: 300;\n    src: url(${LatoLight}) format('truetype');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: 'Lato';\n    font-style: normal;\n    font-weight: 400;\n    src: url(${LatoRegular}) format('truetype');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: 'Lato';\n    font-style: bold;\n    font-weight: 700;\n    src: url(${LatoBold}) format('truetype');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 100;\n    font-style: normal;\n    src: url(${MonoraleThin}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 100;\n    font-style: italic;\n    src: url(${MonoraleThinItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 200;\n    font-style: normal;\n    src: url(${MonoraleExtraLight}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 200;\n    font-style: italic;\n    src: url(${MonoraleExtraLightItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 300;\n    font-style: normal;\n    src: url(${MonoraleLight}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 300;\n    font-style: italic;\n    src: url(${MonoraleLightItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 400;\n    font-style: normal;\n    src: url(${MonoraleRegular}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 400;\n    font-style: italic;\n    src: url(${MonoraleItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 500;\n    font-style: normal;\n    src: url(${MonoraleMedium}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 500;\n    font-style: italic;\n    src: url(${MonoraleMediumItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 600;\n    font-style: normal;\n    src: url(${MonoraleSemiBold}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 600;\n    font-style: italic;\n    src: url(${MonoraleSemiBoldItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 700;\n    font-style: normal;\n    src: url(${MonoraleBold}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 700;\n    font-style: italic;\n    src: url(${MonoraleBoldItalic}) format('woff');\n    font-display: fallback;\n}\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 800;\n    font-style: normal;\n    src: url(${MonoraleExtraBold}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 800;\n    font-style: italic;\n    src: url(${MonoraleExtraBoldItalic}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 900;\n    font-style: normal;\n    src: url(${MonoraleBlack}) format('woff');\n    font-display: fallback;\n  }\n\n  @font-face {\n    font-family: Monorale;\n    font-weight: 900;\n    font-style: italic;\n    src: url(${MonoraleBlackItalic}) format('woff');\n    font-display: fallback;\n  }\n`\nexport default GlobalStyle;","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  * , body{\n    box-sizing: border-box;\n  }\n  body, html , #root {\n    min-width: 100%;\n    min-height: 100vh;\n    height: 100%;\n    margin: 0;\n  }\n  html {\n    /* background-image: radial-gradient(circle at 55% 1%, #303335, #212427 117%), url(./noise.png);\n    background-repeat: no-repeat, repeat; */\n  }\n  body {\n    font-family: Monorale, Hiragino Sans, \"\", Hiragino Kaku Gothic ProN, \" ProN W3\", Roboto, YuGothic, \"\", Meiryo, \"\", sans-serif;\n    color: lightgray;\n  }\n\n`\nexport default GlobalStyle;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { lightTheme,\n          NotificationProvider,\n          ModalProvider\n        } from 'scorer-ui-kit';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './i18n';\nimport Fonts from './fonts';\nimport Style from './style';\n\n//@ts-ignore\nlightTheme.custom.lines['weird'] = {\n  label: {\n      fill: \"#fff\"\n  },\n  contrastLine: {\n      stroke:  'transparent;'\n  },\n  highlightLine: {\n      stroke:  'transparent;'\n  },\n  grabHandle: {\n    fill: 'transparent;',\n    stroke: 'transparent;'\n  },\n  point:{\n    fill: 'hsla(205deg, 45%, 90%, 100%)',\n  },\n  grabHandleText:{\n    fill: 'transparent'\n  },\n  grabHandleContrast:{\n    fill: 'transparent'\n  },\n  handleBase: {\n    fill: 'transparent'\n  },\n  handleRingLayer: {\n    stroke: 'hsla(205deg, 100%, 89%, 100%);'\n  },\n  handleReactiveFill:{\n    stroke: 'transparent;'\n  },\n  handleReactiveRing:{\n    stroke: 'transparent;'\n  },\n  handleContrastLayer:{\n    stroke: 'transparent;'\n  },\n  stopStart:{\n      stopColor:' hsla(0, 100%, 15%, 35%);'\n  },\n  stopEnd:{\n      stopColor: 'hsla(0, 100%, 15%, 0%);'\n  }\n};\n\nReactDOM.render(\n  <React.StrictMode>\n   <ThemeProvider theme={ lightTheme}>\n    <ModalProvider>\n      <NotificationProvider>\n        <App />\n        <Fonts />\n        <Style />\n      </NotificationProvider>\n    </ModalProvider>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/ghost-logo.b349b992.svg\";","module.exports = __webpack_public_path__ + \"static/media/Lato-Thin.8a6b4530.ttf\";","module.exports = __webpack_public_path__ + \"static/media/Lato-Light.0f73589a.ttf\";","module.exports = __webpack_public_path__ + \"static/media/Lato-Regular.c5eb5440.ttf\";","module.exports = __webpack_public_path__ + \"static/media/Lato-Bold.2d15decc.ttf\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Thin.ad1820a1.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-ThinItalic.70996eb1.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-ExtraLight.70e5cc38.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-ExtraLightItalic.311e1eef.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Light.86013ad2.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-LightItalic.71ba3bad.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Regular.fbd50651.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Italic.fe48f5fa.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Medium.91605ea0.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-MediumItalic.62d7429d.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-SemiBold.a914a148.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-SemiBoldItalic.62a3bd14.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Bold.62804d53.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-BoldItalic.14f46724.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-ExtraBold.33432f37.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-ExtraBoldItalic.e652eed8.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-Black.d079d5df.woff\";","module.exports = __webpack_public_path__ + \"static/media/Monorale-BlackItalic.fab097e0.woff\";"],"sourceRoot":""}